function BS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Aa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $S(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var wv={exports:{}},oc={},Tv={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rN;function rD(){if(rN)return ut;rN=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),a=Symbol.for("react.lazy"),d=Symbol.iterator;function h(V){return V===null||typeof V!="object"?null:(V=d&&V[d]||V["@@iterator"],typeof V=="function"?V:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function v(V,C,L){this.props=V,this.context=C,this.refs=g,this.updater=L||m}v.prototype.isReactComponent={},v.prototype.setState=function(V,C){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,C,"setState")},v.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function w(){}w.prototype=v.prototype;function T(V,C,L){this.props=V,this.context=C,this.refs=g,this.updater=L||m}var N=T.prototype=new w;N.constructor=T,y(N,v.prototype),N.isPureReactComponent=!0;var b=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function M(V,C,L){var I,j={},$=null,oe=null;if(C!=null)for(I in C.ref!==void 0&&(oe=C.ref),C.key!==void 0&&($=""+C.key),C)S.call(C,I)&&!O.hasOwnProperty(I)&&(j[I]=C[I]);var q=arguments.length-2;if(q===1)j.children=L;else if(1<q){for(var se=Array(q),ge=0;ge<q;ge++)se[ge]=arguments[ge+2];j.children=se}if(V&&V.defaultProps)for(I in q=V.defaultProps,q)j[I]===void 0&&(j[I]=q[I]);return{$$typeof:e,type:V,key:$,ref:oe,props:j,_owner:x.current}}function U(V,C){return{$$typeof:e,type:V.type,key:C,ref:V.ref,props:V.props,_owner:V._owner}}function z(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function Q(V){var C={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(L){return C[L]})}var ee=/\/+/g;function X(V,C){return typeof V=="object"&&V!==null&&V.key!=null?Q(""+V.key):C.toString(36)}function F(V,C,L,I,j){var $=typeof V;($==="undefined"||$==="boolean")&&(V=null);var oe=!1;if(V===null)oe=!0;else switch($){case"string":case"number":oe=!0;break;case"object":switch(V.$$typeof){case e:case t:oe=!0}}if(oe)return oe=V,j=j(oe),V=I===""?"."+X(oe,0):I,b(j)?(L="",V!=null&&(L=V.replace(ee,"$&/")+"/"),F(j,C,L,"",function(ge){return ge})):j!=null&&(z(j)&&(j=U(j,L+(!j.key||oe&&oe.key===j.key?"":(""+j.key).replace(ee,"$&/")+"/")+V)),C.push(j)),1;if(oe=0,I=I===""?".":I+":",b(V))for(var q=0;q<V.length;q++){$=V[q];var se=I+X($,q);oe+=F($,C,L,se,j)}else if(se=h(V),typeof se=="function")for(V=se.call(V),q=0;!($=V.next()).done;)$=$.value,se=I+X($,q++),oe+=F($,C,L,se,j);else if($==="object")throw C=String(V),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.");return oe}function J(V,C,L){if(V==null)return V;var I=[],j=0;return F(V,I,"","",function($){return C.call(L,$,j++)}),I}function K(V){if(V._status===-1){var C=V._result;C=C(),C.then(function(L){(V._status===0||V._status===-1)&&(V._status=1,V._result=L)},function(L){(V._status===0||V._status===-1)&&(V._status=2,V._result=L)}),V._status===-1&&(V._status=0,V._result=C)}if(V._status===1)return V._result.default;throw V._result}var te={current:null},G={transition:null},H={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:G,ReactCurrentOwner:x};function W(){throw Error("act(...) is not supported in production builds of React.")}return ut.Children={map:J,forEach:function(V,C,L){J(V,function(){C.apply(this,arguments)},L)},count:function(V){var C=0;return J(V,function(){C++}),C},toArray:function(V){return J(V,function(C){return C})||[]},only:function(V){if(!z(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},ut.Component=v,ut.Fragment=n,ut.Profiler=i,ut.PureComponent=T,ut.StrictMode=r,ut.Suspense=l,ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,ut.act=W,ut.cloneElement=function(V,C,L){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var I=y({},V.props),j=V.key,$=V.ref,oe=V._owner;if(C!=null){if(C.ref!==void 0&&($=C.ref,oe=x.current),C.key!==void 0&&(j=""+C.key),V.type&&V.type.defaultProps)var q=V.type.defaultProps;for(se in C)S.call(C,se)&&!O.hasOwnProperty(se)&&(I[se]=C[se]===void 0&&q!==void 0?q[se]:C[se])}var se=arguments.length-2;if(se===1)I.children=L;else if(1<se){q=Array(se);for(var ge=0;ge<se;ge++)q[ge]=arguments[ge+2];I.children=q}return{$$typeof:e,type:V.type,key:j,ref:$,props:I,_owner:oe}},ut.createContext=function(V){return V={$$typeof:s,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:o,_context:V},V.Consumer=V},ut.createElement=M,ut.createFactory=function(V){var C=M.bind(null,V);return C.type=V,C},ut.createRef=function(){return{current:null}},ut.forwardRef=function(V){return{$$typeof:c,render:V}},ut.isValidElement=z,ut.lazy=function(V){return{$$typeof:a,_payload:{_status:-1,_result:V},_init:K}},ut.memo=function(V,C){return{$$typeof:u,type:V,compare:C===void 0?null:C}},ut.startTransition=function(V){var C=G.transition;G.transition={};try{V()}finally{G.transition=C}},ut.unstable_act=W,ut.useCallback=function(V,C){return te.current.useCallback(V,C)},ut.useContext=function(V){return te.current.useContext(V)},ut.useDebugValue=function(){},ut.useDeferredValue=function(V){return te.current.useDeferredValue(V)},ut.useEffect=function(V,C){return te.current.useEffect(V,C)},ut.useId=function(){return te.current.useId()},ut.useImperativeHandle=function(V,C,L){return te.current.useImperativeHandle(V,C,L)},ut.useInsertionEffect=function(V,C){return te.current.useInsertionEffect(V,C)},ut.useLayoutEffect=function(V,C){return te.current.useLayoutEffect(V,C)},ut.useMemo=function(V,C){return te.current.useMemo(V,C)},ut.useReducer=function(V,C,L){return te.current.useReducer(V,C,L)},ut.useRef=function(V){return te.current.useRef(V)},ut.useState=function(V){return te.current.useState(V)},ut.useSyncExternalStore=function(V,C,L){return te.current.useSyncExternalStore(V,C,L)},ut.useTransition=function(){return te.current.useTransition()},ut.version="18.3.1",ut}var iN;function ll(){return iN||(iN=1,Tv.exports=rD()),Tv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oN;function iD(){if(oN)return oc;oN=1;var e=ll(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(c,l,u){var a,d={},h=null,m=null;u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(m=l.ref);for(a in l)r.call(l,a)&&!o.hasOwnProperty(a)&&(d[a]=l[a]);if(c&&c.defaultProps)for(a in l=c.defaultProps,l)d[a]===void 0&&(d[a]=l[a]);return{$$typeof:t,type:c,key:h,ref:m,props:d,_owner:i.current}}return oc.Fragment=n,oc.jsx=s,oc.jsxs=s,oc}var sN;function oD(){return sN||(sN=1,wv.exports=iD()),wv.exports}var P=oD(),Xd={},_v={exports:{}},ir={},Nv={exports:{}},bv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aN;function sD(){return aN||(aN=1,function(e){function t(G,H){var W=G.length;G.push(H);e:for(;0<W;){var V=W-1>>>1,C=G[V];if(0<i(C,H))G[V]=H,G[W]=C,W=V;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var H=G[0],W=G.pop();if(W!==H){G[0]=W;e:for(var V=0,C=G.length,L=C>>>1;V<L;){var I=2*(V+1)-1,j=G[I],$=I+1,oe=G[$];if(0>i(j,W))$<C&&0>i(oe,j)?(G[V]=oe,G[$]=W,V=$):(G[V]=j,G[I]=W,V=I);else if($<C&&0>i(oe,W))G[V]=oe,G[$]=W,V=$;else break e}}return H}function i(G,H){var W=G.sortIndex-H.sortIndex;return W!==0?W:G.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var l=[],u=[],a=1,d=null,h=3,m=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(G){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=G)r(u),H.sortIndex=H.expirationTime,t(l,H);else break;H=n(u)}}function b(G){if(g=!1,N(G),!y)if(n(l)!==null)y=!0,K(S);else{var H=n(u);H!==null&&te(b,H.startTime-G)}}function S(G,H){y=!1,g&&(g=!1,w(M),M=-1),m=!0;var W=h;try{for(N(H),d=n(l);d!==null&&(!(d.expirationTime>H)||G&&!Q());){var V=d.callback;if(typeof V=="function"){d.callback=null,h=d.priorityLevel;var C=V(d.expirationTime<=H);H=e.unstable_now(),typeof C=="function"?d.callback=C:d===n(l)&&r(l),N(H)}else r(l);d=n(l)}if(d!==null)var L=!0;else{var I=n(u);I!==null&&te(b,I.startTime-H),L=!1}return L}finally{d=null,h=W,m=!1}}var x=!1,O=null,M=-1,U=5,z=-1;function Q(){return!(e.unstable_now()-z<U)}function ee(){if(O!==null){var G=e.unstable_now();z=G;var H=!0;try{H=O(!0,G)}finally{H?X():(x=!1,O=null)}}else x=!1}var X;if(typeof T=="function")X=function(){T(ee)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,J=F.port2;F.port1.onmessage=ee,X=function(){J.postMessage(null)}}else X=function(){v(ee,0)};function K(G){O=G,x||(x=!0,X())}function te(G,H){M=v(function(){G(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,K(S))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var W=h;h=H;try{return G()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,H){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var W=h;h=G;try{return H()}finally{h=W}},e.unstable_scheduleCallback=function(G,H,W){var V=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?V+W:V):W=V,G){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=W+C,G={id:a++,callback:H,priorityLevel:G,startTime:W,expirationTime:C,sortIndex:-1},W>V?(G.sortIndex=W,t(u,G),n(l)===null&&G===n(u)&&(g?(w(M),M=-1):g=!0,te(b,W-V))):(G.sortIndex=C,t(l,G),y||m||(y=!0,K(S))),G},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(G){var H=h;return function(){var W=h;h=H;try{return G.apply(this,arguments)}finally{h=W}}}}(bv)),bv}var uN;function VS(){return uN||(uN=1,Nv.exports=sD()),Nv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lN;function aD(){if(lN)return ir;lN=1;var e=ll(),t=VS();function n(f){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+f,E=1;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(f,p){s(f,p),s(f+"Capture",p)}function s(f,p){for(i[f]=p,f=0;f<p.length;f++)r.add(p[f])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a={},d={};function h(f){return l.call(d,f)?!0:l.call(a,f)?!1:u.test(f)?d[f]=!0:(a[f]=!0,!1)}function m(f,p,E,_){if(E!==null&&E.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return _?!1:E!==null?!E.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function y(f,p,E,_){if(p===null||typeof p>"u"||m(f,p,E,_))return!0;if(_)return!1;if(E!==null)switch(E.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function g(f,p,E,_,R,A,D){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=_,this.attributeNamespace=R,this.mustUseProperty=E,this.propertyName=f,this.type=p,this.sanitizeURL=A,this.removeEmptyString=D}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){v[f]=new g(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var p=f[0];v[p]=new g(p,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){v[f]=new g(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){v[f]=new g(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){v[f]=new g(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){v[f]=new g(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){v[f]=new g(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){v[f]=new g(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){v[f]=new g(f,5,!1,f.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function T(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var p=f.replace(w,T);v[p]=new g(p,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var p=f.replace(w,T);v[p]=new g(p,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var p=f.replace(w,T);v[p]=new g(p,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){v[f]=new g(f,1,!1,f.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){v[f]=new g(f,1,!1,f.toLowerCase(),null,!0,!0)});function N(f,p,E,_){var R=v.hasOwnProperty(p)?v[p]:null;(R!==null?R.type!==0:_||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(y(p,E,R,_)&&(E=null),_||R===null?h(p)&&(E===null?f.removeAttribute(p):f.setAttribute(p,""+E)):R.mustUseProperty?f[R.propertyName]=E===null?R.type===3?!1:"":E:(p=R.attributeName,_=R.attributeNamespace,E===null?f.removeAttribute(p):(R=R.type,E=R===3||R===4&&E===!0?"":""+E,_?f.setAttributeNS(_,p,E):f.setAttribute(p,E))))}var b=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),x=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),Q=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),G=Symbol.iterator;function H(f){return f===null||typeof f!="object"?null:(f=G&&f[G]||f["@@iterator"],typeof f=="function"?f:null)}var W=Object.assign,V;function C(f){if(V===void 0)try{throw Error()}catch(E){var p=E.stack.trim().match(/\n( *(at )?)/);V=p&&p[1]||""}return`
`+V+f}var L=!1;function I(f,p){if(!f||L)return"";L=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(ce){var _=ce}Reflect.construct(f,[],p)}else{try{p.call()}catch(ce){_=ce}f.call(p.prototype)}else{try{throw Error()}catch(ce){_=ce}f()}}catch(ce){if(ce&&_&&typeof ce.stack=="string"){for(var R=ce.stack.split(`
`),A=_.stack.split(`
`),D=R.length-1,Y=A.length-1;1<=D&&0<=Y&&R[D]!==A[Y];)Y--;for(;1<=D&&0<=Y;D--,Y--)if(R[D]!==A[Y]){if(D!==1||Y!==1)do if(D--,Y--,0>Y||R[D]!==A[Y]){var Z=`
`+R[D].replace(" at new "," at ");return f.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",f.displayName)),Z}while(1<=D&&0<=Y);break}}}finally{L=!1,Error.prepareStackTrace=E}return(f=f?f.displayName||f.name:"")?C(f):""}function j(f){switch(f.tag){case 5:return C(f.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 2:case 15:return f=I(f.type,!1),f;case 11:return f=I(f.type.render,!1),f;case 1:return f=I(f.type,!0),f;default:return""}}function $(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case O:return"Fragment";case x:return"Portal";case U:return"Profiler";case M:return"StrictMode";case X:return"Suspense";case F:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case Q:return(f.displayName||"Context")+".Consumer";case z:return(f._context.displayName||"Context")+".Provider";case ee:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case J:return p=f.displayName||null,p!==null?p:$(f.type)||"Memo";case K:p=f._payload,f=f._init;try{return $(f(p))}catch{}}return null}function oe(f){var p=f.type;switch(f.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=p.render,f=f.displayName||f.name||"",p.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(p);case 8:return p===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function q(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function se(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function ge(f){var p=se(f)?"checked":"value",E=Object.getOwnPropertyDescriptor(f.constructor.prototype,p),_=""+f[p];if(!f.hasOwnProperty(p)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var R=E.get,A=E.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return R.call(this)},set:function(D){_=""+D,A.call(this,D)}}),Object.defineProperty(f,p,{enumerable:E.enumerable}),{getValue:function(){return _},setValue:function(D){_=""+D},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function we(f){f._valueTracker||(f._valueTracker=ge(f))}function be(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var E=p.getValue(),_="";return f&&(_=se(f)?f.checked?"true":"false":f.value),f=_,f!==E?(p.setValue(f),!0):!1}function Re(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function Qe(f,p){var E=p.checked;return W({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:E??f._wrapperState.initialChecked})}function ze(f,p){var E=p.defaultValue==null?"":p.defaultValue,_=p.checked!=null?p.checked:p.defaultChecked;E=q(p.value!=null?p.value:E),f._wrapperState={initialChecked:_,initialValue:E,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function Rt(f,p){p=p.checked,p!=null&&N(f,"checked",p,!1)}function Xe(f,p){Rt(f,p);var E=q(p.value),_=p.type;if(E!=null)_==="number"?(E===0&&f.value===""||f.value!=E)&&(f.value=""+E):f.value!==""+E&&(f.value=""+E);else if(_==="submit"||_==="reset"){f.removeAttribute("value");return}p.hasOwnProperty("value")?Me(f,p.type,E):p.hasOwnProperty("defaultValue")&&Me(f,p.type,q(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(f.defaultChecked=!!p.defaultChecked)}function xe(f,p,E){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var _=p.type;if(!(_!=="submit"&&_!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+f._wrapperState.initialValue,E||p===f.value||(f.value=p),f.defaultValue=p}E=f.name,E!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,E!==""&&(f.name=E)}function Me(f,p,E){(p!=="number"||Re(f.ownerDocument)!==f)&&(E==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+E&&(f.defaultValue=""+E))}var it=Array.isArray;function gt(f,p,E,_){if(f=f.options,p){p={};for(var R=0;R<E.length;R++)p["$"+E[R]]=!0;for(E=0;E<f.length;E++)R=p.hasOwnProperty("$"+f[E].value),f[E].selected!==R&&(f[E].selected=R),R&&_&&(f[E].defaultSelected=!0)}else{for(E=""+q(E),p=null,R=0;R<f.length;R++){if(f[R].value===E){f[R].selected=!0,_&&(f[R].defaultSelected=!0);return}p!==null||f[R].disabled||(p=f[R])}p!==null&&(p.selected=!0)}}function Ze(f,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return W({},p,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function ye(f,p){var E=p.value;if(E==null){if(E=p.children,p=p.defaultValue,E!=null){if(p!=null)throw Error(n(92));if(it(E)){if(1<E.length)throw Error(n(93));E=E[0]}p=E}p==null&&(p=""),E=p}f._wrapperState={initialValue:q(E)}}function ne(f,p){var E=q(p.value),_=q(p.defaultValue);E!=null&&(E=""+E,E!==f.value&&(f.value=E),p.defaultValue==null&&f.defaultValue!==E&&(f.defaultValue=E)),_!=null&&(f.defaultValue=""+_)}function le(f){var p=f.textContent;p===f._wrapperState.initialValue&&p!==""&&p!==null&&(f.value=p)}function de(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(f,p){return f==null||f==="http://www.w3.org/1999/xhtml"?de(p):f==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var ke,rt=function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,E,_,R){MSApp.execUnsafeLocalFunction(function(){return f(p,E,_,R)})}:f}(function(f,p){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=p;else{for(ke=ke||document.createElement("div"),ke.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=ke.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;p.firstChild;)f.appendChild(p.firstChild)}});function at(f,p){if(p){var E=f.firstChild;if(E&&E===f.lastChild&&E.nodeType===3){E.nodeValue=p;return}}f.textContent=p}var Je={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ke=["Webkit","ms","Moz","O"];Object.keys(Je).forEach(function(f){Ke.forEach(function(p){p=p+f.charAt(0).toUpperCase()+f.substring(1),Je[p]=Je[f]})});function nt(f,p,E){return p==null||typeof p=="boolean"||p===""?"":E||typeof p!="number"||p===0||Je.hasOwnProperty(f)&&Je[f]?(""+p).trim():p+"px"}function Ut(f,p){f=f.style;for(var E in p)if(p.hasOwnProperty(E)){var _=E.indexOf("--")===0,R=nt(E,p[E],_);E==="float"&&(E="cssFloat"),_?f.setProperty(E,R):f[E]=R}}var Rr=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sn(f,p){if(p){if(Rr[f]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,f));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function dn(f,p){if(f.indexOf("-")===-1)return typeof p.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sr=null;function Ni(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var qr=null,Se=null,xt=null;function Ht(f){if(f=ql(f)){if(typeof qr!="function")throw Error(n(280));var p=f.stateNode;p&&(p=dd(p),qr(f.stateNode,f.type,p))}}function dr(f){Se?xt?xt.push(f):xt=[f]:Se=f}function Wr(){if(Se){var f=Se,p=xt;if(xt=Se=null,Ht(f),p)for(f=0;f<p.length;f++)Ht(p[f])}}function Oo(f,p){return f(p)}function Ua(){}var Tl=!1;function Df(f,p,E){if(Tl)return f(p,E);Tl=!0;try{return Oo(f,p,E)}finally{Tl=!1,(Se!==null||xt!==null)&&(Ua(),Wr())}}function Ps(f,p){var E=f.stateNode;if(E===null)return null;var _=dd(E);if(_===null)return null;E=_[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(f=f.type,_=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!_;break e;default:f=!1}if(f)return null;if(E&&typeof E!="function")throw Error(n(231,p,typeof E));return E}var _l=!1;if(c)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){_l=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{_l=!1}function Lm(f,p,E,_,R,A,D,Y,Z){var ce=Array.prototype.slice.call(arguments,3);try{p.apply(E,ce)}catch(ve){this.onError(ve)}}var Ds=!1,Ba=null,$a=!1,Nl=null,Dm={onError:function(f){Ds=!0,Ba=f}};function Fm(f,p,E,_,R,A,D,Y,Z){Ds=!1,Ba=null,Lm.apply(Dm,arguments)}function Ff(f,p,E,_,R,A,D,Y,Z){if(Fm.apply(this,arguments),Ds){if(Ds){var ce=Ba;Ds=!1,Ba=null}else throw Error(n(198));$a||($a=!0,Nl=ce)}}function Yi(f){var p=f,E=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,p.flags&4098&&(E=p.return),f=p.return;while(f)}return p.tag===3?E:null}function Uf(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function Bf(f){if(Yi(f)!==f)throw Error(n(188))}function Um(f){var p=f.alternate;if(!p){if(p=Yi(f),p===null)throw Error(n(188));return p!==f?null:f}for(var E=f,_=p;;){var R=E.return;if(R===null)break;var A=R.alternate;if(A===null){if(_=R.return,_!==null){E=_;continue}break}if(R.child===A.child){for(A=R.child;A;){if(A===E)return Bf(R),f;if(A===_)return Bf(R),p;A=A.sibling}throw Error(n(188))}if(E.return!==_.return)E=R,_=A;else{for(var D=!1,Y=R.child;Y;){if(Y===E){D=!0,E=R,_=A;break}if(Y===_){D=!0,_=R,E=A;break}Y=Y.sibling}if(!D){for(Y=A.child;Y;){if(Y===E){D=!0,E=A,_=R;break}if(Y===_){D=!0,_=A,E=R;break}Y=Y.sibling}if(!D)throw Error(n(189))}}if(E.alternate!==_)throw Error(n(190))}if(E.tag!==3)throw Error(n(188));return E.stateNode.current===E?f:p}function $f(f){return f=Um(f),f!==null?Vf(f):null}function Vf(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var p=Vf(f);if(p!==null)return p;f=f.sibling}return null}var jf=t.unstable_scheduleCallback,zf=t.unstable_cancelCallback,qf=t.unstable_shouldYield,Bm=t.unstable_requestPaint,Bt=t.unstable_now,$m=t.unstable_getCurrentPriorityLevel,bl=t.unstable_ImmediatePriority,Wf=t.unstable_UserBlockingPriority,Va=t.unstable_NormalPriority,Hf=t.unstable_LowPriority,Gf=t.unstable_IdlePriority,ja=null,Ar=null;function xl(f){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(ja,f,void 0,(f.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:TP,EP=Math.log,wP=Math.LN2;function TP(f){return f>>>=0,f===0?32:31-(EP(f)/wP|0)|0}var Yf=64,Qf=4194304;function Rl(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Kf(f,p){var E=f.pendingLanes;if(E===0)return 0;var _=0,R=f.suspendedLanes,A=f.pingedLanes,D=E&268435455;if(D!==0){var Y=D&~R;Y!==0?_=Rl(Y):(A&=D,A!==0&&(_=Rl(A)))}else D=E&~R,D!==0?_=Rl(D):A!==0&&(_=Rl(A));if(_===0)return 0;if(p!==0&&p!==_&&!(p&R)&&(R=_&-_,A=p&-p,R>=A||R===16&&(A&4194240)!==0))return p;if(_&4&&(_|=E&16),p=f.entangledLanes,p!==0)for(f=f.entanglements,p&=_;0<p;)E=31-Hr(p),R=1<<E,_|=f[E],p&=~R;return _}function _P(f,p){switch(f){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NP(f,p){for(var E=f.suspendedLanes,_=f.pingedLanes,R=f.expirationTimes,A=f.pendingLanes;0<A;){var D=31-Hr(A),Y=1<<D,Z=R[D];Z===-1?(!(Y&E)||Y&_)&&(R[D]=_P(Y,p)):Z<=p&&(f.expiredLanes|=Y),A&=~Y}}function Vm(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function P1(){var f=Yf;return Yf<<=1,!(Yf&4194240)&&(Yf=64),f}function jm(f){for(var p=[],E=0;31>E;E++)p.push(f);return p}function Sl(f,p,E){f.pendingLanes|=p,p!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,p=31-Hr(p),f[p]=E}function bP(f,p){var E=f.pendingLanes&~p;f.pendingLanes=p,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=p,f.mutableReadLanes&=p,f.entangledLanes&=p,p=f.entanglements;var _=f.eventTimes;for(f=f.expirationTimes;0<E;){var R=31-Hr(E),A=1<<R;p[R]=0,_[R]=-1,f[R]=-1,E&=~A}}function zm(f,p){var E=f.entangledLanes|=p;for(f=f.entanglements;E;){var _=31-Hr(E),R=1<<_;R&p|f[_]&p&&(f[_]|=p),E&=~R}}var Nt=0;function L1(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var D1,qm,F1,U1,B1,Wm=!1,Xf=[],Io=null,Co=null,ko=null,Al=new Map,Ol=new Map,Mo=[],xP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $1(f,p){switch(f){case"focusin":case"focusout":Io=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":Al.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(p.pointerId)}}function Il(f,p,E,_,R,A){return f===null||f.nativeEvent!==A?(f={blockedOn:p,domEventName:E,eventSystemFlags:_,nativeEvent:A,targetContainers:[R]},p!==null&&(p=ql(p),p!==null&&qm(p)),f):(f.eventSystemFlags|=_,p=f.targetContainers,R!==null&&p.indexOf(R)===-1&&p.push(R),f)}function RP(f,p,E,_,R){switch(p){case"focusin":return Io=Il(Io,f,p,E,_,R),!0;case"dragenter":return Co=Il(Co,f,p,E,_,R),!0;case"mouseover":return ko=Il(ko,f,p,E,_,R),!0;case"pointerover":var A=R.pointerId;return Al.set(A,Il(Al.get(A)||null,f,p,E,_,R)),!0;case"gotpointercapture":return A=R.pointerId,Ol.set(A,Il(Ol.get(A)||null,f,p,E,_,R)),!0}return!1}function V1(f){var p=Fs(f.target);if(p!==null){var E=Yi(p);if(E!==null){if(p=E.tag,p===13){if(p=Uf(E),p!==null){f.blockedOn=p,B1(f.priority,function(){F1(E)});return}}else if(p===3&&E.stateNode.current.memoizedState.isDehydrated){f.blockedOn=E.tag===3?E.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Jf(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var E=Gm(f.domEventName,f.eventSystemFlags,p[0],f.nativeEvent);if(E===null){E=f.nativeEvent;var _=new E.constructor(E.type,E);Sr=_,E.target.dispatchEvent(_),Sr=null}else return p=ql(E),p!==null&&qm(p),f.blockedOn=E,!1;p.shift()}return!0}function j1(f,p,E){Jf(f)&&E.delete(p)}function SP(){Wm=!1,Io!==null&&Jf(Io)&&(Io=null),Co!==null&&Jf(Co)&&(Co=null),ko!==null&&Jf(ko)&&(ko=null),Al.forEach(j1),Ol.forEach(j1)}function Cl(f,p){f.blockedOn===p&&(f.blockedOn=null,Wm||(Wm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,SP)))}function kl(f){function p(R){return Cl(R,f)}if(0<Xf.length){Cl(Xf[0],f);for(var E=1;E<Xf.length;E++){var _=Xf[E];_.blockedOn===f&&(_.blockedOn=null)}}for(Io!==null&&Cl(Io,f),Co!==null&&Cl(Co,f),ko!==null&&Cl(ko,f),Al.forEach(p),Ol.forEach(p),E=0;E<Mo.length;E++)_=Mo[E],_.blockedOn===f&&(_.blockedOn=null);for(;0<Mo.length&&(E=Mo[0],E.blockedOn===null);)V1(E),E.blockedOn===null&&Mo.shift()}var za=b.ReactCurrentBatchConfig,Zf=!0;function AP(f,p,E,_){var R=Nt,A=za.transition;za.transition=null;try{Nt=1,Hm(f,p,E,_)}finally{Nt=R,za.transition=A}}function OP(f,p,E,_){var R=Nt,A=za.transition;za.transition=null;try{Nt=4,Hm(f,p,E,_)}finally{Nt=R,za.transition=A}}function Hm(f,p,E,_){if(Zf){var R=Gm(f,p,E,_);if(R===null)cg(f,p,_,ed,E),$1(f,_);else if(RP(R,f,p,E,_))_.stopPropagation();else if($1(f,_),p&4&&-1<xP.indexOf(f)){for(;R!==null;){var A=ql(R);if(A!==null&&D1(A),A=Gm(f,p,E,_),A===null&&cg(f,p,_,ed,E),A===R)break;R=A}R!==null&&_.stopPropagation()}else cg(f,p,_,null,E)}}var ed=null;function Gm(f,p,E,_){if(ed=null,f=Ni(_),f=Fs(f),f!==null)if(p=Yi(f),p===null)f=null;else if(E=p.tag,E===13){if(f=Uf(p),f!==null)return f;f=null}else if(E===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null);return ed=f,null}function z1(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($m()){case bl:return 1;case Wf:return 4;case Va:case Hf:return 16;case Gf:return 536870912;default:return 16}default:return 16}}var Po=null,Ym=null,td=null;function q1(){if(td)return td;var f,p=Ym,E=p.length,_,R="value"in Po?Po.value:Po.textContent,A=R.length;for(f=0;f<E&&p[f]===R[f];f++);var D=E-f;for(_=1;_<=D&&p[E-_]===R[A-_];_++);return td=R.slice(f,1<_?1-_:void 0)}function nd(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function rd(){return!0}function W1(){return!1}function hr(f){function p(E,_,R,A,D){this._reactName=E,this._targetInst=R,this.type=_,this.nativeEvent=A,this.target=D,this.currentTarget=null;for(var Y in f)f.hasOwnProperty(Y)&&(E=f[Y],this[Y]=E?E(A):A[Y]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?rd:W1,this.isPropagationStopped=W1,this}return W(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var E=this.nativeEvent;E&&(E.preventDefault?E.preventDefault():typeof E.returnValue!="unknown"&&(E.returnValue=!1),this.isDefaultPrevented=rd)},stopPropagation:function(){var E=this.nativeEvent;E&&(E.stopPropagation?E.stopPropagation():typeof E.cancelBubble!="unknown"&&(E.cancelBubble=!0),this.isPropagationStopped=rd)},persist:function(){},isPersistent:rd}),p}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qm=hr(qa),Ml=W({},qa,{view:0,detail:0}),IP=hr(Ml),Km,Xm,Pl,id=W({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zm,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Pl&&(Pl&&f.type==="mousemove"?(Km=f.screenX-Pl.screenX,Xm=f.screenY-Pl.screenY):Xm=Km=0,Pl=f),Km)},movementY:function(f){return"movementY"in f?f.movementY:Xm}}),H1=hr(id),CP=W({},id,{dataTransfer:0}),kP=hr(CP),MP=W({},Ml,{relatedTarget:0}),Jm=hr(MP),PP=W({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),LP=hr(PP),DP=W({},qa,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),FP=hr(DP),UP=W({},qa,{data:0}),G1=hr(UP),BP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$P={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jP(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=VP[f])?!!p[f]:!1}function Zm(){return jP}var zP=W({},Ml,{key:function(f){if(f.key){var p=BP[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=nd(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?$P[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zm,charCode:function(f){return f.type==="keypress"?nd(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?nd(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),qP=hr(zP),WP=W({},id,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y1=hr(WP),HP=W({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zm}),GP=hr(HP),YP=W({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),QP=hr(YP),KP=W({},id,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),XP=hr(KP),JP=[9,13,27,32],eg=c&&"CompositionEvent"in window,Ll=null;c&&"documentMode"in document&&(Ll=document.documentMode);var ZP=c&&"TextEvent"in window&&!Ll,Q1=c&&(!eg||Ll&&8<Ll&&11>=Ll),K1=" ",X1=!1;function J1(f,p){switch(f){case"keyup":return JP.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z1(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Wa=!1;function eL(f,p){switch(f){case"compositionend":return Z1(p);case"keypress":return p.which!==32?null:(X1=!0,K1);case"textInput":return f=p.data,f===K1&&X1?null:f;default:return null}}function tL(f,p){if(Wa)return f==="compositionend"||!eg&&J1(f,p)?(f=q1(),td=Ym=Po=null,Wa=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return Q1&&p.locale!=="ko"?null:p.data;default:return null}}var nL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eT(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!nL[f.type]:p==="textarea"}function tT(f,p,E,_){dr(_),p=ld(p,"onChange"),0<p.length&&(E=new Qm("onChange","change",null,E,_),f.push({event:E,listeners:p}))}var Dl=null,Fl=null;function rL(f){ET(f,0)}function od(f){var p=Ka(f);if(be(p))return f}function iL(f,p){if(f==="change")return p}var nT=!1;if(c){var tg;if(c){var ng="oninput"in document;if(!ng){var rT=document.createElement("div");rT.setAttribute("oninput","return;"),ng=typeof rT.oninput=="function"}tg=ng}else tg=!1;nT=tg&&(!document.documentMode||9<document.documentMode)}function iT(){Dl&&(Dl.detachEvent("onpropertychange",oT),Fl=Dl=null)}function oT(f){if(f.propertyName==="value"&&od(Fl)){var p=[];tT(p,Fl,f,Ni(f)),Df(rL,p)}}function oL(f,p,E){f==="focusin"?(iT(),Dl=p,Fl=E,Dl.attachEvent("onpropertychange",oT)):f==="focusout"&&iT()}function sL(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return od(Fl)}function aL(f,p){if(f==="click")return od(p)}function uL(f,p){if(f==="input"||f==="change")return od(p)}function lL(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var Gr=typeof Object.is=="function"?Object.is:lL;function Ul(f,p){if(Gr(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var E=Object.keys(f),_=Object.keys(p);if(E.length!==_.length)return!1;for(_=0;_<E.length;_++){var R=E[_];if(!l.call(p,R)||!Gr(f[R],p[R]))return!1}return!0}function sT(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function aT(f,p){var E=sT(f);f=0;for(var _;E;){if(E.nodeType===3){if(_=f+E.textContent.length,f<=p&&_>=p)return{node:E,offset:p-f};f=_}e:{for(;E;){if(E.nextSibling){E=E.nextSibling;break e}E=E.parentNode}E=void 0}E=sT(E)}}function uT(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?uT(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function lT(){for(var f=window,p=Re();p instanceof f.HTMLIFrameElement;){try{var E=typeof p.contentWindow.location.href=="string"}catch{E=!1}if(E)f=p.contentWindow;else break;p=Re(f.document)}return p}function rg(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}function cL(f){var p=lT(),E=f.focusedElem,_=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&uT(E.ownerDocument.documentElement,E)){if(_!==null&&rg(E)){if(p=_.start,f=_.end,f===void 0&&(f=p),"selectionStart"in E)E.selectionStart=p,E.selectionEnd=Math.min(f,E.value.length);else if(f=(p=E.ownerDocument||document)&&p.defaultView||window,f.getSelection){f=f.getSelection();var R=E.textContent.length,A=Math.min(_.start,R);_=_.end===void 0?A:Math.min(_.end,R),!f.extend&&A>_&&(R=_,_=A,A=R),R=aT(E,A);var D=aT(E,_);R&&D&&(f.rangeCount!==1||f.anchorNode!==R.node||f.anchorOffset!==R.offset||f.focusNode!==D.node||f.focusOffset!==D.offset)&&(p=p.createRange(),p.setStart(R.node,R.offset),f.removeAllRanges(),A>_?(f.addRange(p),f.extend(D.node,D.offset)):(p.setEnd(D.node,D.offset),f.addRange(p)))}}for(p=[],f=E;f=f.parentNode;)f.nodeType===1&&p.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<p.length;E++)f=p[E],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var fL=c&&"documentMode"in document&&11>=document.documentMode,Ha=null,ig=null,Bl=null,og=!1;function cT(f,p,E){var _=E.window===E?E.document:E.nodeType===9?E:E.ownerDocument;og||Ha==null||Ha!==Re(_)||(_=Ha,"selectionStart"in _&&rg(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Bl&&Ul(Bl,_)||(Bl=_,_=ld(ig,"onSelect"),0<_.length&&(p=new Qm("onSelect","select",null,p,E),f.push({event:p,listeners:_}),p.target=Ha)))}function sd(f,p){var E={};return E[f.toLowerCase()]=p.toLowerCase(),E["Webkit"+f]="webkit"+p,E["Moz"+f]="moz"+p,E}var Ga={animationend:sd("Animation","AnimationEnd"),animationiteration:sd("Animation","AnimationIteration"),animationstart:sd("Animation","AnimationStart"),transitionend:sd("Transition","TransitionEnd")},sg={},fT={};c&&(fT=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function ad(f){if(sg[f])return sg[f];if(!Ga[f])return f;var p=Ga[f],E;for(E in p)if(p.hasOwnProperty(E)&&E in fT)return sg[f]=p[E];return f}var dT=ad("animationend"),hT=ad("animationiteration"),pT=ad("animationstart"),mT=ad("transitionend"),gT=new Map,vT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lo(f,p){gT.set(f,p),o(p,[f])}for(var ag=0;ag<vT.length;ag++){var ug=vT[ag],dL=ug.toLowerCase(),hL=ug[0].toUpperCase()+ug.slice(1);Lo(dL,"on"+hL)}Lo(dT,"onAnimationEnd"),Lo(hT,"onAnimationIteration"),Lo(pT,"onAnimationStart"),Lo("dblclick","onDoubleClick"),Lo("focusin","onFocus"),Lo("focusout","onBlur"),Lo(mT,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pL=new Set("cancel close invalid load scroll toggle".split(" ").concat($l));function yT(f,p,E){var _=f.type||"unknown-event";f.currentTarget=E,Ff(_,p,void 0,f),f.currentTarget=null}function ET(f,p){p=(p&4)!==0;for(var E=0;E<f.length;E++){var _=f[E],R=_.event;_=_.listeners;e:{var A=void 0;if(p)for(var D=_.length-1;0<=D;D--){var Y=_[D],Z=Y.instance,ce=Y.currentTarget;if(Y=Y.listener,Z!==A&&R.isPropagationStopped())break e;yT(R,Y,ce),A=Z}else for(D=0;D<_.length;D++){if(Y=_[D],Z=Y.instance,ce=Y.currentTarget,Y=Y.listener,Z!==A&&R.isPropagationStopped())break e;yT(R,Y,ce),A=Z}}}if($a)throw f=Nl,$a=!1,Nl=null,f}function Mt(f,p){var E=p[gg];E===void 0&&(E=p[gg]=new Set);var _=f+"__bubble";E.has(_)||(wT(p,f,2,!1),E.add(_))}function lg(f,p,E){var _=0;p&&(_|=4),wT(E,f,_,p)}var ud="_reactListening"+Math.random().toString(36).slice(2);function Vl(f){if(!f[ud]){f[ud]=!0,r.forEach(function(E){E!=="selectionchange"&&(pL.has(E)||lg(E,!1,f),lg(E,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[ud]||(p[ud]=!0,lg("selectionchange",!1,p))}}function wT(f,p,E,_){switch(z1(p)){case 1:var R=AP;break;case 4:R=OP;break;default:R=Hm}E=R.bind(null,p,E,f),R=void 0,!_l||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(R=!0),_?R!==void 0?f.addEventListener(p,E,{capture:!0,passive:R}):f.addEventListener(p,E,!0):R!==void 0?f.addEventListener(p,E,{passive:R}):f.addEventListener(p,E,!1)}function cg(f,p,E,_,R){var A=_;if(!(p&1)&&!(p&2)&&_!==null)e:for(;;){if(_===null)return;var D=_.tag;if(D===3||D===4){var Y=_.stateNode.containerInfo;if(Y===R||Y.nodeType===8&&Y.parentNode===R)break;if(D===4)for(D=_.return;D!==null;){var Z=D.tag;if((Z===3||Z===4)&&(Z=D.stateNode.containerInfo,Z===R||Z.nodeType===8&&Z.parentNode===R))return;D=D.return}for(;Y!==null;){if(D=Fs(Y),D===null)return;if(Z=D.tag,Z===5||Z===6){_=A=D;continue e}Y=Y.parentNode}}_=_.return}Df(function(){var ce=A,ve=Ni(E),Ee=[];e:{var me=gT.get(f);if(me!==void 0){var Ae=Qm,Le=f;switch(f){case"keypress":if(nd(E)===0)break e;case"keydown":case"keyup":Ae=qP;break;case"focusin":Le="focus",Ae=Jm;break;case"focusout":Le="blur",Ae=Jm;break;case"beforeblur":case"afterblur":Ae=Jm;break;case"click":if(E.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=H1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=kP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=GP;break;case dT:case hT:case pT:Ae=LP;break;case mT:Ae=QP;break;case"scroll":Ae=IP;break;case"wheel":Ae=XP;break;case"copy":case"cut":case"paste":Ae=FP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=Y1}var Be=(p&4)!==0,Jt=!Be&&f==="scroll",ae=Be?me!==null?me+"Capture":null:me;Be=[];for(var re=ce,ue;re!==null;){ue=re;var Ne=ue.stateNode;if(ue.tag===5&&Ne!==null&&(ue=Ne,ae!==null&&(Ne=Ps(re,ae),Ne!=null&&Be.push(jl(re,Ne,ue)))),Jt)break;re=re.return}0<Be.length&&(me=new Ae(me,Le,null,E,ve),Ee.push({event:me,listeners:Be}))}}if(!(p&7)){e:{if(me=f==="mouseover"||f==="pointerover",Ae=f==="mouseout"||f==="pointerout",me&&E!==Sr&&(Le=E.relatedTarget||E.fromElement)&&(Fs(Le)||Le[Qi]))break e;if((Ae||me)&&(me=ve.window===ve?ve:(me=ve.ownerDocument)?me.defaultView||me.parentWindow:window,Ae?(Le=E.relatedTarget||E.toElement,Ae=ce,Le=Le?Fs(Le):null,Le!==null&&(Jt=Yi(Le),Le!==Jt||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Ae=null,Le=ce),Ae!==Le)){if(Be=H1,Ne="onMouseLeave",ae="onMouseEnter",re="mouse",(f==="pointerout"||f==="pointerover")&&(Be=Y1,Ne="onPointerLeave",ae="onPointerEnter",re="pointer"),Jt=Ae==null?me:Ka(Ae),ue=Le==null?me:Ka(Le),me=new Be(Ne,re+"leave",Ae,E,ve),me.target=Jt,me.relatedTarget=ue,Ne=null,Fs(ve)===ce&&(Be=new Be(ae,re+"enter",Le,E,ve),Be.target=ue,Be.relatedTarget=Jt,Ne=Be),Jt=Ne,Ae&&Le)t:{for(Be=Ae,ae=Le,re=0,ue=Be;ue;ue=Ya(ue))re++;for(ue=0,Ne=ae;Ne;Ne=Ya(Ne))ue++;for(;0<re-ue;)Be=Ya(Be),re--;for(;0<ue-re;)ae=Ya(ae),ue--;for(;re--;){if(Be===ae||ae!==null&&Be===ae.alternate)break t;Be=Ya(Be),ae=Ya(ae)}Be=null}else Be=null;Ae!==null&&TT(Ee,me,Ae,Be,!1),Le!==null&&Jt!==null&&TT(Ee,Jt,Le,Be,!0)}}e:{if(me=ce?Ka(ce):window,Ae=me.nodeName&&me.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&me.type==="file")var $e=iL;else if(eT(me))if(nT)$e=uL;else{$e=sL;var He=oL}else(Ae=me.nodeName)&&Ae.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&($e=aL);if($e&&($e=$e(f,ce))){tT(Ee,$e,E,ve);break e}He&&He(f,me,ce),f==="focusout"&&(He=me._wrapperState)&&He.controlled&&me.type==="number"&&Me(me,"number",me.value)}switch(He=ce?Ka(ce):window,f){case"focusin":(eT(He)||He.contentEditable==="true")&&(Ha=He,ig=ce,Bl=null);break;case"focusout":Bl=ig=Ha=null;break;case"mousedown":og=!0;break;case"contextmenu":case"mouseup":case"dragend":og=!1,cT(Ee,E,ve);break;case"selectionchange":if(fL)break;case"keydown":case"keyup":cT(Ee,E,ve)}var Ge;if(eg)e:{switch(f){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Wa?J1(f,E)&&(et="onCompositionEnd"):f==="keydown"&&E.keyCode===229&&(et="onCompositionStart");et&&(Q1&&E.locale!=="ko"&&(Wa||et!=="onCompositionStart"?et==="onCompositionEnd"&&Wa&&(Ge=q1()):(Po=ve,Ym="value"in Po?Po.value:Po.textContent,Wa=!0)),He=ld(ce,et),0<He.length&&(et=new G1(et,f,null,E,ve),Ee.push({event:et,listeners:He}),Ge?et.data=Ge:(Ge=Z1(E),Ge!==null&&(et.data=Ge)))),(Ge=ZP?eL(f,E):tL(f,E))&&(ce=ld(ce,"onBeforeInput"),0<ce.length&&(ve=new G1("onBeforeInput","beforeinput",null,E,ve),Ee.push({event:ve,listeners:ce}),ve.data=Ge))}ET(Ee,p)})}function jl(f,p,E){return{instance:f,listener:p,currentTarget:E}}function ld(f,p){for(var E=p+"Capture",_=[];f!==null;){var R=f,A=R.stateNode;R.tag===5&&A!==null&&(R=A,A=Ps(f,E),A!=null&&_.unshift(jl(f,A,R)),A=Ps(f,p),A!=null&&_.push(jl(f,A,R))),f=f.return}return _}function Ya(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function TT(f,p,E,_,R){for(var A=p._reactName,D=[];E!==null&&E!==_;){var Y=E,Z=Y.alternate,ce=Y.stateNode;if(Z!==null&&Z===_)break;Y.tag===5&&ce!==null&&(Y=ce,R?(Z=Ps(E,A),Z!=null&&D.unshift(jl(E,Z,Y))):R||(Z=Ps(E,A),Z!=null&&D.push(jl(E,Z,Y)))),E=E.return}D.length!==0&&f.push({event:p,listeners:D})}var mL=/\r\n?/g,gL=/\u0000|\uFFFD/g;function _T(f){return(typeof f=="string"?f:""+f).replace(mL,`
`).replace(gL,"")}function cd(f,p,E){if(p=_T(p),_T(f)!==p&&E)throw Error(n(425))}function fd(){}var fg=null,dg=null;function hg(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var pg=typeof setTimeout=="function"?setTimeout:void 0,vL=typeof clearTimeout=="function"?clearTimeout:void 0,NT=typeof Promise=="function"?Promise:void 0,yL=typeof queueMicrotask=="function"?queueMicrotask:typeof NT<"u"?function(f){return NT.resolve(null).then(f).catch(EL)}:pg;function EL(f){setTimeout(function(){throw f})}function mg(f,p){var E=p,_=0;do{var R=E.nextSibling;if(f.removeChild(E),R&&R.nodeType===8)if(E=R.data,E==="/$"){if(_===0){f.removeChild(R),kl(p);return}_--}else E!=="$"&&E!=="$?"&&E!=="$!"||_++;E=R}while(E);kl(p)}function Do(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return f}function bT(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var E=f.data;if(E==="$"||E==="$!"||E==="$?"){if(p===0)return f;p--}else E==="/$"&&p++}f=f.previousSibling}return null}var Qa=Math.random().toString(36).slice(2),bi="__reactFiber$"+Qa,zl="__reactProps$"+Qa,Qi="__reactContainer$"+Qa,gg="__reactEvents$"+Qa,wL="__reactListeners$"+Qa,TL="__reactHandles$"+Qa;function Fs(f){var p=f[bi];if(p)return p;for(var E=f.parentNode;E;){if(p=E[Qi]||E[bi]){if(E=p.alternate,p.child!==null||E!==null&&E.child!==null)for(f=bT(f);f!==null;){if(E=f[bi])return E;f=bT(f)}return p}f=E,E=f.parentNode}return null}function ql(f){return f=f[bi]||f[Qi],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function Ka(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(n(33))}function dd(f){return f[zl]||null}var vg=[],Xa=-1;function Fo(f){return{current:f}}function Pt(f){0>Xa||(f.current=vg[Xa],vg[Xa]=null,Xa--)}function It(f,p){Xa++,vg[Xa]=f.current,f.current=p}var Uo={},Ln=Fo(Uo),Zn=Fo(!1),Us=Uo;function Ja(f,p){var E=f.type.contextTypes;if(!E)return Uo;var _=f.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===p)return _.__reactInternalMemoizedMaskedChildContext;var R={},A;for(A in E)R[A]=p[A];return _&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=p,f.__reactInternalMemoizedMaskedChildContext=R),R}function er(f){return f=f.childContextTypes,f!=null}function hd(){Pt(Zn),Pt(Ln)}function xT(f,p,E){if(Ln.current!==Uo)throw Error(n(168));It(Ln,p),It(Zn,E)}function RT(f,p,E){var _=f.stateNode;if(p=p.childContextTypes,typeof _.getChildContext!="function")return E;_=_.getChildContext();for(var R in _)if(!(R in p))throw Error(n(108,oe(f)||"Unknown",R));return W({},E,_)}function pd(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Uo,Us=Ln.current,It(Ln,f),It(Zn,Zn.current),!0}function ST(f,p,E){var _=f.stateNode;if(!_)throw Error(n(169));E?(f=RT(f,p,Us),_.__reactInternalMemoizedMergedChildContext=f,Pt(Zn),Pt(Ln),It(Ln,f)):Pt(Zn),It(Zn,E)}var Ki=null,md=!1,yg=!1;function AT(f){Ki===null?Ki=[f]:Ki.push(f)}function _L(f){md=!0,AT(f)}function Bo(){if(!yg&&Ki!==null){yg=!0;var f=0,p=Nt;try{var E=Ki;for(Nt=1;f<E.length;f++){var _=E[f];do _=_(!0);while(_!==null)}Ki=null,md=!1}catch(R){throw Ki!==null&&(Ki=Ki.slice(f+1)),jf(bl,Bo),R}finally{Nt=p,yg=!1}}return null}var Za=[],eu=0,gd=null,vd=0,Or=[],Ir=0,Bs=null,Xi=1,Ji="";function $s(f,p){Za[eu++]=vd,Za[eu++]=gd,gd=f,vd=p}function OT(f,p,E){Or[Ir++]=Xi,Or[Ir++]=Ji,Or[Ir++]=Bs,Bs=f;var _=Xi;f=Ji;var R=32-Hr(_)-1;_&=~(1<<R),E+=1;var A=32-Hr(p)+R;if(30<A){var D=R-R%5;A=(_&(1<<D)-1).toString(32),_>>=D,R-=D,Xi=1<<32-Hr(p)+R|E<<R|_,Ji=A+f}else Xi=1<<A|E<<R|_,Ji=f}function Eg(f){f.return!==null&&($s(f,1),OT(f,1,0))}function wg(f){for(;f===gd;)gd=Za[--eu],Za[eu]=null,vd=Za[--eu],Za[eu]=null;for(;f===Bs;)Bs=Or[--Ir],Or[Ir]=null,Ji=Or[--Ir],Or[Ir]=null,Xi=Or[--Ir],Or[Ir]=null}var pr=null,mr=null,Dt=!1,Yr=null;function IT(f,p){var E=Pr(5,null,null,0);E.elementType="DELETED",E.stateNode=p,E.return=f,p=f.deletions,p===null?(f.deletions=[E],f.flags|=16):p.push(E)}function CT(f,p){switch(f.tag){case 5:var E=f.type;return p=p.nodeType!==1||E.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(f.stateNode=p,pr=f,mr=Do(p.firstChild),!0):!1;case 6:return p=f.pendingProps===""||p.nodeType!==3?null:p,p!==null?(f.stateNode=p,pr=f,mr=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(E=Bs!==null?{id:Xi,overflow:Ji}:null,f.memoizedState={dehydrated:p,treeContext:E,retryLane:1073741824},E=Pr(18,null,null,0),E.stateNode=p,E.return=f,f.child=E,pr=f,mr=null,!0):!1;default:return!1}}function Tg(f){return(f.mode&1)!==0&&(f.flags&128)===0}function _g(f){if(Dt){var p=mr;if(p){var E=p;if(!CT(f,p)){if(Tg(f))throw Error(n(418));p=Do(E.nextSibling);var _=pr;p&&CT(f,p)?IT(_,E):(f.flags=f.flags&-4097|2,Dt=!1,pr=f)}}else{if(Tg(f))throw Error(n(418));f.flags=f.flags&-4097|2,Dt=!1,pr=f}}}function kT(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;pr=f}function yd(f){if(f!==pr)return!1;if(!Dt)return kT(f),Dt=!0,!1;var p;if((p=f.tag!==3)&&!(p=f.tag!==5)&&(p=f.type,p=p!=="head"&&p!=="body"&&!hg(f.type,f.memoizedProps)),p&&(p=mr)){if(Tg(f))throw MT(),Error(n(418));for(;p;)IT(f,p),p=Do(p.nextSibling)}if(kT(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));e:{for(f=f.nextSibling,p=0;f;){if(f.nodeType===8){var E=f.data;if(E==="/$"){if(p===0){mr=Do(f.nextSibling);break e}p--}else E!=="$"&&E!=="$!"&&E!=="$?"||p++}f=f.nextSibling}mr=null}}else mr=pr?Do(f.stateNode.nextSibling):null;return!0}function MT(){for(var f=mr;f;)f=Do(f.nextSibling)}function tu(){mr=pr=null,Dt=!1}function Ng(f){Yr===null?Yr=[f]:Yr.push(f)}var NL=b.ReactCurrentBatchConfig;function Wl(f,p,E){if(f=E.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(n(309));var _=E.stateNode}if(!_)throw Error(n(147,f));var R=_,A=""+f;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===A?p.ref:(p=function(D){var Y=R.refs;D===null?delete Y[A]:Y[A]=D},p._stringRef=A,p)}if(typeof f!="string")throw Error(n(284));if(!E._owner)throw Error(n(290,f))}return f}function Ed(f,p){throw f=Object.prototype.toString.call(p),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f))}function PT(f){var p=f._init;return p(f._payload)}function LT(f){function p(ae,re){if(f){var ue=ae.deletions;ue===null?(ae.deletions=[re],ae.flags|=16):ue.push(re)}}function E(ae,re){if(!f)return null;for(;re!==null;)p(ae,re),re=re.sibling;return null}function _(ae,re){for(ae=new Map;re!==null;)re.key!==null?ae.set(re.key,re):ae.set(re.index,re),re=re.sibling;return ae}function R(ae,re){return ae=Go(ae,re),ae.index=0,ae.sibling=null,ae}function A(ae,re,ue){return ae.index=ue,f?(ue=ae.alternate,ue!==null?(ue=ue.index,ue<re?(ae.flags|=2,re):ue):(ae.flags|=2,re)):(ae.flags|=1048576,re)}function D(ae){return f&&ae.alternate===null&&(ae.flags|=2),ae}function Y(ae,re,ue,Ne){return re===null||re.tag!==6?(re=pv(ue,ae.mode,Ne),re.return=ae,re):(re=R(re,ue),re.return=ae,re)}function Z(ae,re,ue,Ne){var $e=ue.type;return $e===O?ve(ae,re,ue.props.children,Ne,ue.key):re!==null&&(re.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===K&&PT($e)===re.type)?(Ne=R(re,ue.props),Ne.ref=Wl(ae,re,ue),Ne.return=ae,Ne):(Ne=zd(ue.type,ue.key,ue.props,null,ae.mode,Ne),Ne.ref=Wl(ae,re,ue),Ne.return=ae,Ne)}function ce(ae,re,ue,Ne){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=mv(ue,ae.mode,Ne),re.return=ae,re):(re=R(re,ue.children||[]),re.return=ae,re)}function ve(ae,re,ue,Ne,$e){return re===null||re.tag!==7?(re=Ys(ue,ae.mode,Ne,$e),re.return=ae,re):(re=R(re,ue),re.return=ae,re)}function Ee(ae,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number")return re=pv(""+re,ae.mode,ue),re.return=ae,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case S:return ue=zd(re.type,re.key,re.props,null,ae.mode,ue),ue.ref=Wl(ae,null,re),ue.return=ae,ue;case x:return re=mv(re,ae.mode,ue),re.return=ae,re;case K:var Ne=re._init;return Ee(ae,Ne(re._payload),ue)}if(it(re)||H(re))return re=Ys(re,ae.mode,ue,null),re.return=ae,re;Ed(ae,re)}return null}function me(ae,re,ue,Ne){var $e=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return $e!==null?null:Y(ae,re,""+ue,Ne);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case S:return ue.key===$e?Z(ae,re,ue,Ne):null;case x:return ue.key===$e?ce(ae,re,ue,Ne):null;case K:return $e=ue._init,me(ae,re,$e(ue._payload),Ne)}if(it(ue)||H(ue))return $e!==null?null:ve(ae,re,ue,Ne,null);Ed(ae,ue)}return null}function Ae(ae,re,ue,Ne,$e){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return ae=ae.get(ue)||null,Y(re,ae,""+Ne,$e);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case S:return ae=ae.get(Ne.key===null?ue:Ne.key)||null,Z(re,ae,Ne,$e);case x:return ae=ae.get(Ne.key===null?ue:Ne.key)||null,ce(re,ae,Ne,$e);case K:var He=Ne._init;return Ae(ae,re,ue,He(Ne._payload),$e)}if(it(Ne)||H(Ne))return ae=ae.get(ue)||null,ve(re,ae,Ne,$e,null);Ed(re,Ne)}return null}function Le(ae,re,ue,Ne){for(var $e=null,He=null,Ge=re,et=re=0,mn=null;Ge!==null&&et<ue.length;et++){Ge.index>et?(mn=Ge,Ge=null):mn=Ge.sibling;var vt=me(ae,Ge,ue[et],Ne);if(vt===null){Ge===null&&(Ge=mn);break}f&&Ge&&vt.alternate===null&&p(ae,Ge),re=A(vt,re,et),He===null?$e=vt:He.sibling=vt,He=vt,Ge=mn}if(et===ue.length)return E(ae,Ge),Dt&&$s(ae,et),$e;if(Ge===null){for(;et<ue.length;et++)Ge=Ee(ae,ue[et],Ne),Ge!==null&&(re=A(Ge,re,et),He===null?$e=Ge:He.sibling=Ge,He=Ge);return Dt&&$s(ae,et),$e}for(Ge=_(ae,Ge);et<ue.length;et++)mn=Ae(Ge,ae,et,ue[et],Ne),mn!==null&&(f&&mn.alternate!==null&&Ge.delete(mn.key===null?et:mn.key),re=A(mn,re,et),He===null?$e=mn:He.sibling=mn,He=mn);return f&&Ge.forEach(function(Yo){return p(ae,Yo)}),Dt&&$s(ae,et),$e}function Be(ae,re,ue,Ne){var $e=H(ue);if(typeof $e!="function")throw Error(n(150));if(ue=$e.call(ue),ue==null)throw Error(n(151));for(var He=$e=null,Ge=re,et=re=0,mn=null,vt=ue.next();Ge!==null&&!vt.done;et++,vt=ue.next()){Ge.index>et?(mn=Ge,Ge=null):mn=Ge.sibling;var Yo=me(ae,Ge,vt.value,Ne);if(Yo===null){Ge===null&&(Ge=mn);break}f&&Ge&&Yo.alternate===null&&p(ae,Ge),re=A(Yo,re,et),He===null?$e=Yo:He.sibling=Yo,He=Yo,Ge=mn}if(vt.done)return E(ae,Ge),Dt&&$s(ae,et),$e;if(Ge===null){for(;!vt.done;et++,vt=ue.next())vt=Ee(ae,vt.value,Ne),vt!==null&&(re=A(vt,re,et),He===null?$e=vt:He.sibling=vt,He=vt);return Dt&&$s(ae,et),$e}for(Ge=_(ae,Ge);!vt.done;et++,vt=ue.next())vt=Ae(Ge,ae,et,vt.value,Ne),vt!==null&&(f&&vt.alternate!==null&&Ge.delete(vt.key===null?et:vt.key),re=A(vt,re,et),He===null?$e=vt:He.sibling=vt,He=vt);return f&&Ge.forEach(function(nD){return p(ae,nD)}),Dt&&$s(ae,et),$e}function Jt(ae,re,ue,Ne){if(typeof ue=="object"&&ue!==null&&ue.type===O&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case S:e:{for(var $e=ue.key,He=re;He!==null;){if(He.key===$e){if($e=ue.type,$e===O){if(He.tag===7){E(ae,He.sibling),re=R(He,ue.props.children),re.return=ae,ae=re;break e}}else if(He.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===K&&PT($e)===He.type){E(ae,He.sibling),re=R(He,ue.props),re.ref=Wl(ae,He,ue),re.return=ae,ae=re;break e}E(ae,He);break}else p(ae,He);He=He.sibling}ue.type===O?(re=Ys(ue.props.children,ae.mode,Ne,ue.key),re.return=ae,ae=re):(Ne=zd(ue.type,ue.key,ue.props,null,ae.mode,Ne),Ne.ref=Wl(ae,re,ue),Ne.return=ae,ae=Ne)}return D(ae);case x:e:{for(He=ue.key;re!==null;){if(re.key===He)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){E(ae,re.sibling),re=R(re,ue.children||[]),re.return=ae,ae=re;break e}else{E(ae,re);break}else p(ae,re);re=re.sibling}re=mv(ue,ae.mode,Ne),re.return=ae,ae=re}return D(ae);case K:return He=ue._init,Jt(ae,re,He(ue._payload),Ne)}if(it(ue))return Le(ae,re,ue,Ne);if(H(ue))return Be(ae,re,ue,Ne);Ed(ae,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,re!==null&&re.tag===6?(E(ae,re.sibling),re=R(re,ue),re.return=ae,ae=re):(E(ae,re),re=pv(ue,ae.mode,Ne),re.return=ae,ae=re),D(ae)):E(ae,re)}return Jt}var nu=LT(!0),DT=LT(!1),wd=Fo(null),Td=null,ru=null,bg=null;function xg(){bg=ru=Td=null}function Rg(f){var p=wd.current;Pt(wd),f._currentValue=p}function Sg(f,p,E){for(;f!==null;){var _=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,_!==null&&(_.childLanes|=p)):_!==null&&(_.childLanes&p)!==p&&(_.childLanes|=p),f===E)break;f=f.return}}function iu(f,p){Td=f,bg=ru=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&p&&(tr=!0),f.firstContext=null)}function Cr(f){var p=f._currentValue;if(bg!==f)if(f={context:f,memoizedValue:p,next:null},ru===null){if(Td===null)throw Error(n(308));ru=f,Td.dependencies={lanes:0,firstContext:f}}else ru=ru.next=f;return p}var Vs=null;function Ag(f){Vs===null?Vs=[f]:Vs.push(f)}function FT(f,p,E,_){var R=p.interleaved;return R===null?(E.next=E,Ag(p)):(E.next=R.next,R.next=E),p.interleaved=E,Zi(f,_)}function Zi(f,p){f.lanes|=p;var E=f.alternate;for(E!==null&&(E.lanes|=p),E=f,f=f.return;f!==null;)f.childLanes|=p,E=f.alternate,E!==null&&(E.childLanes|=p),E=f,f=f.return;return E.tag===3?E.stateNode:null}var $o=!1;function Og(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UT(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function eo(f,p){return{eventTime:f,lane:p,tag:0,payload:null,callback:null,next:null}}function Vo(f,p,E){var _=f.updateQueue;if(_===null)return null;if(_=_.shared,ht&2){var R=_.pending;return R===null?p.next=p:(p.next=R.next,R.next=p),_.pending=p,Zi(f,E)}return R=_.interleaved,R===null?(p.next=p,Ag(_)):(p.next=R.next,R.next=p),_.interleaved=p,Zi(f,E)}function _d(f,p,E){if(p=p.updateQueue,p!==null&&(p=p.shared,(E&4194240)!==0)){var _=p.lanes;_&=f.pendingLanes,E|=_,p.lanes=E,zm(f,E)}}function BT(f,p){var E=f.updateQueue,_=f.alternate;if(_!==null&&(_=_.updateQueue,E===_)){var R=null,A=null;if(E=E.firstBaseUpdate,E!==null){do{var D={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};A===null?R=A=D:A=A.next=D,E=E.next}while(E!==null);A===null?R=A=p:A=A.next=p}else R=A=p;E={baseState:_.baseState,firstBaseUpdate:R,lastBaseUpdate:A,shared:_.shared,effects:_.effects},f.updateQueue=E;return}f=E.lastBaseUpdate,f===null?E.firstBaseUpdate=p:f.next=p,E.lastBaseUpdate=p}function Nd(f,p,E,_){var R=f.updateQueue;$o=!1;var A=R.firstBaseUpdate,D=R.lastBaseUpdate,Y=R.shared.pending;if(Y!==null){R.shared.pending=null;var Z=Y,ce=Z.next;Z.next=null,D===null?A=ce:D.next=ce,D=Z;var ve=f.alternate;ve!==null&&(ve=ve.updateQueue,Y=ve.lastBaseUpdate,Y!==D&&(Y===null?ve.firstBaseUpdate=ce:Y.next=ce,ve.lastBaseUpdate=Z))}if(A!==null){var Ee=R.baseState;D=0,ve=ce=Z=null,Y=A;do{var me=Y.lane,Ae=Y.eventTime;if((_&me)===me){ve!==null&&(ve=ve.next={eventTime:Ae,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Le=f,Be=Y;switch(me=p,Ae=E,Be.tag){case 1:if(Le=Be.payload,typeof Le=="function"){Ee=Le.call(Ae,Ee,me);break e}Ee=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Be.payload,me=typeof Le=="function"?Le.call(Ae,Ee,me):Le,me==null)break e;Ee=W({},Ee,me);break e;case 2:$o=!0}}Y.callback!==null&&Y.lane!==0&&(f.flags|=64,me=R.effects,me===null?R.effects=[Y]:me.push(Y))}else Ae={eventTime:Ae,lane:me,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},ve===null?(ce=ve=Ae,Z=Ee):ve=ve.next=Ae,D|=me;if(Y=Y.next,Y===null){if(Y=R.shared.pending,Y===null)break;me=Y,Y=me.next,me.next=null,R.lastBaseUpdate=me,R.shared.pending=null}}while(!0);if(ve===null&&(Z=Ee),R.baseState=Z,R.firstBaseUpdate=ce,R.lastBaseUpdate=ve,p=R.shared.interleaved,p!==null){R=p;do D|=R.lane,R=R.next;while(R!==p)}else A===null&&(R.shared.lanes=0);qs|=D,f.lanes=D,f.memoizedState=Ee}}function $T(f,p,E){if(f=p.effects,p.effects=null,f!==null)for(p=0;p<f.length;p++){var _=f[p],R=_.callback;if(R!==null){if(_.callback=null,_=E,typeof R!="function")throw Error(n(191,R));R.call(_)}}}var Hl={},xi=Fo(Hl),Gl=Fo(Hl),Yl=Fo(Hl);function js(f){if(f===Hl)throw Error(n(174));return f}function Ig(f,p){switch(It(Yl,p),It(Gl,f),It(xi,Hl),f=p.nodeType,f){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:he(null,"");break;default:f=f===8?p.parentNode:p,p=f.namespaceURI||null,f=f.tagName,p=he(p,f)}Pt(xi),It(xi,p)}function ou(){Pt(xi),Pt(Gl),Pt(Yl)}function VT(f){js(Yl.current);var p=js(xi.current),E=he(p,f.type);p!==E&&(It(Gl,f),It(xi,E))}function Cg(f){Gl.current===f&&(Pt(xi),Pt(Gl))}var $t=Fo(0);function bd(f){for(var p=f;p!==null;){if(p.tag===13){var E=p.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||E.data==="$?"||E.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var kg=[];function Mg(){for(var f=0;f<kg.length;f++)kg[f]._workInProgressVersionPrimary=null;kg.length=0}var xd=b.ReactCurrentDispatcher,Pg=b.ReactCurrentBatchConfig,zs=0,Vt=null,sn=null,hn=null,Rd=!1,Ql=!1,Kl=0,bL=0;function Dn(){throw Error(n(321))}function Lg(f,p){if(p===null)return!1;for(var E=0;E<p.length&&E<f.length;E++)if(!Gr(f[E],p[E]))return!1;return!0}function Dg(f,p,E,_,R,A){if(zs=A,Vt=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,xd.current=f===null||f.memoizedState===null?AL:OL,f=E(_,R),Ql){A=0;do{if(Ql=!1,Kl=0,25<=A)throw Error(n(301));A+=1,hn=sn=null,p.updateQueue=null,xd.current=IL,f=E(_,R)}while(Ql)}if(xd.current=Od,p=sn!==null&&sn.next!==null,zs=0,hn=sn=Vt=null,Rd=!1,p)throw Error(n(300));return f}function Fg(){var f=Kl!==0;return Kl=0,f}function Ri(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Vt.memoizedState=hn=f:hn=hn.next=f,hn}function kr(){if(sn===null){var f=Vt.alternate;f=f!==null?f.memoizedState:null}else f=sn.next;var p=hn===null?Vt.memoizedState:hn.next;if(p!==null)hn=p,sn=f;else{if(f===null)throw Error(n(310));sn=f,f={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},hn===null?Vt.memoizedState=hn=f:hn=hn.next=f}return hn}function Xl(f,p){return typeof p=="function"?p(f):p}function Ug(f){var p=kr(),E=p.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=f;var _=sn,R=_.baseQueue,A=E.pending;if(A!==null){if(R!==null){var D=R.next;R.next=A.next,A.next=D}_.baseQueue=R=A,E.pending=null}if(R!==null){A=R.next,_=_.baseState;var Y=D=null,Z=null,ce=A;do{var ve=ce.lane;if((zs&ve)===ve)Z!==null&&(Z=Z.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),_=ce.hasEagerState?ce.eagerState:f(_,ce.action);else{var Ee={lane:ve,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Z===null?(Y=Z=Ee,D=_):Z=Z.next=Ee,Vt.lanes|=ve,qs|=ve}ce=ce.next}while(ce!==null&&ce!==A);Z===null?D=_:Z.next=Y,Gr(_,p.memoizedState)||(tr=!0),p.memoizedState=_,p.baseState=D,p.baseQueue=Z,E.lastRenderedState=_}if(f=E.interleaved,f!==null){R=f;do A=R.lane,Vt.lanes|=A,qs|=A,R=R.next;while(R!==f)}else R===null&&(E.lanes=0);return[p.memoizedState,E.dispatch]}function Bg(f){var p=kr(),E=p.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=f;var _=E.dispatch,R=E.pending,A=p.memoizedState;if(R!==null){E.pending=null;var D=R=R.next;do A=f(A,D.action),D=D.next;while(D!==R);Gr(A,p.memoizedState)||(tr=!0),p.memoizedState=A,p.baseQueue===null&&(p.baseState=A),E.lastRenderedState=A}return[A,_]}function jT(){}function zT(f,p){var E=Vt,_=kr(),R=p(),A=!Gr(_.memoizedState,R);if(A&&(_.memoizedState=R,tr=!0),_=_.queue,$g(HT.bind(null,E,_,f),[f]),_.getSnapshot!==p||A||hn!==null&&hn.memoizedState.tag&1){if(E.flags|=2048,Jl(9,WT.bind(null,E,_,R,p),void 0,null),pn===null)throw Error(n(349));zs&30||qT(E,p,R)}return R}function qT(f,p,E){f.flags|=16384,f={getSnapshot:p,value:E},p=Vt.updateQueue,p===null?(p={lastEffect:null,stores:null},Vt.updateQueue=p,p.stores=[f]):(E=p.stores,E===null?p.stores=[f]:E.push(f))}function WT(f,p,E,_){p.value=E,p.getSnapshot=_,GT(p)&&YT(f)}function HT(f,p,E){return E(function(){GT(p)&&YT(f)})}function GT(f){var p=f.getSnapshot;f=f.value;try{var E=p();return!Gr(f,E)}catch{return!0}}function YT(f){var p=Zi(f,1);p!==null&&Jr(p,f,1,-1)}function QT(f){var p=Ri();return typeof f=="function"&&(f=f()),p.memoizedState=p.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:f},p.queue=f,f=f.dispatch=SL.bind(null,Vt,f),[p.memoizedState,f]}function Jl(f,p,E,_){return f={tag:f,create:p,destroy:E,deps:_,next:null},p=Vt.updateQueue,p===null?(p={lastEffect:null,stores:null},Vt.updateQueue=p,p.lastEffect=f.next=f):(E=p.lastEffect,E===null?p.lastEffect=f.next=f:(_=E.next,E.next=f,f.next=_,p.lastEffect=f)),f}function KT(){return kr().memoizedState}function Sd(f,p,E,_){var R=Ri();Vt.flags|=f,R.memoizedState=Jl(1|p,E,void 0,_===void 0?null:_)}function Ad(f,p,E,_){var R=kr();_=_===void 0?null:_;var A=void 0;if(sn!==null){var D=sn.memoizedState;if(A=D.destroy,_!==null&&Lg(_,D.deps)){R.memoizedState=Jl(p,E,A,_);return}}Vt.flags|=f,R.memoizedState=Jl(1|p,E,A,_)}function XT(f,p){return Sd(8390656,8,f,p)}function $g(f,p){return Ad(2048,8,f,p)}function JT(f,p){return Ad(4,2,f,p)}function ZT(f,p){return Ad(4,4,f,p)}function e_(f,p){if(typeof p=="function")return f=f(),p(f),function(){p(null)};if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function t_(f,p,E){return E=E!=null?E.concat([f]):null,Ad(4,4,e_.bind(null,p,f),E)}function Vg(){}function n_(f,p){var E=kr();p=p===void 0?null:p;var _=E.memoizedState;return _!==null&&p!==null&&Lg(p,_[1])?_[0]:(E.memoizedState=[f,p],f)}function r_(f,p){var E=kr();p=p===void 0?null:p;var _=E.memoizedState;return _!==null&&p!==null&&Lg(p,_[1])?_[0]:(f=f(),E.memoizedState=[f,p],f)}function i_(f,p,E){return zs&21?(Gr(E,p)||(E=P1(),Vt.lanes|=E,qs|=E,f.baseState=!0),p):(f.baseState&&(f.baseState=!1,tr=!0),f.memoizedState=E)}function xL(f,p){var E=Nt;Nt=E!==0&&4>E?E:4,f(!0);var _=Pg.transition;Pg.transition={};try{f(!1),p()}finally{Nt=E,Pg.transition=_}}function o_(){return kr().memoizedState}function RL(f,p,E){var _=Wo(f);if(E={lane:_,action:E,hasEagerState:!1,eagerState:null,next:null},s_(f))a_(p,E);else if(E=FT(f,p,E,_),E!==null){var R=Wn();Jr(E,f,_,R),u_(E,p,_)}}function SL(f,p,E){var _=Wo(f),R={lane:_,action:E,hasEagerState:!1,eagerState:null,next:null};if(s_(f))a_(p,R);else{var A=f.alternate;if(f.lanes===0&&(A===null||A.lanes===0)&&(A=p.lastRenderedReducer,A!==null))try{var D=p.lastRenderedState,Y=A(D,E);if(R.hasEagerState=!0,R.eagerState=Y,Gr(Y,D)){var Z=p.interleaved;Z===null?(R.next=R,Ag(p)):(R.next=Z.next,Z.next=R),p.interleaved=R;return}}catch{}finally{}E=FT(f,p,R,_),E!==null&&(R=Wn(),Jr(E,f,_,R),u_(E,p,_))}}function s_(f){var p=f.alternate;return f===Vt||p!==null&&p===Vt}function a_(f,p){Ql=Rd=!0;var E=f.pending;E===null?p.next=p:(p.next=E.next,E.next=p),f.pending=p}function u_(f,p,E){if(E&4194240){var _=p.lanes;_&=f.pendingLanes,E|=_,p.lanes=E,zm(f,E)}}var Od={readContext:Cr,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},AL={readContext:Cr,useCallback:function(f,p){return Ri().memoizedState=[f,p===void 0?null:p],f},useContext:Cr,useEffect:XT,useImperativeHandle:function(f,p,E){return E=E!=null?E.concat([f]):null,Sd(4194308,4,e_.bind(null,p,f),E)},useLayoutEffect:function(f,p){return Sd(4194308,4,f,p)},useInsertionEffect:function(f,p){return Sd(4,2,f,p)},useMemo:function(f,p){var E=Ri();return p=p===void 0?null:p,f=f(),E.memoizedState=[f,p],f},useReducer:function(f,p,E){var _=Ri();return p=E!==void 0?E(p):p,_.memoizedState=_.baseState=p,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:p},_.queue=f,f=f.dispatch=RL.bind(null,Vt,f),[_.memoizedState,f]},useRef:function(f){var p=Ri();return f={current:f},p.memoizedState=f},useState:QT,useDebugValue:Vg,useDeferredValue:function(f){return Ri().memoizedState=f},useTransition:function(){var f=QT(!1),p=f[0];return f=xL.bind(null,f[1]),Ri().memoizedState=f,[p,f]},useMutableSource:function(){},useSyncExternalStore:function(f,p,E){var _=Vt,R=Ri();if(Dt){if(E===void 0)throw Error(n(407));E=E()}else{if(E=p(),pn===null)throw Error(n(349));zs&30||qT(_,p,E)}R.memoizedState=E;var A={value:E,getSnapshot:p};return R.queue=A,XT(HT.bind(null,_,A,f),[f]),_.flags|=2048,Jl(9,WT.bind(null,_,A,E,p),void 0,null),E},useId:function(){var f=Ri(),p=pn.identifierPrefix;if(Dt){var E=Ji,_=Xi;E=(_&~(1<<32-Hr(_)-1)).toString(32)+E,p=":"+p+"R"+E,E=Kl++,0<E&&(p+="H"+E.toString(32)),p+=":"}else E=bL++,p=":"+p+"r"+E.toString(32)+":";return f.memoizedState=p},unstable_isNewReconciler:!1},OL={readContext:Cr,useCallback:n_,useContext:Cr,useEffect:$g,useImperativeHandle:t_,useInsertionEffect:JT,useLayoutEffect:ZT,useMemo:r_,useReducer:Ug,useRef:KT,useState:function(){return Ug(Xl)},useDebugValue:Vg,useDeferredValue:function(f){var p=kr();return i_(p,sn.memoizedState,f)},useTransition:function(){var f=Ug(Xl)[0],p=kr().memoizedState;return[f,p]},useMutableSource:jT,useSyncExternalStore:zT,useId:o_,unstable_isNewReconciler:!1},IL={readContext:Cr,useCallback:n_,useContext:Cr,useEffect:$g,useImperativeHandle:t_,useInsertionEffect:JT,useLayoutEffect:ZT,useMemo:r_,useReducer:Bg,useRef:KT,useState:function(){return Bg(Xl)},useDebugValue:Vg,useDeferredValue:function(f){var p=kr();return sn===null?p.memoizedState=f:i_(p,sn.memoizedState,f)},useTransition:function(){var f=Bg(Xl)[0],p=kr().memoizedState;return[f,p]},useMutableSource:jT,useSyncExternalStore:zT,useId:o_,unstable_isNewReconciler:!1};function Qr(f,p){if(f&&f.defaultProps){p=W({},p),f=f.defaultProps;for(var E in f)p[E]===void 0&&(p[E]=f[E]);return p}return p}function jg(f,p,E,_){p=f.memoizedState,E=E(_,p),E=E==null?p:W({},p,E),f.memoizedState=E,f.lanes===0&&(f.updateQueue.baseState=E)}var Id={isMounted:function(f){return(f=f._reactInternals)?Yi(f)===f:!1},enqueueSetState:function(f,p,E){f=f._reactInternals;var _=Wn(),R=Wo(f),A=eo(_,R);A.payload=p,E!=null&&(A.callback=E),p=Vo(f,A,R),p!==null&&(Jr(p,f,R,_),_d(p,f,R))},enqueueReplaceState:function(f,p,E){f=f._reactInternals;var _=Wn(),R=Wo(f),A=eo(_,R);A.tag=1,A.payload=p,E!=null&&(A.callback=E),p=Vo(f,A,R),p!==null&&(Jr(p,f,R,_),_d(p,f,R))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var E=Wn(),_=Wo(f),R=eo(E,_);R.tag=2,p!=null&&(R.callback=p),p=Vo(f,R,_),p!==null&&(Jr(p,f,_,E),_d(p,f,_))}};function l_(f,p,E,_,R,A,D){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(_,A,D):p.prototype&&p.prototype.isPureReactComponent?!Ul(E,_)||!Ul(R,A):!0}function c_(f,p,E){var _=!1,R=Uo,A=p.contextType;return typeof A=="object"&&A!==null?A=Cr(A):(R=er(p)?Us:Ln.current,_=p.contextTypes,A=(_=_!=null)?Ja(f,R):Uo),p=new p(E,A),f.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Id,f.stateNode=p,p._reactInternals=f,_&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=R,f.__reactInternalMemoizedMaskedChildContext=A),p}function f_(f,p,E,_){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(E,_),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(E,_),p.state!==f&&Id.enqueueReplaceState(p,p.state,null)}function zg(f,p,E,_){var R=f.stateNode;R.props=E,R.state=f.memoizedState,R.refs={},Og(f);var A=p.contextType;typeof A=="object"&&A!==null?R.context=Cr(A):(A=er(p)?Us:Ln.current,R.context=Ja(f,A)),R.state=f.memoizedState,A=p.getDerivedStateFromProps,typeof A=="function"&&(jg(f,p,A,E),R.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(p=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),p!==R.state&&Id.enqueueReplaceState(R,R.state,null),Nd(f,E,R,_),R.state=f.memoizedState),typeof R.componentDidMount=="function"&&(f.flags|=4194308)}function su(f,p){try{var E="",_=p;do E+=j(_),_=_.return;while(_);var R=E}catch(A){R=`
Error generating stack: `+A.message+`
`+A.stack}return{value:f,source:p,stack:R,digest:null}}function qg(f,p,E){return{value:f,source:null,stack:E??null,digest:p??null}}function Wg(f,p){try{console.error(p.value)}catch(E){setTimeout(function(){throw E})}}var CL=typeof WeakMap=="function"?WeakMap:Map;function d_(f,p,E){E=eo(-1,E),E.tag=3,E.payload={element:null};var _=p.value;return E.callback=function(){Fd||(Fd=!0,sv=_),Wg(f,p)},E}function h_(f,p,E){E=eo(-1,E),E.tag=3;var _=f.type.getDerivedStateFromError;if(typeof _=="function"){var R=p.value;E.payload=function(){return _(R)},E.callback=function(){Wg(f,p)}}var A=f.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(E.callback=function(){Wg(f,p),typeof _!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var D=p.stack;this.componentDidCatch(p.value,{componentStack:D!==null?D:""})}),E}function p_(f,p,E){var _=f.pingCache;if(_===null){_=f.pingCache=new CL;var R=new Set;_.set(p,R)}else R=_.get(p),R===void 0&&(R=new Set,_.set(p,R));R.has(E)||(R.add(E),f=WL.bind(null,f,p,E),p.then(f,f))}function m_(f){do{var p;if((p=f.tag===13)&&(p=f.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return f;f=f.return}while(f!==null);return null}function g_(f,p,E,_,R){return f.mode&1?(f.flags|=65536,f.lanes=R,f):(f===p?f.flags|=65536:(f.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(p=eo(-1,1),p.tag=2,Vo(E,p,1))),E.lanes|=1),f)}var kL=b.ReactCurrentOwner,tr=!1;function qn(f,p,E,_){p.child=f===null?DT(p,null,E,_):nu(p,f.child,E,_)}function v_(f,p,E,_,R){E=E.render;var A=p.ref;return iu(p,R),_=Dg(f,p,E,_,A,R),E=Fg(),f!==null&&!tr?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~R,to(f,p,R)):(Dt&&E&&Eg(p),p.flags|=1,qn(f,p,_,R),p.child)}function y_(f,p,E,_,R){if(f===null){var A=E.type;return typeof A=="function"&&!hv(A)&&A.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(p.tag=15,p.type=A,E_(f,p,A,_,R)):(f=zd(E.type,null,_,p,p.mode,R),f.ref=p.ref,f.return=p,p.child=f)}if(A=f.child,!(f.lanes&R)){var D=A.memoizedProps;if(E=E.compare,E=E!==null?E:Ul,E(D,_)&&f.ref===p.ref)return to(f,p,R)}return p.flags|=1,f=Go(A,_),f.ref=p.ref,f.return=p,p.child=f}function E_(f,p,E,_,R){if(f!==null){var A=f.memoizedProps;if(Ul(A,_)&&f.ref===p.ref)if(tr=!1,p.pendingProps=_=A,(f.lanes&R)!==0)f.flags&131072&&(tr=!0);else return p.lanes=f.lanes,to(f,p,R)}return Hg(f,p,E,_,R)}function w_(f,p,E){var _=p.pendingProps,R=_.children,A=f!==null?f.memoizedState:null;if(_.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(uu,gr),gr|=E;else{if(!(E&1073741824))return f=A!==null?A.baseLanes|E:E,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:f,cachePool:null,transitions:null},p.updateQueue=null,It(uu,gr),gr|=f,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=A!==null?A.baseLanes:E,It(uu,gr),gr|=_}else A!==null?(_=A.baseLanes|E,p.memoizedState=null):_=E,It(uu,gr),gr|=_;return qn(f,p,R,E),p.child}function T_(f,p){var E=p.ref;(f===null&&E!==null||f!==null&&f.ref!==E)&&(p.flags|=512,p.flags|=2097152)}function Hg(f,p,E,_,R){var A=er(E)?Us:Ln.current;return A=Ja(p,A),iu(p,R),E=Dg(f,p,E,_,A,R),_=Fg(),f!==null&&!tr?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~R,to(f,p,R)):(Dt&&_&&Eg(p),p.flags|=1,qn(f,p,E,R),p.child)}function __(f,p,E,_,R){if(er(E)){var A=!0;pd(p)}else A=!1;if(iu(p,R),p.stateNode===null)kd(f,p),c_(p,E,_),zg(p,E,_,R),_=!0;else if(f===null){var D=p.stateNode,Y=p.memoizedProps;D.props=Y;var Z=D.context,ce=E.contextType;typeof ce=="object"&&ce!==null?ce=Cr(ce):(ce=er(E)?Us:Ln.current,ce=Ja(p,ce));var ve=E.getDerivedStateFromProps,Ee=typeof ve=="function"||typeof D.getSnapshotBeforeUpdate=="function";Ee||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(Y!==_||Z!==ce)&&f_(p,D,_,ce),$o=!1;var me=p.memoizedState;D.state=me,Nd(p,_,D,R),Z=p.memoizedState,Y!==_||me!==Z||Zn.current||$o?(typeof ve=="function"&&(jg(p,E,ve,_),Z=p.memoizedState),(Y=$o||l_(p,E,Y,_,me,Z,ce))?(Ee||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(p.flags|=4194308)):(typeof D.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=_,p.memoizedState=Z),D.props=_,D.state=Z,D.context=ce,_=Y):(typeof D.componentDidMount=="function"&&(p.flags|=4194308),_=!1)}else{D=p.stateNode,UT(f,p),Y=p.memoizedProps,ce=p.type===p.elementType?Y:Qr(p.type,Y),D.props=ce,Ee=p.pendingProps,me=D.context,Z=E.contextType,typeof Z=="object"&&Z!==null?Z=Cr(Z):(Z=er(E)?Us:Ln.current,Z=Ja(p,Z));var Ae=E.getDerivedStateFromProps;(ve=typeof Ae=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(Y!==Ee||me!==Z)&&f_(p,D,_,Z),$o=!1,me=p.memoizedState,D.state=me,Nd(p,_,D,R);var Le=p.memoizedState;Y!==Ee||me!==Le||Zn.current||$o?(typeof Ae=="function"&&(jg(p,E,Ae,_),Le=p.memoizedState),(ce=$o||l_(p,E,ce,_,me,Le,Z)||!1)?(ve||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(_,Le,Z),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(_,Le,Z)),typeof D.componentDidUpdate=="function"&&(p.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof D.componentDidUpdate!="function"||Y===f.memoizedProps&&me===f.memoizedState||(p.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||Y===f.memoizedProps&&me===f.memoizedState||(p.flags|=1024),p.memoizedProps=_,p.memoizedState=Le),D.props=_,D.state=Le,D.context=Z,_=ce):(typeof D.componentDidUpdate!="function"||Y===f.memoizedProps&&me===f.memoizedState||(p.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||Y===f.memoizedProps&&me===f.memoizedState||(p.flags|=1024),_=!1)}return Gg(f,p,E,_,A,R)}function Gg(f,p,E,_,R,A){T_(f,p);var D=(p.flags&128)!==0;if(!_&&!D)return R&&ST(p,E,!1),to(f,p,A);_=p.stateNode,kL.current=p;var Y=D&&typeof E.getDerivedStateFromError!="function"?null:_.render();return p.flags|=1,f!==null&&D?(p.child=nu(p,f.child,null,A),p.child=nu(p,null,Y,A)):qn(f,p,Y,A),p.memoizedState=_.state,R&&ST(p,E,!0),p.child}function N_(f){var p=f.stateNode;p.pendingContext?xT(f,p.pendingContext,p.pendingContext!==p.context):p.context&&xT(f,p.context,!1),Ig(f,p.containerInfo)}function b_(f,p,E,_,R){return tu(),Ng(R),p.flags|=256,qn(f,p,E,_),p.child}var Yg={dehydrated:null,treeContext:null,retryLane:0};function Qg(f){return{baseLanes:f,cachePool:null,transitions:null}}function x_(f,p,E){var _=p.pendingProps,R=$t.current,A=!1,D=(p.flags&128)!==0,Y;if((Y=D)||(Y=f!==null&&f.memoizedState===null?!1:(R&2)!==0),Y?(A=!0,p.flags&=-129):(f===null||f.memoizedState!==null)&&(R|=1),It($t,R&1),f===null)return _g(p),f=p.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(p.mode&1?f.data==="$!"?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(D=_.children,f=_.fallback,A?(_=p.mode,A=p.child,D={mode:"hidden",children:D},!(_&1)&&A!==null?(A.childLanes=0,A.pendingProps=D):A=qd(D,_,0,null),f=Ys(f,_,E,null),A.return=p,f.return=p,A.sibling=f,p.child=A,p.child.memoizedState=Qg(E),p.memoizedState=Yg,f):Kg(p,D));if(R=f.memoizedState,R!==null&&(Y=R.dehydrated,Y!==null))return ML(f,p,D,_,Y,R,E);if(A){A=_.fallback,D=p.mode,R=f.child,Y=R.sibling;var Z={mode:"hidden",children:_.children};return!(D&1)&&p.child!==R?(_=p.child,_.childLanes=0,_.pendingProps=Z,p.deletions=null):(_=Go(R,Z),_.subtreeFlags=R.subtreeFlags&14680064),Y!==null?A=Go(Y,A):(A=Ys(A,D,E,null),A.flags|=2),A.return=p,_.return=p,_.sibling=A,p.child=_,_=A,A=p.child,D=f.child.memoizedState,D=D===null?Qg(E):{baseLanes:D.baseLanes|E,cachePool:null,transitions:D.transitions},A.memoizedState=D,A.childLanes=f.childLanes&~E,p.memoizedState=Yg,_}return A=f.child,f=A.sibling,_=Go(A,{mode:"visible",children:_.children}),!(p.mode&1)&&(_.lanes=E),_.return=p,_.sibling=null,f!==null&&(E=p.deletions,E===null?(p.deletions=[f],p.flags|=16):E.push(f)),p.child=_,p.memoizedState=null,_}function Kg(f,p){return p=qd({mode:"visible",children:p},f.mode,0,null),p.return=f,f.child=p}function Cd(f,p,E,_){return _!==null&&Ng(_),nu(p,f.child,null,E),f=Kg(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function ML(f,p,E,_,R,A,D){if(E)return p.flags&256?(p.flags&=-257,_=qg(Error(n(422))),Cd(f,p,D,_)):p.memoizedState!==null?(p.child=f.child,p.flags|=128,null):(A=_.fallback,R=p.mode,_=qd({mode:"visible",children:_.children},R,0,null),A=Ys(A,R,D,null),A.flags|=2,_.return=p,A.return=p,_.sibling=A,p.child=_,p.mode&1&&nu(p,f.child,null,D),p.child.memoizedState=Qg(D),p.memoizedState=Yg,A);if(!(p.mode&1))return Cd(f,p,D,null);if(R.data==="$!"){if(_=R.nextSibling&&R.nextSibling.dataset,_)var Y=_.dgst;return _=Y,A=Error(n(419)),_=qg(A,_,void 0),Cd(f,p,D,_)}if(Y=(D&f.childLanes)!==0,tr||Y){if(_=pn,_!==null){switch(D&-D){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=R&(_.suspendedLanes|D)?0:R,R!==0&&R!==A.retryLane&&(A.retryLane=R,Zi(f,R),Jr(_,f,R,-1))}return dv(),_=qg(Error(n(421))),Cd(f,p,D,_)}return R.data==="$?"?(p.flags|=128,p.child=f.child,p=HL.bind(null,f),R._reactRetry=p,null):(f=A.treeContext,mr=Do(R.nextSibling),pr=p,Dt=!0,Yr=null,f!==null&&(Or[Ir++]=Xi,Or[Ir++]=Ji,Or[Ir++]=Bs,Xi=f.id,Ji=f.overflow,Bs=p),p=Kg(p,_.children),p.flags|=4096,p)}function R_(f,p,E){f.lanes|=p;var _=f.alternate;_!==null&&(_.lanes|=p),Sg(f.return,p,E)}function Xg(f,p,E,_,R){var A=f.memoizedState;A===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:_,tail:E,tailMode:R}:(A.isBackwards=p,A.rendering=null,A.renderingStartTime=0,A.last=_,A.tail=E,A.tailMode=R)}function S_(f,p,E){var _=p.pendingProps,R=_.revealOrder,A=_.tail;if(qn(f,p,_.children,E),_=$t.current,_&2)_=_&1|2,p.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&R_(f,E,p);else if(f.tag===19)R_(f,E,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}_&=1}if(It($t,_),!(p.mode&1))p.memoizedState=null;else switch(R){case"forwards":for(E=p.child,R=null;E!==null;)f=E.alternate,f!==null&&bd(f)===null&&(R=E),E=E.sibling;E=R,E===null?(R=p.child,p.child=null):(R=E.sibling,E.sibling=null),Xg(p,!1,R,E,A);break;case"backwards":for(E=null,R=p.child,p.child=null;R!==null;){if(f=R.alternate,f!==null&&bd(f)===null){p.child=R;break}f=R.sibling,R.sibling=E,E=R,R=f}Xg(p,!0,E,null,A);break;case"together":Xg(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function kd(f,p){!(p.mode&1)&&f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2)}function to(f,p,E){if(f!==null&&(p.dependencies=f.dependencies),qs|=p.lanes,!(E&p.childLanes))return null;if(f!==null&&p.child!==f.child)throw Error(n(153));if(p.child!==null){for(f=p.child,E=Go(f,f.pendingProps),p.child=E,E.return=p;f.sibling!==null;)f=f.sibling,E=E.sibling=Go(f,f.pendingProps),E.return=p;E.sibling=null}return p.child}function PL(f,p,E){switch(p.tag){case 3:N_(p),tu();break;case 5:VT(p);break;case 1:er(p.type)&&pd(p);break;case 4:Ig(p,p.stateNode.containerInfo);break;case 10:var _=p.type._context,R=p.memoizedProps.value;It(wd,_._currentValue),_._currentValue=R;break;case 13:if(_=p.memoizedState,_!==null)return _.dehydrated!==null?(It($t,$t.current&1),p.flags|=128,null):E&p.child.childLanes?x_(f,p,E):(It($t,$t.current&1),f=to(f,p,E),f!==null?f.sibling:null);It($t,$t.current&1);break;case 19:if(_=(E&p.childLanes)!==0,f.flags&128){if(_)return S_(f,p,E);p.flags|=128}if(R=p.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),It($t,$t.current),_)break;return null;case 22:case 23:return p.lanes=0,w_(f,p,E)}return to(f,p,E)}var A_,Jg,O_,I_;A_=function(f,p){for(var E=p.child;E!==null;){if(E.tag===5||E.tag===6)f.appendChild(E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===p)break;for(;E.sibling===null;){if(E.return===null||E.return===p)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},Jg=function(){},O_=function(f,p,E,_){var R=f.memoizedProps;if(R!==_){f=p.stateNode,js(xi.current);var A=null;switch(E){case"input":R=Qe(f,R),_=Qe(f,_),A=[];break;case"select":R=W({},R,{value:void 0}),_=W({},_,{value:void 0}),A=[];break;case"textarea":R=Ze(f,R),_=Ze(f,_),A=[];break;default:typeof R.onClick!="function"&&typeof _.onClick=="function"&&(f.onclick=fd)}Sn(E,_);var D;E=null;for(ce in R)if(!_.hasOwnProperty(ce)&&R.hasOwnProperty(ce)&&R[ce]!=null)if(ce==="style"){var Y=R[ce];for(D in Y)Y.hasOwnProperty(D)&&(E||(E={}),E[D]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(i.hasOwnProperty(ce)?A||(A=[]):(A=A||[]).push(ce,null));for(ce in _){var Z=_[ce];if(Y=R!=null?R[ce]:void 0,_.hasOwnProperty(ce)&&Z!==Y&&(Z!=null||Y!=null))if(ce==="style")if(Y){for(D in Y)!Y.hasOwnProperty(D)||Z&&Z.hasOwnProperty(D)||(E||(E={}),E[D]="");for(D in Z)Z.hasOwnProperty(D)&&Y[D]!==Z[D]&&(E||(E={}),E[D]=Z[D])}else E||(A||(A=[]),A.push(ce,E)),E=Z;else ce==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Y=Y?Y.__html:void 0,Z!=null&&Y!==Z&&(A=A||[]).push(ce,Z)):ce==="children"?typeof Z!="string"&&typeof Z!="number"||(A=A||[]).push(ce,""+Z):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(i.hasOwnProperty(ce)?(Z!=null&&ce==="onScroll"&&Mt("scroll",f),A||Y===Z||(A=[])):(A=A||[]).push(ce,Z))}E&&(A=A||[]).push("style",E);var ce=A;(p.updateQueue=ce)&&(p.flags|=4)}},I_=function(f,p,E,_){E!==_&&(p.flags|=4)};function Zl(f,p){if(!Dt)switch(f.tailMode){case"hidden":p=f.tail;for(var E=null;p!==null;)p.alternate!==null&&(E=p),p=p.sibling;E===null?f.tail=null:E.sibling=null;break;case"collapsed":E=f.tail;for(var _=null;E!==null;)E.alternate!==null&&(_=E),E=E.sibling;_===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:_.sibling=null}}function Fn(f){var p=f.alternate!==null&&f.alternate.child===f.child,E=0,_=0;if(p)for(var R=f.child;R!==null;)E|=R.lanes|R.childLanes,_|=R.subtreeFlags&14680064,_|=R.flags&14680064,R.return=f,R=R.sibling;else for(R=f.child;R!==null;)E|=R.lanes|R.childLanes,_|=R.subtreeFlags,_|=R.flags,R.return=f,R=R.sibling;return f.subtreeFlags|=_,f.childLanes=E,p}function LL(f,p,E){var _=p.pendingProps;switch(wg(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(p),null;case 1:return er(p.type)&&hd(),Fn(p),null;case 3:return _=p.stateNode,ou(),Pt(Zn),Pt(Ln),Mg(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(f===null||f.child===null)&&(yd(p)?p.flags|=4:f===null||f.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,Yr!==null&&(lv(Yr),Yr=null))),Jg(f,p),Fn(p),null;case 5:Cg(p);var R=js(Yl.current);if(E=p.type,f!==null&&p.stateNode!=null)O_(f,p,E,_,R),f.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!_){if(p.stateNode===null)throw Error(n(166));return Fn(p),null}if(f=js(xi.current),yd(p)){_=p.stateNode,E=p.type;var A=p.memoizedProps;switch(_[bi]=p,_[zl]=A,f=(p.mode&1)!==0,E){case"dialog":Mt("cancel",_),Mt("close",_);break;case"iframe":case"object":case"embed":Mt("load",_);break;case"video":case"audio":for(R=0;R<$l.length;R++)Mt($l[R],_);break;case"source":Mt("error",_);break;case"img":case"image":case"link":Mt("error",_),Mt("load",_);break;case"details":Mt("toggle",_);break;case"input":ze(_,A),Mt("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!A.multiple},Mt("invalid",_);break;case"textarea":ye(_,A),Mt("invalid",_)}Sn(E,A),R=null;for(var D in A)if(A.hasOwnProperty(D)){var Y=A[D];D==="children"?typeof Y=="string"?_.textContent!==Y&&(A.suppressHydrationWarning!==!0&&cd(_.textContent,Y,f),R=["children",Y]):typeof Y=="number"&&_.textContent!==""+Y&&(A.suppressHydrationWarning!==!0&&cd(_.textContent,Y,f),R=["children",""+Y]):i.hasOwnProperty(D)&&Y!=null&&D==="onScroll"&&Mt("scroll",_)}switch(E){case"input":we(_),xe(_,A,!0);break;case"textarea":we(_),le(_);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(_.onclick=fd)}_=R,p.updateQueue=_,_!==null&&(p.flags|=4)}else{D=R.nodeType===9?R:R.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=de(E)),f==="http://www.w3.org/1999/xhtml"?E==="script"?(f=D.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof _.is=="string"?f=D.createElement(E,{is:_.is}):(f=D.createElement(E),E==="select"&&(D=f,_.multiple?D.multiple=!0:_.size&&(D.size=_.size))):f=D.createElementNS(f,E),f[bi]=p,f[zl]=_,A_(f,p,!1,!1),p.stateNode=f;e:{switch(D=dn(E,_),E){case"dialog":Mt("cancel",f),Mt("close",f),R=_;break;case"iframe":case"object":case"embed":Mt("load",f),R=_;break;case"video":case"audio":for(R=0;R<$l.length;R++)Mt($l[R],f);R=_;break;case"source":Mt("error",f),R=_;break;case"img":case"image":case"link":Mt("error",f),Mt("load",f),R=_;break;case"details":Mt("toggle",f),R=_;break;case"input":ze(f,_),R=Qe(f,_),Mt("invalid",f);break;case"option":R=_;break;case"select":f._wrapperState={wasMultiple:!!_.multiple},R=W({},_,{value:void 0}),Mt("invalid",f);break;case"textarea":ye(f,_),R=Ze(f,_),Mt("invalid",f);break;default:R=_}Sn(E,R),Y=R;for(A in Y)if(Y.hasOwnProperty(A)){var Z=Y[A];A==="style"?Ut(f,Z):A==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&rt(f,Z)):A==="children"?typeof Z=="string"?(E!=="textarea"||Z!=="")&&at(f,Z):typeof Z=="number"&&at(f,""+Z):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?Z!=null&&A==="onScroll"&&Mt("scroll",f):Z!=null&&N(f,A,Z,D))}switch(E){case"input":we(f),xe(f,_,!1);break;case"textarea":we(f),le(f);break;case"option":_.value!=null&&f.setAttribute("value",""+q(_.value));break;case"select":f.multiple=!!_.multiple,A=_.value,A!=null?gt(f,!!_.multiple,A,!1):_.defaultValue!=null&&gt(f,!!_.multiple,_.defaultValue,!0);break;default:typeof R.onClick=="function"&&(f.onclick=fd)}switch(E){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Fn(p),null;case 6:if(f&&p.stateNode!=null)I_(f,p,f.memoizedProps,_);else{if(typeof _!="string"&&p.stateNode===null)throw Error(n(166));if(E=js(Yl.current),js(xi.current),yd(p)){if(_=p.stateNode,E=p.memoizedProps,_[bi]=p,(A=_.nodeValue!==E)&&(f=pr,f!==null))switch(f.tag){case 3:cd(_.nodeValue,E,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&cd(_.nodeValue,E,(f.mode&1)!==0)}A&&(p.flags|=4)}else _=(E.nodeType===9?E:E.ownerDocument).createTextNode(_),_[bi]=p,p.stateNode=_}return Fn(p),null;case 13:if(Pt($t),_=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(Dt&&mr!==null&&p.mode&1&&!(p.flags&128))MT(),tu(),p.flags|=98560,A=!1;else if(A=yd(p),_!==null&&_.dehydrated!==null){if(f===null){if(!A)throw Error(n(318));if(A=p.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[bi]=p}else tu(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;Fn(p),A=!1}else Yr!==null&&(lv(Yr),Yr=null),A=!0;if(!A)return p.flags&65536?p:null}return p.flags&128?(p.lanes=E,p):(_=_!==null,_!==(f!==null&&f.memoizedState!==null)&&_&&(p.child.flags|=8192,p.mode&1&&(f===null||$t.current&1?an===0&&(an=3):dv())),p.updateQueue!==null&&(p.flags|=4),Fn(p),null);case 4:return ou(),Jg(f,p),f===null&&Vl(p.stateNode.containerInfo),Fn(p),null;case 10:return Rg(p.type._context),Fn(p),null;case 17:return er(p.type)&&hd(),Fn(p),null;case 19:if(Pt($t),A=p.memoizedState,A===null)return Fn(p),null;if(_=(p.flags&128)!==0,D=A.rendering,D===null)if(_)Zl(A,!1);else{if(an!==0||f!==null&&f.flags&128)for(f=p.child;f!==null;){if(D=bd(f),D!==null){for(p.flags|=128,Zl(A,!1),_=D.updateQueue,_!==null&&(p.updateQueue=_,p.flags|=4),p.subtreeFlags=0,_=E,E=p.child;E!==null;)A=E,f=_,A.flags&=14680066,D=A.alternate,D===null?(A.childLanes=0,A.lanes=f,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=D.childLanes,A.lanes=D.lanes,A.child=D.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=D.memoizedProps,A.memoizedState=D.memoizedState,A.updateQueue=D.updateQueue,A.type=D.type,f=D.dependencies,A.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),E=E.sibling;return It($t,$t.current&1|2),p.child}f=f.sibling}A.tail!==null&&Bt()>lu&&(p.flags|=128,_=!0,Zl(A,!1),p.lanes=4194304)}else{if(!_)if(f=bd(D),f!==null){if(p.flags|=128,_=!0,E=f.updateQueue,E!==null&&(p.updateQueue=E,p.flags|=4),Zl(A,!0),A.tail===null&&A.tailMode==="hidden"&&!D.alternate&&!Dt)return Fn(p),null}else 2*Bt()-A.renderingStartTime>lu&&E!==1073741824&&(p.flags|=128,_=!0,Zl(A,!1),p.lanes=4194304);A.isBackwards?(D.sibling=p.child,p.child=D):(E=A.last,E!==null?E.sibling=D:p.child=D,A.last=D)}return A.tail!==null?(p=A.tail,A.rendering=p,A.tail=p.sibling,A.renderingStartTime=Bt(),p.sibling=null,E=$t.current,It($t,_?E&1|2:E&1),p):(Fn(p),null);case 22:case 23:return fv(),_=p.memoizedState!==null,f!==null&&f.memoizedState!==null!==_&&(p.flags|=8192),_&&p.mode&1?gr&1073741824&&(Fn(p),p.subtreeFlags&6&&(p.flags|=8192)):Fn(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function DL(f,p){switch(wg(p),p.tag){case 1:return er(p.type)&&hd(),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return ou(),Pt(Zn),Pt(Ln),Mg(),f=p.flags,f&65536&&!(f&128)?(p.flags=f&-65537|128,p):null;case 5:return Cg(p),null;case 13:if(Pt($t),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(n(340));tu()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return Pt($t),null;case 4:return ou(),null;case 10:return Rg(p.type._context),null;case 22:case 23:return fv(),null;case 24:return null;default:return null}}var Md=!1,Un=!1,FL=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function au(f,p){var E=f.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(_){Gt(f,p,_)}else E.current=null}function Zg(f,p,E){try{E()}catch(_){Gt(f,p,_)}}var C_=!1;function UL(f,p){if(fg=Zf,f=lT(),rg(f)){if("selectionStart"in f)var E={start:f.selectionStart,end:f.selectionEnd};else e:{E=(E=f.ownerDocument)&&E.defaultView||window;var _=E.getSelection&&E.getSelection();if(_&&_.rangeCount!==0){E=_.anchorNode;var R=_.anchorOffset,A=_.focusNode;_=_.focusOffset;try{E.nodeType,A.nodeType}catch{E=null;break e}var D=0,Y=-1,Z=-1,ce=0,ve=0,Ee=f,me=null;t:for(;;){for(var Ae;Ee!==E||R!==0&&Ee.nodeType!==3||(Y=D+R),Ee!==A||_!==0&&Ee.nodeType!==3||(Z=D+_),Ee.nodeType===3&&(D+=Ee.nodeValue.length),(Ae=Ee.firstChild)!==null;)me=Ee,Ee=Ae;for(;;){if(Ee===f)break t;if(me===E&&++ce===R&&(Y=D),me===A&&++ve===_&&(Z=D),(Ae=Ee.nextSibling)!==null)break;Ee=me,me=Ee.parentNode}Ee=Ae}E=Y===-1||Z===-1?null:{start:Y,end:Z}}else E=null}E=E||{start:0,end:0}}else E=null;for(dg={focusedElem:f,selectionRange:E},Zf=!1,Pe=p;Pe!==null;)if(p=Pe,f=p.child,(p.subtreeFlags&1028)!==0&&f!==null)f.return=p,Pe=f;else for(;Pe!==null;){p=Pe;try{var Le=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Be=Le.memoizedProps,Jt=Le.memoizedState,ae=p.stateNode,re=ae.getSnapshotBeforeUpdate(p.elementType===p.type?Be:Qr(p.type,Be),Jt);ae.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var ue=p.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ne){Gt(p,p.return,Ne)}if(f=p.sibling,f!==null){f.return=p.return,Pe=f;break}Pe=p.return}return Le=C_,C_=!1,Le}function ec(f,p,E){var _=p.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var R=_=_.next;do{if((R.tag&f)===f){var A=R.destroy;R.destroy=void 0,A!==void 0&&Zg(p,E,A)}R=R.next}while(R!==_)}}function Pd(f,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var E=p=p.next;do{if((E.tag&f)===f){var _=E.create;E.destroy=_()}E=E.next}while(E!==p)}}function ev(f){var p=f.ref;if(p!==null){var E=f.stateNode;switch(f.tag){case 5:f=E;break;default:f=E}typeof p=="function"?p(f):p.current=f}}function k_(f){var p=f.alternate;p!==null&&(f.alternate=null,k_(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&(delete p[bi],delete p[zl],delete p[gg],delete p[wL],delete p[TL])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function M_(f){return f.tag===5||f.tag===3||f.tag===4}function P_(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||M_(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function tv(f,p,E){var _=f.tag;if(_===5||_===6)f=f.stateNode,p?E.nodeType===8?E.parentNode.insertBefore(f,p):E.insertBefore(f,p):(E.nodeType===8?(p=E.parentNode,p.insertBefore(f,E)):(p=E,p.appendChild(f)),E=E._reactRootContainer,E!=null||p.onclick!==null||(p.onclick=fd));else if(_!==4&&(f=f.child,f!==null))for(tv(f,p,E),f=f.sibling;f!==null;)tv(f,p,E),f=f.sibling}function nv(f,p,E){var _=f.tag;if(_===5||_===6)f=f.stateNode,p?E.insertBefore(f,p):E.appendChild(f);else if(_!==4&&(f=f.child,f!==null))for(nv(f,p,E),f=f.sibling;f!==null;)nv(f,p,E),f=f.sibling}var An=null,Kr=!1;function jo(f,p,E){for(E=E.child;E!==null;)L_(f,p,E),E=E.sibling}function L_(f,p,E){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(ja,E)}catch{}switch(E.tag){case 5:Un||au(E,p);case 6:var _=An,R=Kr;An=null,jo(f,p,E),An=_,Kr=R,An!==null&&(Kr?(f=An,E=E.stateNode,f.nodeType===8?f.parentNode.removeChild(E):f.removeChild(E)):An.removeChild(E.stateNode));break;case 18:An!==null&&(Kr?(f=An,E=E.stateNode,f.nodeType===8?mg(f.parentNode,E):f.nodeType===1&&mg(f,E),kl(f)):mg(An,E.stateNode));break;case 4:_=An,R=Kr,An=E.stateNode.containerInfo,Kr=!0,jo(f,p,E),An=_,Kr=R;break;case 0:case 11:case 14:case 15:if(!Un&&(_=E.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){R=_=_.next;do{var A=R,D=A.destroy;A=A.tag,D!==void 0&&(A&2||A&4)&&Zg(E,p,D),R=R.next}while(R!==_)}jo(f,p,E);break;case 1:if(!Un&&(au(E,p),_=E.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=E.memoizedProps,_.state=E.memoizedState,_.componentWillUnmount()}catch(Y){Gt(E,p,Y)}jo(f,p,E);break;case 21:jo(f,p,E);break;case 22:E.mode&1?(Un=(_=Un)||E.memoizedState!==null,jo(f,p,E),Un=_):jo(f,p,E);break;default:jo(f,p,E)}}function D_(f){var p=f.updateQueue;if(p!==null){f.updateQueue=null;var E=f.stateNode;E===null&&(E=f.stateNode=new FL),p.forEach(function(_){var R=GL.bind(null,f,_);E.has(_)||(E.add(_),_.then(R,R))})}}function Xr(f,p){var E=p.deletions;if(E!==null)for(var _=0;_<E.length;_++){var R=E[_];try{var A=f,D=p,Y=D;e:for(;Y!==null;){switch(Y.tag){case 5:An=Y.stateNode,Kr=!1;break e;case 3:An=Y.stateNode.containerInfo,Kr=!0;break e;case 4:An=Y.stateNode.containerInfo,Kr=!0;break e}Y=Y.return}if(An===null)throw Error(n(160));L_(A,D,R),An=null,Kr=!1;var Z=R.alternate;Z!==null&&(Z.return=null),R.return=null}catch(ce){Gt(R,p,ce)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)F_(p,f),p=p.sibling}function F_(f,p){var E=f.alternate,_=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(Xr(p,f),Si(f),_&4){try{ec(3,f,f.return),Pd(3,f)}catch(Be){Gt(f,f.return,Be)}try{ec(5,f,f.return)}catch(Be){Gt(f,f.return,Be)}}break;case 1:Xr(p,f),Si(f),_&512&&E!==null&&au(E,E.return);break;case 5:if(Xr(p,f),Si(f),_&512&&E!==null&&au(E,E.return),f.flags&32){var R=f.stateNode;try{at(R,"")}catch(Be){Gt(f,f.return,Be)}}if(_&4&&(R=f.stateNode,R!=null)){var A=f.memoizedProps,D=E!==null?E.memoizedProps:A,Y=f.type,Z=f.updateQueue;if(f.updateQueue=null,Z!==null)try{Y==="input"&&A.type==="radio"&&A.name!=null&&Rt(R,A),dn(Y,D);var ce=dn(Y,A);for(D=0;D<Z.length;D+=2){var ve=Z[D],Ee=Z[D+1];ve==="style"?Ut(R,Ee):ve==="dangerouslySetInnerHTML"?rt(R,Ee):ve==="children"?at(R,Ee):N(R,ve,Ee,ce)}switch(Y){case"input":Xe(R,A);break;case"textarea":ne(R,A);break;case"select":var me=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!A.multiple;var Ae=A.value;Ae!=null?gt(R,!!A.multiple,Ae,!1):me!==!!A.multiple&&(A.defaultValue!=null?gt(R,!!A.multiple,A.defaultValue,!0):gt(R,!!A.multiple,A.multiple?[]:"",!1))}R[zl]=A}catch(Be){Gt(f,f.return,Be)}}break;case 6:if(Xr(p,f),Si(f),_&4){if(f.stateNode===null)throw Error(n(162));R=f.stateNode,A=f.memoizedProps;try{R.nodeValue=A}catch(Be){Gt(f,f.return,Be)}}break;case 3:if(Xr(p,f),Si(f),_&4&&E!==null&&E.memoizedState.isDehydrated)try{kl(p.containerInfo)}catch(Be){Gt(f,f.return,Be)}break;case 4:Xr(p,f),Si(f);break;case 13:Xr(p,f),Si(f),R=f.child,R.flags&8192&&(A=R.memoizedState!==null,R.stateNode.isHidden=A,!A||R.alternate!==null&&R.alternate.memoizedState!==null||(ov=Bt())),_&4&&D_(f);break;case 22:if(ve=E!==null&&E.memoizedState!==null,f.mode&1?(Un=(ce=Un)||ve,Xr(p,f),Un=ce):Xr(p,f),Si(f),_&8192){if(ce=f.memoizedState!==null,(f.stateNode.isHidden=ce)&&!ve&&f.mode&1)for(Pe=f,ve=f.child;ve!==null;){for(Ee=Pe=ve;Pe!==null;){switch(me=Pe,Ae=me.child,me.tag){case 0:case 11:case 14:case 15:ec(4,me,me.return);break;case 1:au(me,me.return);var Le=me.stateNode;if(typeof Le.componentWillUnmount=="function"){_=me,E=me.return;try{p=_,Le.props=p.memoizedProps,Le.state=p.memoizedState,Le.componentWillUnmount()}catch(Be){Gt(_,E,Be)}}break;case 5:au(me,me.return);break;case 22:if(me.memoizedState!==null){$_(Ee);continue}}Ae!==null?(Ae.return=me,Pe=Ae):$_(Ee)}ve=ve.sibling}e:for(ve=null,Ee=f;;){if(Ee.tag===5){if(ve===null){ve=Ee;try{R=Ee.stateNode,ce?(A=R.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(Y=Ee.stateNode,Z=Ee.memoizedProps.style,D=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,Y.style.display=nt("display",D))}catch(Be){Gt(f,f.return,Be)}}}else if(Ee.tag===6){if(ve===null)try{Ee.stateNode.nodeValue=ce?"":Ee.memoizedProps}catch(Be){Gt(f,f.return,Be)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===f)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===f)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===f)break e;ve===Ee&&(ve=null),Ee=Ee.return}ve===Ee&&(ve=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:Xr(p,f),Si(f),_&4&&D_(f);break;case 21:break;default:Xr(p,f),Si(f)}}function Si(f){var p=f.flags;if(p&2){try{e:{for(var E=f.return;E!==null;){if(M_(E)){var _=E;break e}E=E.return}throw Error(n(160))}switch(_.tag){case 5:var R=_.stateNode;_.flags&32&&(at(R,""),_.flags&=-33);var A=P_(f);nv(f,A,R);break;case 3:case 4:var D=_.stateNode.containerInfo,Y=P_(f);tv(f,Y,D);break;default:throw Error(n(161))}}catch(Z){Gt(f,f.return,Z)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function BL(f,p,E){Pe=f,U_(f)}function U_(f,p,E){for(var _=(f.mode&1)!==0;Pe!==null;){var R=Pe,A=R.child;if(R.tag===22&&_){var D=R.memoizedState!==null||Md;if(!D){var Y=R.alternate,Z=Y!==null&&Y.memoizedState!==null||Un;Y=Md;var ce=Un;if(Md=D,(Un=Z)&&!ce)for(Pe=R;Pe!==null;)D=Pe,Z=D.child,D.tag===22&&D.memoizedState!==null?V_(R):Z!==null?(Z.return=D,Pe=Z):V_(R);for(;A!==null;)Pe=A,U_(A),A=A.sibling;Pe=R,Md=Y,Un=ce}B_(f)}else R.subtreeFlags&8772&&A!==null?(A.return=R,Pe=A):B_(f)}}function B_(f){for(;Pe!==null;){var p=Pe;if(p.flags&8772){var E=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:Un||Pd(5,p);break;case 1:var _=p.stateNode;if(p.flags&4&&!Un)if(E===null)_.componentDidMount();else{var R=p.elementType===p.type?E.memoizedProps:Qr(p.type,E.memoizedProps);_.componentDidUpdate(R,E.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var A=p.updateQueue;A!==null&&$T(p,A,_);break;case 3:var D=p.updateQueue;if(D!==null){if(E=null,p.child!==null)switch(p.child.tag){case 5:E=p.child.stateNode;break;case 1:E=p.child.stateNode}$T(p,D,E)}break;case 5:var Y=p.stateNode;if(E===null&&p.flags&4){E=Y;var Z=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&E.focus();break;case"img":Z.src&&(E.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var ce=p.alternate;if(ce!==null){var ve=ce.memoizedState;if(ve!==null){var Ee=ve.dehydrated;Ee!==null&&kl(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Un||p.flags&512&&ev(p)}catch(me){Gt(p,p.return,me)}}if(p===f){Pe=null;break}if(E=p.sibling,E!==null){E.return=p.return,Pe=E;break}Pe=p.return}}function $_(f){for(;Pe!==null;){var p=Pe;if(p===f){Pe=null;break}var E=p.sibling;if(E!==null){E.return=p.return,Pe=E;break}Pe=p.return}}function V_(f){for(;Pe!==null;){var p=Pe;try{switch(p.tag){case 0:case 11:case 15:var E=p.return;try{Pd(4,p)}catch(Z){Gt(p,E,Z)}break;case 1:var _=p.stateNode;if(typeof _.componentDidMount=="function"){var R=p.return;try{_.componentDidMount()}catch(Z){Gt(p,R,Z)}}var A=p.return;try{ev(p)}catch(Z){Gt(p,A,Z)}break;case 5:var D=p.return;try{ev(p)}catch(Z){Gt(p,D,Z)}}}catch(Z){Gt(p,p.return,Z)}if(p===f){Pe=null;break}var Y=p.sibling;if(Y!==null){Y.return=p.return,Pe=Y;break}Pe=p.return}}var $L=Math.ceil,Ld=b.ReactCurrentDispatcher,rv=b.ReactCurrentOwner,Mr=b.ReactCurrentBatchConfig,ht=0,pn=null,en=null,On=0,gr=0,uu=Fo(0),an=0,tc=null,qs=0,Dd=0,iv=0,nc=null,nr=null,ov=0,lu=1/0,no=null,Fd=!1,sv=null,zo=null,Ud=!1,qo=null,Bd=0,rc=0,av=null,$d=-1,Vd=0;function Wn(){return ht&6?Bt():$d!==-1?$d:$d=Bt()}function Wo(f){return f.mode&1?ht&2&&On!==0?On&-On:NL.transition!==null?(Vd===0&&(Vd=P1()),Vd):(f=Nt,f!==0||(f=window.event,f=f===void 0?16:z1(f.type)),f):1}function Jr(f,p,E,_){if(50<rc)throw rc=0,av=null,Error(n(185));Sl(f,E,_),(!(ht&2)||f!==pn)&&(f===pn&&(!(ht&2)&&(Dd|=E),an===4&&Ho(f,On)),rr(f,_),E===1&&ht===0&&!(p.mode&1)&&(lu=Bt()+500,md&&Bo()))}function rr(f,p){var E=f.callbackNode;NP(f,p);var _=Kf(f,f===pn?On:0);if(_===0)E!==null&&zf(E),f.callbackNode=null,f.callbackPriority=0;else if(p=_&-_,f.callbackPriority!==p){if(E!=null&&zf(E),p===1)f.tag===0?_L(z_.bind(null,f)):AT(z_.bind(null,f)),yL(function(){!(ht&6)&&Bo()}),E=null;else{switch(L1(_)){case 1:E=bl;break;case 4:E=Wf;break;case 16:E=Va;break;case 536870912:E=Gf;break;default:E=Va}E=X_(E,j_.bind(null,f))}f.callbackPriority=p,f.callbackNode=E}}function j_(f,p){if($d=-1,Vd=0,ht&6)throw Error(n(327));var E=f.callbackNode;if(cu()&&f.callbackNode!==E)return null;var _=Kf(f,f===pn?On:0);if(_===0)return null;if(_&30||_&f.expiredLanes||p)p=jd(f,_);else{p=_;var R=ht;ht|=2;var A=W_();(pn!==f||On!==p)&&(no=null,lu=Bt()+500,Hs(f,p));do try{zL();break}catch(Y){q_(f,Y)}while(!0);xg(),Ld.current=A,ht=R,en!==null?p=0:(pn=null,On=0,p=an)}if(p!==0){if(p===2&&(R=Vm(f),R!==0&&(_=R,p=uv(f,R))),p===1)throw E=tc,Hs(f,0),Ho(f,_),rr(f,Bt()),E;if(p===6)Ho(f,_);else{if(R=f.current.alternate,!(_&30)&&!VL(R)&&(p=jd(f,_),p===2&&(A=Vm(f),A!==0&&(_=A,p=uv(f,A))),p===1))throw E=tc,Hs(f,0),Ho(f,_),rr(f,Bt()),E;switch(f.finishedWork=R,f.finishedLanes=_,p){case 0:case 1:throw Error(n(345));case 2:Gs(f,nr,no);break;case 3:if(Ho(f,_),(_&130023424)===_&&(p=ov+500-Bt(),10<p)){if(Kf(f,0)!==0)break;if(R=f.suspendedLanes,(R&_)!==_){Wn(),f.pingedLanes|=f.suspendedLanes&R;break}f.timeoutHandle=pg(Gs.bind(null,f,nr,no),p);break}Gs(f,nr,no);break;case 4:if(Ho(f,_),(_&4194240)===_)break;for(p=f.eventTimes,R=-1;0<_;){var D=31-Hr(_);A=1<<D,D=p[D],D>R&&(R=D),_&=~A}if(_=R,_=Bt()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*$L(_/1960))-_,10<_){f.timeoutHandle=pg(Gs.bind(null,f,nr,no),_);break}Gs(f,nr,no);break;case 5:Gs(f,nr,no);break;default:throw Error(n(329))}}}return rr(f,Bt()),f.callbackNode===E?j_.bind(null,f):null}function uv(f,p){var E=nc;return f.current.memoizedState.isDehydrated&&(Hs(f,p).flags|=256),f=jd(f,p),f!==2&&(p=nr,nr=E,p!==null&&lv(p)),f}function lv(f){nr===null?nr=f:nr.push.apply(nr,f)}function VL(f){for(var p=f;;){if(p.flags&16384){var E=p.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var _=0;_<E.length;_++){var R=E[_],A=R.getSnapshot;R=R.value;try{if(!Gr(A(),R))return!1}catch{return!1}}}if(E=p.child,p.subtreeFlags&16384&&E!==null)E.return=p,p=E;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Ho(f,p){for(p&=~iv,p&=~Dd,f.suspendedLanes|=p,f.pingedLanes&=~p,f=f.expirationTimes;0<p;){var E=31-Hr(p),_=1<<E;f[E]=-1,p&=~_}}function z_(f){if(ht&6)throw Error(n(327));cu();var p=Kf(f,0);if(!(p&1))return rr(f,Bt()),null;var E=jd(f,p);if(f.tag!==0&&E===2){var _=Vm(f);_!==0&&(p=_,E=uv(f,_))}if(E===1)throw E=tc,Hs(f,0),Ho(f,p),rr(f,Bt()),E;if(E===6)throw Error(n(345));return f.finishedWork=f.current.alternate,f.finishedLanes=p,Gs(f,nr,no),rr(f,Bt()),null}function cv(f,p){var E=ht;ht|=1;try{return f(p)}finally{ht=E,ht===0&&(lu=Bt()+500,md&&Bo())}}function Ws(f){qo!==null&&qo.tag===0&&!(ht&6)&&cu();var p=ht;ht|=1;var E=Mr.transition,_=Nt;try{if(Mr.transition=null,Nt=1,f)return f()}finally{Nt=_,Mr.transition=E,ht=p,!(ht&6)&&Bo()}}function fv(){gr=uu.current,Pt(uu)}function Hs(f,p){f.finishedWork=null,f.finishedLanes=0;var E=f.timeoutHandle;if(E!==-1&&(f.timeoutHandle=-1,vL(E)),en!==null)for(E=en.return;E!==null;){var _=E;switch(wg(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&hd();break;case 3:ou(),Pt(Zn),Pt(Ln),Mg();break;case 5:Cg(_);break;case 4:ou();break;case 13:Pt($t);break;case 19:Pt($t);break;case 10:Rg(_.type._context);break;case 22:case 23:fv()}E=E.return}if(pn=f,en=f=Go(f.current,null),On=gr=p,an=0,tc=null,iv=Dd=qs=0,nr=nc=null,Vs!==null){for(p=0;p<Vs.length;p++)if(E=Vs[p],_=E.interleaved,_!==null){E.interleaved=null;var R=_.next,A=E.pending;if(A!==null){var D=A.next;A.next=R,_.next=D}E.pending=_}Vs=null}return f}function q_(f,p){do{var E=en;try{if(xg(),xd.current=Od,Rd){for(var _=Vt.memoizedState;_!==null;){var R=_.queue;R!==null&&(R.pending=null),_=_.next}Rd=!1}if(zs=0,hn=sn=Vt=null,Ql=!1,Kl=0,rv.current=null,E===null||E.return===null){an=1,tc=p,en=null;break}e:{var A=f,D=E.return,Y=E,Z=p;if(p=On,Y.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ce=Z,ve=Y,Ee=ve.tag;if(!(ve.mode&1)&&(Ee===0||Ee===11||Ee===15)){var me=ve.alternate;me?(ve.updateQueue=me.updateQueue,ve.memoizedState=me.memoizedState,ve.lanes=me.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Ae=m_(D);if(Ae!==null){Ae.flags&=-257,g_(Ae,D,Y,A,p),Ae.mode&1&&p_(A,ce,p),p=Ae,Z=ce;var Le=p.updateQueue;if(Le===null){var Be=new Set;Be.add(Z),p.updateQueue=Be}else Le.add(Z);break e}else{if(!(p&1)){p_(A,ce,p),dv();break e}Z=Error(n(426))}}else if(Dt&&Y.mode&1){var Jt=m_(D);if(Jt!==null){!(Jt.flags&65536)&&(Jt.flags|=256),g_(Jt,D,Y,A,p),Ng(su(Z,Y));break e}}A=Z=su(Z,Y),an!==4&&(an=2),nc===null?nc=[A]:nc.push(A),A=D;do{switch(A.tag){case 3:A.flags|=65536,p&=-p,A.lanes|=p;var ae=d_(A,Z,p);BT(A,ae);break e;case 1:Y=Z;var re=A.type,ue=A.stateNode;if(!(A.flags&128)&&(typeof re.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(zo===null||!zo.has(ue)))){A.flags|=65536,p&=-p,A.lanes|=p;var Ne=h_(A,Y,p);BT(A,Ne);break e}}A=A.return}while(A!==null)}G_(E)}catch($e){p=$e,en===E&&E!==null&&(en=E=E.return);continue}break}while(!0)}function W_(){var f=Ld.current;return Ld.current=Od,f===null?Od:f}function dv(){(an===0||an===3||an===2)&&(an=4),pn===null||!(qs&268435455)&&!(Dd&268435455)||Ho(pn,On)}function jd(f,p){var E=ht;ht|=2;var _=W_();(pn!==f||On!==p)&&(no=null,Hs(f,p));do try{jL();break}catch(R){q_(f,R)}while(!0);if(xg(),ht=E,Ld.current=_,en!==null)throw Error(n(261));return pn=null,On=0,an}function jL(){for(;en!==null;)H_(en)}function zL(){for(;en!==null&&!qf();)H_(en)}function H_(f){var p=K_(f.alternate,f,gr);f.memoizedProps=f.pendingProps,p===null?G_(f):en=p,rv.current=null}function G_(f){var p=f;do{var E=p.alternate;if(f=p.return,p.flags&32768){if(E=DL(E,p),E!==null){E.flags&=32767,en=E;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{an=6,en=null;return}}else if(E=LL(E,p,gr),E!==null){en=E;return}if(p=p.sibling,p!==null){en=p;return}en=p=f}while(p!==null);an===0&&(an=5)}function Gs(f,p,E){var _=Nt,R=Mr.transition;try{Mr.transition=null,Nt=1,qL(f,p,E,_)}finally{Mr.transition=R,Nt=_}return null}function qL(f,p,E,_){do cu();while(qo!==null);if(ht&6)throw Error(n(327));E=f.finishedWork;var R=f.finishedLanes;if(E===null)return null;if(f.finishedWork=null,f.finishedLanes=0,E===f.current)throw Error(n(177));f.callbackNode=null,f.callbackPriority=0;var A=E.lanes|E.childLanes;if(bP(f,A),f===pn&&(en=pn=null,On=0),!(E.subtreeFlags&2064)&&!(E.flags&2064)||Ud||(Ud=!0,X_(Va,function(){return cu(),null})),A=(E.flags&15990)!==0,E.subtreeFlags&15990||A){A=Mr.transition,Mr.transition=null;var D=Nt;Nt=1;var Y=ht;ht|=4,rv.current=null,UL(f,E),F_(E,f),cL(dg),Zf=!!fg,dg=fg=null,f.current=E,BL(E),Bm(),ht=Y,Nt=D,Mr.transition=A}else f.current=E;if(Ud&&(Ud=!1,qo=f,Bd=R),A=f.pendingLanes,A===0&&(zo=null),xl(E.stateNode),rr(f,Bt()),p!==null)for(_=f.onRecoverableError,E=0;E<p.length;E++)R=p[E],_(R.value,{componentStack:R.stack,digest:R.digest});if(Fd)throw Fd=!1,f=sv,sv=null,f;return Bd&1&&f.tag!==0&&cu(),A=f.pendingLanes,A&1?f===av?rc++:(rc=0,av=f):rc=0,Bo(),null}function cu(){if(qo!==null){var f=L1(Bd),p=Mr.transition,E=Nt;try{if(Mr.transition=null,Nt=16>f?16:f,qo===null)var _=!1;else{if(f=qo,qo=null,Bd=0,ht&6)throw Error(n(331));var R=ht;for(ht|=4,Pe=f.current;Pe!==null;){var A=Pe,D=A.child;if(Pe.flags&16){var Y=A.deletions;if(Y!==null){for(var Z=0;Z<Y.length;Z++){var ce=Y[Z];for(Pe=ce;Pe!==null;){var ve=Pe;switch(ve.tag){case 0:case 11:case 15:ec(8,ve,A)}var Ee=ve.child;if(Ee!==null)Ee.return=ve,Pe=Ee;else for(;Pe!==null;){ve=Pe;var me=ve.sibling,Ae=ve.return;if(k_(ve),ve===ce){Pe=null;break}if(me!==null){me.return=Ae,Pe=me;break}Pe=Ae}}}var Le=A.alternate;if(Le!==null){var Be=Le.child;if(Be!==null){Le.child=null;do{var Jt=Be.sibling;Be.sibling=null,Be=Jt}while(Be!==null)}}Pe=A}}if(A.subtreeFlags&2064&&D!==null)D.return=A,Pe=D;else e:for(;Pe!==null;){if(A=Pe,A.flags&2048)switch(A.tag){case 0:case 11:case 15:ec(9,A,A.return)}var ae=A.sibling;if(ae!==null){ae.return=A.return,Pe=ae;break e}Pe=A.return}}var re=f.current;for(Pe=re;Pe!==null;){D=Pe;var ue=D.child;if(D.subtreeFlags&2064&&ue!==null)ue.return=D,Pe=ue;else e:for(D=re;Pe!==null;){if(Y=Pe,Y.flags&2048)try{switch(Y.tag){case 0:case 11:case 15:Pd(9,Y)}}catch($e){Gt(Y,Y.return,$e)}if(Y===D){Pe=null;break e}var Ne=Y.sibling;if(Ne!==null){Ne.return=Y.return,Pe=Ne;break e}Pe=Y.return}}if(ht=R,Bo(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(ja,f)}catch{}_=!0}return _}finally{Nt=E,Mr.transition=p}}return!1}function Y_(f,p,E){p=su(E,p),p=d_(f,p,1),f=Vo(f,p,1),p=Wn(),f!==null&&(Sl(f,1,p),rr(f,p))}function Gt(f,p,E){if(f.tag===3)Y_(f,f,E);else for(;p!==null;){if(p.tag===3){Y_(p,f,E);break}else if(p.tag===1){var _=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(zo===null||!zo.has(_))){f=su(E,f),f=h_(p,f,1),p=Vo(p,f,1),f=Wn(),p!==null&&(Sl(p,1,f),rr(p,f));break}}p=p.return}}function WL(f,p,E){var _=f.pingCache;_!==null&&_.delete(p),p=Wn(),f.pingedLanes|=f.suspendedLanes&E,pn===f&&(On&E)===E&&(an===4||an===3&&(On&130023424)===On&&500>Bt()-ov?Hs(f,0):iv|=E),rr(f,p)}function Q_(f,p){p===0&&(f.mode&1?(p=Qf,Qf<<=1,!(Qf&130023424)&&(Qf=4194304)):p=1);var E=Wn();f=Zi(f,p),f!==null&&(Sl(f,p,E),rr(f,E))}function HL(f){var p=f.memoizedState,E=0;p!==null&&(E=p.retryLane),Q_(f,E)}function GL(f,p){var E=0;switch(f.tag){case 13:var _=f.stateNode,R=f.memoizedState;R!==null&&(E=R.retryLane);break;case 19:_=f.stateNode;break;default:throw Error(n(314))}_!==null&&_.delete(p),Q_(f,E)}var K_;K_=function(f,p,E){if(f!==null)if(f.memoizedProps!==p.pendingProps||Zn.current)tr=!0;else{if(!(f.lanes&E)&&!(p.flags&128))return tr=!1,PL(f,p,E);tr=!!(f.flags&131072)}else tr=!1,Dt&&p.flags&1048576&&OT(p,vd,p.index);switch(p.lanes=0,p.tag){case 2:var _=p.type;kd(f,p),f=p.pendingProps;var R=Ja(p,Ln.current);iu(p,E),R=Dg(null,p,_,f,R,E);var A=Fg();return p.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,er(_)?(A=!0,pd(p)):A=!1,p.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Og(p),R.updater=Id,p.stateNode=R,R._reactInternals=p,zg(p,_,f,E),p=Gg(null,p,_,!0,A,E)):(p.tag=0,Dt&&A&&Eg(p),qn(null,p,R,E),p=p.child),p;case 16:_=p.elementType;e:{switch(kd(f,p),f=p.pendingProps,R=_._init,_=R(_._payload),p.type=_,R=p.tag=QL(_),f=Qr(_,f),R){case 0:p=Hg(null,p,_,f,E);break e;case 1:p=__(null,p,_,f,E);break e;case 11:p=v_(null,p,_,f,E);break e;case 14:p=y_(null,p,_,Qr(_.type,f),E);break e}throw Error(n(306,_,""))}return p;case 0:return _=p.type,R=p.pendingProps,R=p.elementType===_?R:Qr(_,R),Hg(f,p,_,R,E);case 1:return _=p.type,R=p.pendingProps,R=p.elementType===_?R:Qr(_,R),__(f,p,_,R,E);case 3:e:{if(N_(p),f===null)throw Error(n(387));_=p.pendingProps,A=p.memoizedState,R=A.element,UT(f,p),Nd(p,_,null,E);var D=p.memoizedState;if(_=D.element,A.isDehydrated)if(A={element:_,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},p.updateQueue.baseState=A,p.memoizedState=A,p.flags&256){R=su(Error(n(423)),p),p=b_(f,p,_,E,R);break e}else if(_!==R){R=su(Error(n(424)),p),p=b_(f,p,_,E,R);break e}else for(mr=Do(p.stateNode.containerInfo.firstChild),pr=p,Dt=!0,Yr=null,E=DT(p,null,_,E),p.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(tu(),_===R){p=to(f,p,E);break e}qn(f,p,_,E)}p=p.child}return p;case 5:return VT(p),f===null&&_g(p),_=p.type,R=p.pendingProps,A=f!==null?f.memoizedProps:null,D=R.children,hg(_,R)?D=null:A!==null&&hg(_,A)&&(p.flags|=32),T_(f,p),qn(f,p,D,E),p.child;case 6:return f===null&&_g(p),null;case 13:return x_(f,p,E);case 4:return Ig(p,p.stateNode.containerInfo),_=p.pendingProps,f===null?p.child=nu(p,null,_,E):qn(f,p,_,E),p.child;case 11:return _=p.type,R=p.pendingProps,R=p.elementType===_?R:Qr(_,R),v_(f,p,_,R,E);case 7:return qn(f,p,p.pendingProps,E),p.child;case 8:return qn(f,p,p.pendingProps.children,E),p.child;case 12:return qn(f,p,p.pendingProps.children,E),p.child;case 10:e:{if(_=p.type._context,R=p.pendingProps,A=p.memoizedProps,D=R.value,It(wd,_._currentValue),_._currentValue=D,A!==null)if(Gr(A.value,D)){if(A.children===R.children&&!Zn.current){p=to(f,p,E);break e}}else for(A=p.child,A!==null&&(A.return=p);A!==null;){var Y=A.dependencies;if(Y!==null){D=A.child;for(var Z=Y.firstContext;Z!==null;){if(Z.context===_){if(A.tag===1){Z=eo(-1,E&-E),Z.tag=2;var ce=A.updateQueue;if(ce!==null){ce=ce.shared;var ve=ce.pending;ve===null?Z.next=Z:(Z.next=ve.next,ve.next=Z),ce.pending=Z}}A.lanes|=E,Z=A.alternate,Z!==null&&(Z.lanes|=E),Sg(A.return,E,p),Y.lanes|=E;break}Z=Z.next}}else if(A.tag===10)D=A.type===p.type?null:A.child;else if(A.tag===18){if(D=A.return,D===null)throw Error(n(341));D.lanes|=E,Y=D.alternate,Y!==null&&(Y.lanes|=E),Sg(D,E,p),D=A.sibling}else D=A.child;if(D!==null)D.return=A;else for(D=A;D!==null;){if(D===p){D=null;break}if(A=D.sibling,A!==null){A.return=D.return,D=A;break}D=D.return}A=D}qn(f,p,R.children,E),p=p.child}return p;case 9:return R=p.type,_=p.pendingProps.children,iu(p,E),R=Cr(R),_=_(R),p.flags|=1,qn(f,p,_,E),p.child;case 14:return _=p.type,R=Qr(_,p.pendingProps),R=Qr(_.type,R),y_(f,p,_,R,E);case 15:return E_(f,p,p.type,p.pendingProps,E);case 17:return _=p.type,R=p.pendingProps,R=p.elementType===_?R:Qr(_,R),kd(f,p),p.tag=1,er(_)?(f=!0,pd(p)):f=!1,iu(p,E),c_(p,_,R),zg(p,_,R,E),Gg(null,p,_,!0,f,E);case 19:return S_(f,p,E);case 22:return w_(f,p,E)}throw Error(n(156,p.tag))};function X_(f,p){return jf(f,p)}function YL(f,p,E,_){this.tag=f,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(f,p,E,_){return new YL(f,p,E,_)}function hv(f){return f=f.prototype,!(!f||!f.isReactComponent)}function QL(f){if(typeof f=="function")return hv(f)?1:0;if(f!=null){if(f=f.$$typeof,f===ee)return 11;if(f===J)return 14}return 2}function Go(f,p){var E=f.alternate;return E===null?(E=Pr(f.tag,p,f.key,f.mode),E.elementType=f.elementType,E.type=f.type,E.stateNode=f.stateNode,E.alternate=f,f.alternate=E):(E.pendingProps=p,E.type=f.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=f.flags&14680064,E.childLanes=f.childLanes,E.lanes=f.lanes,E.child=f.child,E.memoizedProps=f.memoizedProps,E.memoizedState=f.memoizedState,E.updateQueue=f.updateQueue,p=f.dependencies,E.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},E.sibling=f.sibling,E.index=f.index,E.ref=f.ref,E}function zd(f,p,E,_,R,A){var D=2;if(_=f,typeof f=="function")hv(f)&&(D=1);else if(typeof f=="string")D=5;else e:switch(f){case O:return Ys(E.children,R,A,p);case M:D=8,R|=8;break;case U:return f=Pr(12,E,p,R|2),f.elementType=U,f.lanes=A,f;case X:return f=Pr(13,E,p,R),f.elementType=X,f.lanes=A,f;case F:return f=Pr(19,E,p,R),f.elementType=F,f.lanes=A,f;case te:return qd(E,R,A,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case z:D=10;break e;case Q:D=9;break e;case ee:D=11;break e;case J:D=14;break e;case K:D=16,_=null;break e}throw Error(n(130,f==null?f:typeof f,""))}return p=Pr(D,E,p,R),p.elementType=f,p.type=_,p.lanes=A,p}function Ys(f,p,E,_){return f=Pr(7,f,_,p),f.lanes=E,f}function qd(f,p,E,_){return f=Pr(22,f,_,p),f.elementType=te,f.lanes=E,f.stateNode={isHidden:!1},f}function pv(f,p,E){return f=Pr(6,f,null,p),f.lanes=E,f}function mv(f,p,E){return p=Pr(4,f.children!==null?f.children:[],f.key,p),p.lanes=E,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function KL(f,p,E,_,R){this.tag=p,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jm(0),this.expirationTimes=jm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jm(0),this.identifierPrefix=_,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function gv(f,p,E,_,R,A,D,Y,Z){return f=new KL(f,p,E,Y,Z),p===1?(p=1,A===!0&&(p|=8)):p=0,A=Pr(3,null,null,p),f.current=A,A.stateNode=f,A.memoizedState={element:_,isDehydrated:E,cache:null,transitions:null,pendingSuspenseBoundaries:null},Og(A),f}function XL(f,p,E){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:_==null?null:""+_,children:f,containerInfo:p,implementation:E}}function J_(f){if(!f)return Uo;f=f._reactInternals;e:{if(Yi(f)!==f||f.tag!==1)throw Error(n(170));var p=f;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(er(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(f.tag===1){var E=f.type;if(er(E))return RT(f,E,p)}return p}function Z_(f,p,E,_,R,A,D,Y,Z){return f=gv(E,_,!0,f,R,A,D,Y,Z),f.context=J_(null),E=f.current,_=Wn(),R=Wo(E),A=eo(_,R),A.callback=p??null,Vo(E,A,R),f.current.lanes=R,Sl(f,R,_),rr(f,_),f}function Wd(f,p,E,_){var R=p.current,A=Wn(),D=Wo(R);return E=J_(E),p.context===null?p.context=E:p.pendingContext=E,p=eo(A,D),p.payload={element:f},_=_===void 0?null:_,_!==null&&(p.callback=_),f=Vo(R,p,D),f!==null&&(Jr(f,R,D,A),_d(f,R,D)),D}function Hd(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function eN(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var E=f.retryLane;f.retryLane=E!==0&&E<p?E:p}}function vv(f,p){eN(f,p),(f=f.alternate)&&eN(f,p)}function JL(){return null}var tN=typeof reportError=="function"?reportError:function(f){console.error(f)};function yv(f){this._internalRoot=f}Gd.prototype.render=yv.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(n(409));Wd(f,p,null,null)},Gd.prototype.unmount=yv.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;Ws(function(){Wd(null,f,null,null)}),p[Qi]=null}};function Gd(f){this._internalRoot=f}Gd.prototype.unstable_scheduleHydration=function(f){if(f){var p=U1();f={blockedOn:null,target:f,priority:p};for(var E=0;E<Mo.length&&p!==0&&p<Mo[E].priority;E++);Mo.splice(E,0,f),E===0&&V1(f)}};function Ev(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function Yd(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function nN(){}function ZL(f,p,E,_,R){if(R){if(typeof _=="function"){var A=_;_=function(){var ce=Hd(D);A.call(ce)}}var D=Z_(p,_,f,0,null,!1,!1,"",nN);return f._reactRootContainer=D,f[Qi]=D.current,Vl(f.nodeType===8?f.parentNode:f),Ws(),D}for(;R=f.lastChild;)f.removeChild(R);if(typeof _=="function"){var Y=_;_=function(){var ce=Hd(Z);Y.call(ce)}}var Z=gv(f,0,!1,null,null,!1,!1,"",nN);return f._reactRootContainer=Z,f[Qi]=Z.current,Vl(f.nodeType===8?f.parentNode:f),Ws(function(){Wd(p,Z,E,_)}),Z}function Qd(f,p,E,_,R){var A=E._reactRootContainer;if(A){var D=A;if(typeof R=="function"){var Y=R;R=function(){var Z=Hd(D);Y.call(Z)}}Wd(p,D,f,R)}else D=ZL(E,p,f,R,_);return Hd(D)}D1=function(f){switch(f.tag){case 3:var p=f.stateNode;if(p.current.memoizedState.isDehydrated){var E=Rl(p.pendingLanes);E!==0&&(zm(p,E|1),rr(p,Bt()),!(ht&6)&&(lu=Bt()+500,Bo()))}break;case 13:Ws(function(){var _=Zi(f,1);if(_!==null){var R=Wn();Jr(_,f,1,R)}}),vv(f,1)}},qm=function(f){if(f.tag===13){var p=Zi(f,134217728);if(p!==null){var E=Wn();Jr(p,f,134217728,E)}vv(f,134217728)}},F1=function(f){if(f.tag===13){var p=Wo(f),E=Zi(f,p);if(E!==null){var _=Wn();Jr(E,f,p,_)}vv(f,p)}},U1=function(){return Nt},B1=function(f,p){var E=Nt;try{return Nt=f,p()}finally{Nt=E}},qr=function(f,p,E){switch(p){case"input":if(Xe(f,E),p=E.name,E.type==="radio"&&p!=null){for(E=f;E.parentNode;)E=E.parentNode;for(E=E.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<E.length;p++){var _=E[p];if(_!==f&&_.form===f.form){var R=dd(_);if(!R)throw Error(n(90));be(_),Xe(_,R)}}}break;case"textarea":ne(f,E);break;case"select":p=E.value,p!=null&&gt(f,!!E.multiple,p,!1)}},Oo=cv,Ua=Ws;var eD={usingClientEntryPoint:!1,Events:[ql,Ka,dd,dr,Wr,cv]},ic={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tD={bundleType:ic.bundleType,version:ic.version,rendererPackageName:ic.rendererPackageName,rendererConfig:ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=$f(f),f===null?null:f.stateNode},findFiberByHostInstance:ic.findFiberByHostInstance||JL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kd.isDisabled&&Kd.supportsFiber)try{ja=Kd.inject(tD),Ar=Kd}catch{}}return ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eD,ir.createPortal=function(f,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ev(p))throw Error(n(200));return XL(f,p,null,E)},ir.createRoot=function(f,p){if(!Ev(f))throw Error(n(299));var E=!1,_="",R=tN;return p!=null&&(p.unstable_strictMode===!0&&(E=!0),p.identifierPrefix!==void 0&&(_=p.identifierPrefix),p.onRecoverableError!==void 0&&(R=p.onRecoverableError)),p=gv(f,1,!1,null,null,E,!1,_,R),f[Qi]=p.current,Vl(f.nodeType===8?f.parentNode:f),new yv(p)},ir.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=$f(p),f=f===null?null:f.stateNode,f},ir.flushSync=function(f){return Ws(f)},ir.hydrate=function(f,p,E){if(!Yd(p))throw Error(n(200));return Qd(null,f,p,!0,E)},ir.hydrateRoot=function(f,p,E){if(!Ev(f))throw Error(n(405));var _=E!=null&&E.hydratedSources||null,R=!1,A="",D=tN;if(E!=null&&(E.unstable_strictMode===!0&&(R=!0),E.identifierPrefix!==void 0&&(A=E.identifierPrefix),E.onRecoverableError!==void 0&&(D=E.onRecoverableError)),p=Z_(p,null,f,1,E??null,R,!1,A,D),f[Qi]=p.current,Vl(f),_)for(f=0;f<_.length;f++)E=_[f],R=E._getVersion,R=R(E._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[E,R]:p.mutableSourceEagerHydrationData.push(E,R);return new Gd(p)},ir.render=function(f,p,E){if(!Yd(p))throw Error(n(200));return Qd(null,f,p,!1,E)},ir.unmountComponentAtNode=function(f){if(!Yd(f))throw Error(n(40));return f._reactRootContainer?(Ws(function(){Qd(null,null,f,!1,function(){f._reactRootContainer=null,f[Qi]=null})}),!0):!1},ir.unstable_batchedUpdates=cv,ir.unstable_renderSubtreeIntoContainer=function(f,p,E,_){if(!Yd(E))throw Error(n(200));if(f==null||f._reactInternals===void 0)throw Error(n(38));return Qd(f,p,E,!1,_)},ir.version="18.3.1-next-f1338f8080-20240426",ir}var cN;function jS(){if(cN)return _v.exports;cN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_v.exports=aD(),_v.exports}var fN;function uD(){if(fN)return Xd;fN=1;var e=jS();return Xd.createRoot=e.createRoot,Xd.hydrateRoot=e.hydrateRoot,Xd}var lD=uD(),k=ll();const fe=Aa(k),cD=BS({__proto__:null,default:fe},[k]);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zS=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...c},l)=>k.createElement("svg",{ref:l,...dD,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:zS("lucide",i),...c},[...s.map(([u,a])=>k.createElement(u,a)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=(e,t)=>{const n=k.forwardRef(({className:r,...i},o)=>k.createElement(hD,{ref:o,iconNode:t,className:zS(`lucide-${fD(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],mD=pi("Activity",pD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],vD=pi("Award",gD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],dN=pi("Box",yD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wD=pi("Calendar",ED);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],_D=pi("FileText",TD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]],bD=pi("Group",ND);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],RD=pi("Network",xD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],AD=pi("PanelLeft",SD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ID=pi("Settings",OD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],xv=pi("Users",CD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],FE=pi("X",kD);function hN(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function qS(...e){return t=>{let n=!1;const r=e.map(i=>{const o=hN(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():hN(e[i],null)}}}}function mi(...e){return k.useCallback(qS(...e),e)}var xo=k.forwardRef((e,t)=>{const{children:n,...r}=e,i=k.Children.toArray(n),o=i.find(MD);if(o){const s=o.props.children,c=i.map(l=>l===o?k.Children.count(s)>1?k.Children.only(null):k.isValidElement(s)?s.props.children:null:l);return P.jsx(Z0,{...r,ref:t,children:k.isValidElement(s)?k.cloneElement(s,void 0,c):null})}return P.jsx(Z0,{...r,ref:t,children:n})});xo.displayName="Slot";var Z0=k.forwardRef((e,t)=>{const{children:n,...r}=e;if(k.isValidElement(n)){const i=LD(n),o=PD(r,n.props);return n.type!==k.Fragment&&(o.ref=t?qS(t,i):i),k.cloneElement(n,o)}return k.Children.count(n)>1?k.Children.only(null):null});Z0.displayName="SlotClone";var WS=({children:e})=>P.jsx(P.Fragment,{children:e});function MD(e){return k.isValidElement(e)&&e.type===WS}function PD(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...c)=>{o(...c),i(...c)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function LD(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function HS(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=HS(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function GS(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=HS(e))&&(r&&(r+=" "),r+=t);return r}const pN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,mN=GS,UE=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return mN(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(u=>{const a=n==null?void 0:n[u],d=o==null?void 0:o[u];if(a===null)return null;const h=pN(a)||pN(d);return i[u][h]}),c=n&&Object.entries(n).reduce((u,a)=>{let[d,h]=a;return h===void 0||(u[d]=h),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,a)=>{let{class:d,className:h,...m}=a;return Object.entries(m).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...o,...c}[g]):{...o,...c}[g]===v})?[...u,d,h]:u},[]);return mN(e,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},Rv=768;function DD(){const[e,t]=k.useState(void 0);return k.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Rv-1}px)`),r=()=>{t(window.innerWidth<Rv)};return n.addEventListener("change",r),t(window.innerWidth<Rv),()=>n.removeEventListener("change",r)},[]),!!e}const BE="-",FD=e=>{const t=BD(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const c=s.split(BE);return c[0]===""&&c.length!==1&&c.shift(),YS(c,t)||UD(s)},getConflictingClassGroupIds:(s,c)=>{const l=n[s]||[];return c&&r[s]?[...l,...r[s]]:l}}},YS=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?YS(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(BE);return(s=t.validators.find(({validator:c})=>c(o)))==null?void 0:s.classGroupId},gN=/^\[(.+)\]$/,UD=e=>{if(gN.test(e)){const t=gN.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},BD=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)ey(n[i],r,i,t);return r},ey=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:vN(t,i);o.classGroupId=n;return}if(typeof i=="function"){if($D(i)){ey(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{ey(s,vN(t,o),n,r)})})},vN=(e,t)=>{let n=e;return t.split(BE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$D=e=>e.isThemeGetter,VD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},ty="!",ny=":",jD=ny.length,zD=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const o=[];let s=0,c=0,l=0,u;for(let y=0;y<i.length;y++){let g=i[y];if(s===0&&c===0){if(g===ny){o.push(i.slice(l,y)),l=y+jD;continue}if(g==="/"){u=y;continue}}g==="["?s++:g==="]"?s--:g==="("?c++:g===")"&&c--}const a=o.length===0?i:i.substring(l),d=qD(a),h=d!==a,m=u&&u>l?u-l:void 0;return{modifiers:o,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:m}};if(t){const i=t+ny,o=r;r=s=>s.startsWith(i)?o(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},qD=e=>e.endsWith(ty)?e.substring(0,e.length-1):e.startsWith(ty)?e.substring(1):e,WD=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(s=>{s[0]==="["||t[s]?(i.push(...o.sort(),s),o=[]):o.push(s)}),i.push(...o.sort()),i}},HD=e=>({cache:VD(e.cacheSize),parseClassName:zD(e),sortModifiers:WD(e),...FD(e)}),GD=/\s+/,YD=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=t,s=[],c=e.trim().split(GD);let l="";for(let u=c.length-1;u>=0;u-=1){const a=c[u],{isExternal:d,modifiers:h,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}=n(a);if(d){l=a+(l.length>0?" "+l:l);continue}let v=!!g,w=r(v?y.substring(0,g):y);if(!w){if(!v){l=a+(l.length>0?" "+l:l);continue}if(w=r(y),!w){l=a+(l.length>0?" "+l:l);continue}v=!1}const T=o(h).join(":"),N=m?T+ty:T,b=N+w;if(s.includes(b))continue;s.push(b);const S=i(w,v);for(let x=0;x<S.length;++x){const O=S[x];s.push(N+O)}l=a+(l.length>0?" "+l:l)}return l};function QD(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=QS(t))&&(r&&(r+=" "),r+=n);return r}const QS=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=QS(e[r]))&&(n&&(n+=" "),n+=t);return n};function KD(e,...t){let n,r,i,o=s;function s(l){const u=t.reduce((a,d)=>d(a),e());return n=HD(u),r=n.cache.get,i=n.cache.set,o=c,c(l)}function c(l){const u=r(l);if(u)return u;const a=YD(l,n);return i(l,a),a}return function(){return o(QD.apply(null,arguments))}}const gn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},KS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,XS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,XD=/^\d+\/\d+$/,JD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,e3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,t3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fu=e=>XD.test(e),ct=e=>!!e&&!Number.isNaN(Number(e)),Qs=e=>!!e&&Number.isInteger(Number(e)),yN=e=>e.endsWith("%")&&ct(e.slice(0,-1)),Qo=e=>JD.test(e),r3=()=>!0,i3=e=>ZD.test(e)&&!e3.test(e),$E=()=>!1,o3=e=>t3.test(e),s3=e=>n3.test(e),a3=e=>!Ie(e)&&!Ce(e),u3=e=>cl(e,eA,$E),Ie=e=>KS.test(e),Ks=e=>cl(e,tA,i3),Sv=e=>cl(e,E3,ct),l3=e=>cl(e,JS,$E),c3=e=>cl(e,ZS,s3),f3=e=>cl(e,$E,o3),Ce=e=>XS.test(e),Jd=e=>fl(e,tA),d3=e=>fl(e,w3),h3=e=>fl(e,JS),p3=e=>fl(e,eA),m3=e=>fl(e,ZS),g3=e=>fl(e,T3,!0),cl=(e,t,n)=>{const r=KS.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},fl=(e,t,n=!1)=>{const r=XS.exec(e);return r?r[1]?t(r[1]):n:!1},JS=e=>e==="position",v3=new Set(["image","url"]),ZS=e=>v3.has(e),y3=new Set(["length","size","percentage"]),eA=e=>y3.has(e),tA=e=>e==="length",E3=e=>e==="number",w3=e=>e==="family-name",T3=e=>e==="shadow",_3=()=>{const e=gn("color"),t=gn("font"),n=gn("text"),r=gn("font-weight"),i=gn("tracking"),o=gn("leading"),s=gn("breakpoint"),c=gn("container"),l=gn("spacing"),u=gn("radius"),a=gn("shadow"),d=gn("inset-shadow"),h=gn("drop-shadow"),m=gn("blur"),y=gn("perspective"),g=gn("aspect"),v=gn("ease"),w=gn("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],b=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],x=()=>[fu,"px","full","auto",Ce,Ie,l],O=()=>[Qs,"none","subgrid",Ce,Ie],M=()=>["auto",{span:["full",Qs,Ce,Ie]},Ce,Ie],U=()=>[Qs,"auto",Ce,Ie],z=()=>["auto","min","max","fr",Ce,Ie],Q=()=>[Ce,Ie,l],ee=()=>["start","end","center","between","around","evenly","stretch","baseline"],X=()=>["start","end","center","stretch"],F=()=>[Ce,Ie,l],J=()=>["px",...F()],K=()=>["px","auto",...F()],te=()=>[fu,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",Ce,Ie,l],G=()=>[e,Ce,Ie],H=()=>[yN,Ks],W=()=>["","none","full",u,Ce,Ie],V=()=>["",ct,Jd,Ks],C=()=>["solid","dashed","dotted","double"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["","none",m,Ce,Ie],j=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce,Ie],$=()=>["none",ct,Ce,Ie],oe=()=>["none",ct,Ce,Ie],q=()=>[ct,Ce,Ie],se=()=>[fu,"full","px",Ce,Ie,l];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qo],breakpoint:[Qo],color:[r3],container:[Qo],"drop-shadow":[Qo],ease:["in","out","in-out"],font:[a3],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qo],shadow:[Qo],spacing:[ct],text:[Qo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",fu,Ie,Ce,g]}],container:["container"],columns:[{columns:[ct,Ie,Ce,c]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...N(),Ie,Ce]}],overflow:[{overflow:b()}],"overflow-x":[{"overflow-x":b()}],"overflow-y":[{"overflow-y":b()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:x()}],"inset-x":[{"inset-x":x()}],"inset-y":[{"inset-y":x()}],start:[{start:x()}],end:[{end:x()}],top:[{top:x()}],right:[{right:x()}],bottom:[{bottom:x()}],left:[{left:x()}],visibility:["visible","invisible","collapse"],z:[{z:[Qs,"auto",Ce,Ie]}],basis:[{basis:[fu,"full","auto",Ce,Ie,c,l]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ct,fu,"auto","initial","none",Ie]}],grow:[{grow:["",ct,Ce,Ie]}],shrink:[{shrink:["",ct,Ce,Ie]}],order:[{order:[Qs,"first","last","none",Ce,Ie]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":z()}],"auto-rows":[{"auto-rows":z()}],gap:[{gap:Q()}],"gap-x":[{"gap-x":Q()}],"gap-y":[{"gap-y":Q()}],"justify-content":[{justify:[...ee(),"normal"]}],"justify-items":[{"justify-items":[...X(),"normal"]}],"justify-self":[{"justify-self":["auto",...X()]}],"align-content":[{content:["normal",...ee()]}],"align-items":[{items:[...X(),"baseline"]}],"align-self":[{self:["auto",...X(),"baseline"]}],"place-content":[{"place-content":ee()}],"place-items":[{"place-items":[...X(),"baseline"]}],"place-self":[{"place-self":["auto",...X()]}],p:[{p:J()}],px:[{px:J()}],py:[{py:J()}],ps:[{ps:J()}],pe:[{pe:J()}],pt:[{pt:J()}],pr:[{pr:J()}],pb:[{pb:J()}],pl:[{pl:J()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[c,"screen",...te()]}],"min-w":[{"min-w":[c,"screen","none",...te()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[s]},...te()]}],h:[{h:["screen",...te()]}],"min-h":[{"min-h":["screen","none",...te()]}],"max-h":[{"max-h":["screen",...te()]}],"font-size":[{text:["base",n,Jd,Ks]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ce,Sv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",yN,Ie]}],"font-family":[{font:[d3,Ie,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ce,Ie]}],"line-clamp":[{"line-clamp":[ct,"none",Ce,Sv]}],leading:[{leading:[Ce,Ie,o,l]}],"list-image":[{"list-image":["none",Ce,Ie]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ce,Ie]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...C(),"wavy"]}],"text-decoration-thickness":[{decoration:[ct,"from-font","auto",Ce,Ks]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[ct,"auto",Ce,Ie]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...F()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce,Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce,Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...N(),h3,l3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",p3,u3]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Qs,Ce,Ie],radial:["",Ce,Ie],conic:[Qs,Ce,Ie]},m3,c3]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...C(),"hidden","none"]}],"divide-style":[{divide:[...C(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...C(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ct,Ce,Ie]}],"outline-w":[{outline:["",ct,Jd,Ks]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",a,g3,f3]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",Ce,Ie,d]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[ct,Ks]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":G()}],opacity:[{opacity:[ct,Ce,Ie]}],"mix-blend":[{"mix-blend":[...L(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none",Ce,Ie]}],blur:[{blur:I()}],brightness:[{brightness:[ct,Ce,Ie]}],contrast:[{contrast:[ct,Ce,Ie]}],"drop-shadow":[{"drop-shadow":["","none",h,Ce,Ie]}],grayscale:[{grayscale:["",ct,Ce,Ie]}],"hue-rotate":[{"hue-rotate":[ct,Ce,Ie]}],invert:[{invert:["",ct,Ce,Ie]}],saturate:[{saturate:[ct,Ce,Ie]}],sepia:[{sepia:["",ct,Ce,Ie]}],"backdrop-filter":[{"backdrop-filter":["","none",Ce,Ie]}],"backdrop-blur":[{"backdrop-blur":I()}],"backdrop-brightness":[{"backdrop-brightness":[ct,Ce,Ie]}],"backdrop-contrast":[{"backdrop-contrast":[ct,Ce,Ie]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ct,Ce,Ie]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ct,Ce,Ie]}],"backdrop-invert":[{"backdrop-invert":["",ct,Ce,Ie]}],"backdrop-opacity":[{"backdrop-opacity":[ct,Ce,Ie]}],"backdrop-saturate":[{"backdrop-saturate":[ct,Ce,Ie]}],"backdrop-sepia":[{"backdrop-sepia":["",ct,Ce,Ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ce,Ie]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ct,"initial",Ce,Ie]}],ease:[{ease:["linear","initial",v,Ce,Ie]}],delay:[{delay:[ct,Ce,Ie]}],animate:[{animate:["none",w,Ce,Ie]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Ce,Ie]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:$()}],"rotate-x":[{"rotate-x":$()}],"rotate-y":[{"rotate-y":$()}],"rotate-z":[{"rotate-z":$()}],scale:[{scale:oe()}],"scale-x":[{"scale-x":oe()}],"scale-y":[{"scale-y":oe()}],"scale-z":[{"scale-z":oe()}],"scale-3d":["scale-3d"],skew:[{skew:q()}],"skew-x":[{"skew-x":q()}],"skew-y":[{"skew-y":q()}],transform:[{transform:[Ce,Ie,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:se()}],"translate-x":[{"translate-x":se()}],"translate-y":[{"translate-y":se()}],"translate-z":[{"translate-z":se()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce,Ie]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce,Ie]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[ct,Jd,Ks,Sv]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},N3=KD(_3);function mt(...e){return N3(GS(e))}const b3=UE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 shadow hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-slate-200 bg-white shadow-sm hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 shadow-sm hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),rp=k.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const s=r?xo:"button";return P.jsx(s,{className:mt(b3({variant:t,size:n,className:e})),ref:o,...i})});rp.displayName="Button";const nA=k.forwardRef(({className:e,type:t,...n},r)=>P.jsx("input",{type:t,className:mt("flex h-9 w-full rounded-md border border-slate-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-slate-950 placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-slate-800 dark:file:text-slate-50 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",e),ref:r,...n}));nA.displayName="Input";var qp=jS();const x3=Aa(qp);var R3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],zn=R3.reduce((e,t)=>{const n=k.forwardRef((r,i)=>{const{asChild:o,...s}=r,c=o?xo:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(c,{...s,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function S3(e,t){e&&qp.flushSync(()=>e.dispatchEvent(t))}var A3="Separator",EN="horizontal",O3=["horizontal","vertical"],rA=k.forwardRef((e,t)=>{const{decorative:n,orientation:r=EN,...i}=e,o=I3(r)?r:EN,c=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return P.jsx(zn.div,{"data-orientation":o,...c,...i,ref:t})});rA.displayName=A3;function I3(e){return O3.includes(e)}var iA=rA;const oA=k.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>P.jsx(iA,{ref:i,decorative:n,orientation:t,className:mt("shrink-0 bg-slate-200 dark:bg-slate-800",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));oA.displayName=iA.displayName;function sr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function C3(e,t){const n=k.createContext(t),r=o=>{const{children:s,...c}=o,l=k.useMemo(()=>c,Object.values(c));return P.jsx(n.Provider,{value:l,children:s})};r.displayName=e+"Provider";function i(o){const s=k.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function VE(e,t=[]){let n=[];function r(o,s){const c=k.createContext(s),l=n.length;n=[...n,s];const u=d=>{var w;const{scope:h,children:m,...y}=d,g=((w=h==null?void 0:h[e])==null?void 0:w[l])||c,v=k.useMemo(()=>y,Object.values(y));return P.jsx(g.Provider,{value:v,children:m})};u.displayName=o+"Provider";function a(d,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[l])||c,y=k.useContext(m);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[u,a]}const i=()=>{const o=n.map(s=>k.createContext(s));return function(c){const l=(c==null?void 0:c[e])||o;return k.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return i.scopeName=e,[r,k3(i,...t)]}function k3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((c,{useScope:l,scopeName:u})=>{const d=l(o)[`__scope${u}`];return{...c,...d}},{});return k.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var va=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},M3=cD.useId||(()=>{}),P3=0;function Ch(e){const[t,n]=k.useState(M3());return va(()=>{n(r=>r??String(P3++))},[e]),e||(t?`radix-${t}`:"")}function ms(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e}),k.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function sA({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=L3({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,c=ms(n),l=k.useCallback(u=>{if(o){const d=typeof u=="function"?u(e):u;d!==e&&c(d)}else i(u)},[o,e,i,c]);return[s,l]}function L3({defaultProp:e,onChange:t}){const n=k.useState(e),[r]=n,i=k.useRef(r),o=ms(t);return k.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function D3(e,t=globalThis==null?void 0:globalThis.document){const n=ms(e);k.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var F3="DismissableLayer",ry="dismissableLayer.update",U3="dismissableLayer.pointerDownOutside",B3="dismissableLayer.focusOutside",wN,aA=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jE=k.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:c,...l}=e,u=k.useContext(aA),[a,d]=k.useState(null),h=(a==null?void 0:a.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=k.useState({}),y=mi(t,O=>d(O)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(v),T=a?g.indexOf(a):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,b=T>=w,S=j3(O=>{const M=O.target,U=[...u.branches].some(z=>z.contains(M));!b||U||(i==null||i(O),s==null||s(O),O.defaultPrevented||c==null||c())},h),x=z3(O=>{const M=O.target;[...u.branches].some(z=>z.contains(M))||(o==null||o(O),s==null||s(O),O.defaultPrevented||c==null||c())},h);return D3(O=>{T===u.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},h),k.useEffect(()=>{if(a)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(wN=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(a)),u.layers.add(a),TN(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=wN)}},[a,h,n,u]),k.useEffect(()=>()=>{a&&(u.layers.delete(a),u.layersWithOutsidePointerEventsDisabled.delete(a),TN())},[a,u]),k.useEffect(()=>{const O=()=>m({});return document.addEventListener(ry,O),()=>document.removeEventListener(ry,O)},[]),P.jsx(zn.div,{...l,ref:y,style:{pointerEvents:N?b?"auto":"none":void 0,...e.style},onFocusCapture:sr(e.onFocusCapture,x.onFocusCapture),onBlurCapture:sr(e.onBlurCapture,x.onBlurCapture),onPointerDownCapture:sr(e.onPointerDownCapture,S.onPointerDownCapture)})});jE.displayName=F3;var $3="DismissableLayerBranch",V3=k.forwardRef((e,t)=>{const n=k.useContext(aA),r=k.useRef(null),i=mi(t,r);return k.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),P.jsx(zn.div,{...e,ref:i})});V3.displayName=$3;function j3(e,t=globalThis==null?void 0:globalThis.document){const n=ms(e),r=k.useRef(!1),i=k.useRef(()=>{});return k.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let l=function(){uA(U3,n,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function z3(e,t=globalThis==null?void 0:globalThis.document){const n=ms(e),r=k.useRef(!1);return k.useEffect(()=>{const i=o=>{o.target&&!r.current&&uA(B3,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function TN(){const e=new CustomEvent(ry);document.dispatchEvent(e)}function uA(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?S3(i,o):i.dispatchEvent(o)}var Av="focusScope.autoFocusOnMount",Ov="focusScope.autoFocusOnUnmount",_N={bubbles:!1,cancelable:!0},q3="FocusScope",lA=k.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[c,l]=k.useState(null),u=ms(i),a=ms(o),d=k.useRef(null),h=mi(t,g=>l(g)),m=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(r){let g=function(N){if(m.paused||!c)return;const b=N.target;c.contains(b)?d.current=b:Xo(d.current,{select:!0})},v=function(N){if(m.paused||!c)return;const b=N.relatedTarget;b!==null&&(c.contains(b)||Xo(d.current,{select:!0}))},w=function(N){if(document.activeElement===document.body)for(const S of N)S.removedNodes.length>0&&Xo(c)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const T=new MutationObserver(w);return c&&T.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),T.disconnect()}}},[r,c,m.paused]),k.useEffect(()=>{if(c){bN.add(m);const g=document.activeElement;if(!c.contains(g)){const w=new CustomEvent(Av,_N);c.addEventListener(Av,u),c.dispatchEvent(w),w.defaultPrevented||(W3(K3(cA(c)),{select:!0}),document.activeElement===g&&Xo(c))}return()=>{c.removeEventListener(Av,u),setTimeout(()=>{const w=new CustomEvent(Ov,_N);c.addEventListener(Ov,a),c.dispatchEvent(w),w.defaultPrevented||Xo(g??document.body,{select:!0}),c.removeEventListener(Ov,a),bN.remove(m)},0)}}},[c,u,a,m]);const y=k.useCallback(g=>{if(!n&&!r||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(v&&w){const T=g.currentTarget,[N,b]=H3(T);N&&b?!g.shiftKey&&w===b?(g.preventDefault(),n&&Xo(N,{select:!0})):g.shiftKey&&w===N&&(g.preventDefault(),n&&Xo(b,{select:!0})):w===T&&g.preventDefault()}},[n,r,m.paused]);return P.jsx(zn.div,{tabIndex:-1,...s,ref:h,onKeyDown:y})});lA.displayName=q3;function W3(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Xo(r,{select:t}),document.activeElement!==n)return}function H3(e){const t=cA(e),n=NN(t,e),r=NN(t.reverse(),e);return[n,r]}function cA(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function NN(e,t){for(const n of e)if(!G3(n,{upTo:t}))return n}function G3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Y3(e){return e instanceof HTMLInputElement&&"select"in e}function Xo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Y3(e)&&t&&e.select()}}var bN=Q3();function Q3(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=xN(e,t),e.unshift(t)},remove(t){var n;e=xN(e,t),(n=e[0])==null||n.resume()}}}function xN(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function K3(e){return e.filter(t=>t.tagName!=="A")}var X3="Portal",zE=k.forwardRef((e,t)=>{var c;const{container:n,...r}=e,[i,o]=k.useState(!1);va(()=>o(!0),[]);const s=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return s?x3.createPortal(P.jsx(zn.div,{...r,ref:t}),s):null});zE.displayName=X3;function J3(e,t){return k.useReducer((n,r)=>t[n][r]??n,e)}var dl=e=>{const{present:t,children:n}=e,r=Z3(t),i=typeof n=="function"?n({present:r.isPresent}):k.Children.only(n),o=mi(r.ref,e4(i));return typeof n=="function"||r.isPresent?k.cloneElement(i,{ref:o}):null};dl.displayName="Presence";function Z3(e){const[t,n]=k.useState(),r=k.useRef({}),i=k.useRef(e),o=k.useRef("none"),s=e?"mounted":"unmounted",[c,l]=J3(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const u=Zd(r.current);o.current=c==="mounted"?u:"none"},[c]),va(()=>{const u=r.current,a=i.current;if(a!==e){const h=o.current,m=Zd(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(a&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),va(()=>{if(t){let u;const a=t.ownerDocument.defaultView??window,d=m=>{const g=Zd(r.current).includes(m.animationName);if(m.target===t&&g&&(l("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=a.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(o.current=Zd(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{a.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:k.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Zd(e){return(e==null?void 0:e.animationName)||"none"}function e4(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Iv=0;function t4(){k.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??RN()),document.body.insertAdjacentElement("beforeend",e[1]??RN()),Iv++,()=>{Iv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Iv--}},[])}function RN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var iy=function(e,t){return iy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},iy(e,t)};function zi(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");iy(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ie=function(){return ie=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ie.apply(this,arguments)};function lr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ts(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(a){try{u(r.next(a))}catch(d){s(d)}}function l(a){try{u(r.throw(a))}catch(d){s(d)}}function u(a){a.done?o(a.value):i(a.value).then(c,l)}u((r=r.apply(e,t||[])).next())})}function ns(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(a){return l([u,a])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(a){u=[6,a],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Mn(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var kh="right-scroll-bar-position",Mh="width-before-scroll-bar",n4="with-scroll-bars-hidden",r4="--removed-body-scroll-bar-size";function Cv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function i4(e,t){var n=k.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var o4=typeof window<"u"?k.useLayoutEffect:k.useEffect,SN=new WeakMap;function s4(e,t){var n=i4(null,function(r){return e.forEach(function(i){return Cv(i,r)})});return o4(function(){var r=SN.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(c){o.has(c)||Cv(c,null)}),o.forEach(function(c){i.has(c)||Cv(c,s)})}SN.set(n,e)},[e]),n}function a4(e){return e}function u4(e,t){t===void 0&&(t=a4);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(c){return c!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var c=n;n=[],c.forEach(o),s=n}var l=function(){var a=s;s=[],a.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(a){s.push(a),u()},filter:function(a){return s=s.filter(a),n}}}};return i}function l4(e){e===void 0&&(e={});var t=u4(null);return t.options=ie({async:!0,ssr:!1},e),t}var fA=function(e){var t=e.sideCar,n=lr(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return k.createElement(r,ie({},n))};fA.isSideCarExport=!0;function c4(e,t){return e.useMedium(t),fA}var dA=l4(),kv=function(){},Wp=k.forwardRef(function(e,t){var n=k.useRef(null),r=k.useState({onScrollCapture:kv,onWheelCapture:kv,onTouchMoveCapture:kv}),i=r[0],o=r[1],s=e.forwardProps,c=e.children,l=e.className,u=e.removeScrollBar,a=e.enabled,d=e.shards,h=e.sideCar,m=e.noIsolation,y=e.inert,g=e.allowPinchZoom,v=e.as,w=v===void 0?"div":v,T=e.gapMode,N=lr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,S=s4([n,t]),x=ie(ie({},N),i);return k.createElement(k.Fragment,null,a&&k.createElement(b,{sideCar:dA,removeScrollBar:u,shards:d,noIsolation:m,inert:y,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:T}),s?k.cloneElement(k.Children.only(c),ie(ie({},x),{ref:S})):k.createElement(w,ie({},x,{className:l,ref:S}),c))});Wp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wp.classNames={fullWidth:Mh,zeroRight:kh};var f4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function d4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=f4();return t&&e.setAttribute("nonce",t),e}function h4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function p4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var m4=function(){var e=0,t=null;return{add:function(n){e==0&&(t=d4())&&(h4(t,n),p4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},g4=function(){var e=m4();return function(t,n){k.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},hA=function(){var e=g4(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},v4={left:0,top:0,right:0,gap:0},Mv=function(e){return parseInt(e||"",10)||0},y4=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Mv(n),Mv(r),Mv(i)]},E4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return v4;var t=y4(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},w4=hA(),Fu="data-scroll-locked",T4=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(n4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Fu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kh,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Mh,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(kh," .").concat(kh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Mh," .").concat(Mh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fu,`] {
    `).concat(r4,": ").concat(c,`px;
  }
`)},AN=function(){var e=parseInt(document.body.getAttribute(Fu)||"0",10);return isFinite(e)?e:0},_4=function(){k.useEffect(function(){return document.body.setAttribute(Fu,(AN()+1).toString()),function(){var e=AN()-1;e<=0?document.body.removeAttribute(Fu):document.body.setAttribute(Fu,e.toString())}},[])},N4=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;_4();var o=k.useMemo(function(){return E4(i)},[i]);return k.createElement(w4,{styles:T4(o,!t,i,n?"":"!important")})},oy=!1;if(typeof window<"u")try{var eh=Object.defineProperty({},"passive",{get:function(){return oy=!0,!0}});window.addEventListener("test",eh,eh),window.removeEventListener("test",eh,eh)}catch{oy=!1}var du=oy?{passive:!1}:!1,b4=function(e){return e.tagName==="TEXTAREA"},pA=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!b4(e)&&n[t]==="visible")},x4=function(e){return pA(e,"overflowY")},R4=function(e){return pA(e,"overflowX")},ON=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=mA(e,r);if(i){var o=gA(e,r),s=o[1],c=o[2];if(s>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},S4=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},A4=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},mA=function(e,t){return e==="v"?x4(t):R4(t)},gA=function(e,t){return e==="v"?S4(t):A4(t)},O4=function(e,t){return e==="h"&&t==="rtl"?-1:1},I4=function(e,t,n,r,i){var o=O4(e,window.getComputedStyle(t).direction),s=o*r,c=n.target,l=t.contains(c),u=!1,a=s>0,d=0,h=0;do{var m=gA(e,c),y=m[0],g=m[1],v=m[2],w=g-v-o*y;(y||w)&&mA(e,c)&&(d+=w,h+=y),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(a&&Math.abs(d)<1||!a&&Math.abs(h)<1)&&(u=!0),u},th=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},IN=function(e){return[e.deltaX,e.deltaY]},CN=function(e){return e&&"current"in e?e.current:e},C4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},k4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},M4=0,hu=[];function P4(e){var t=k.useRef([]),n=k.useRef([0,0]),r=k.useRef(),i=k.useState(M4++)[0],o=k.useState(hA)[0],s=k.useRef(e);k.useEffect(function(){s.current=e},[e]),k.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Mn([e.lockRef.current],(e.shards||[]).map(CN),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=k.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var w=th(g),T=n.current,N="deltaX"in g?g.deltaX:T[0]-w[0],b="deltaY"in g?g.deltaY:T[1]-w[1],S,x=g.target,O=Math.abs(N)>Math.abs(b)?"h":"v";if("touches"in g&&O==="h"&&x.type==="range")return!1;var M=ON(O,x);if(!M)return!0;if(M?S=O:(S=O==="v"?"h":"v",M=ON(O,x)),!M)return!1;if(!r.current&&"changedTouches"in g&&(N||b)&&(r.current=S),!S)return!0;var U=r.current||S;return I4(U,v,g,U==="h"?N:b)},[]),l=k.useCallback(function(g){var v=g;if(!(!hu.length||hu[hu.length-1]!==o)){var w="deltaY"in v?IN(v):th(v),T=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&C4(S.delta,w)})[0];if(T&&T.should){v.cancelable&&v.preventDefault();return}if(!T){var N=(s.current.shards||[]).map(CN).filter(Boolean).filter(function(S){return S.contains(v.target)}),b=N.length>0?c(v,N[0]):!s.current.noIsolation;b&&v.cancelable&&v.preventDefault()}}},[]),u=k.useCallback(function(g,v,w,T){var N={name:g,delta:v,target:w,should:T,shadowParent:L4(w)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(b){return b!==N})},1)},[]),a=k.useCallback(function(g){n.current=th(g),r.current=void 0},[]),d=k.useCallback(function(g){u(g.type,IN(g),g.target,c(g,e.lockRef.current))},[]),h=k.useCallback(function(g){u(g.type,th(g),g.target,c(g,e.lockRef.current))},[]);k.useEffect(function(){return hu.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,du),document.addEventListener("touchmove",l,du),document.addEventListener("touchstart",a,du),function(){hu=hu.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,du),document.removeEventListener("touchmove",l,du),document.removeEventListener("touchstart",a,du)}},[]);var m=e.removeScrollBar,y=e.inert;return k.createElement(k.Fragment,null,y?k.createElement(o,{styles:k4(i)}):null,m?k.createElement(N4,{gapMode:e.gapMode}):null)}function L4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const D4=c4(dA,P4);var vA=k.forwardRef(function(e,t){return k.createElement(Wp,ie({},e,{ref:t,sideCar:D4}))});vA.classNames=Wp.classNames;var F4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},pu=new WeakMap,nh=new WeakMap,rh={},Pv=0,yA=function(e){return e&&(e.host||yA(e.parentNode))},U4=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=yA(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},B4=function(e,t,n,r){var i=U4(t,Array.isArray(e)?e:[e]);rh[n]||(rh[n]=new WeakMap);var o=rh[n],s=[],c=new Set,l=new Set(i),u=function(d){!d||c.has(d)||(c.add(d),u(d.parentNode))};i.forEach(u);var a=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(c.has(h))a(h);else try{var m=h.getAttribute(r),y=m!==null&&m!=="false",g=(pu.get(h)||0)+1,v=(o.get(h)||0)+1;pu.set(h,g),o.set(h,v),s.push(h),g===1&&y&&nh.set(h,!0),v===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return a(t),c.clear(),Pv++,function(){s.forEach(function(d){var h=pu.get(d)-1,m=o.get(d)-1;pu.set(d,h),o.set(d,m),h||(nh.has(d)||d.removeAttribute(r),nh.delete(d)),m||d.removeAttribute(n)}),Pv--,Pv||(pu=new WeakMap,pu=new WeakMap,nh=new WeakMap,rh={})}},$4=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=F4(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),B4(r,i,n,"aria-hidden")):function(){return null}},qE="Dialog",[EA,YZ]=VE(qE),[V4,gi]=EA(qE),wA=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,c=k.useRef(null),l=k.useRef(null),[u=!1,a]=sA({prop:r,defaultProp:i,onChange:o});return P.jsx(V4,{scope:t,triggerRef:c,contentRef:l,contentId:Ch(),titleId:Ch(),descriptionId:Ch(),open:u,onOpenChange:a,onOpenToggle:k.useCallback(()=>a(d=>!d),[a]),modal:s,children:n})};wA.displayName=qE;var TA="DialogTrigger",j4=k.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=gi(TA,n),o=mi(t,i.triggerRef);return P.jsx(zn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":GE(i.open),...r,ref:o,onClick:sr(e.onClick,i.onOpenToggle)})});j4.displayName=TA;var WE="DialogPortal",[z4,_A]=EA(WE,{forceMount:void 0}),NA=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=gi(WE,t);return P.jsx(z4,{scope:t,forceMount:n,children:k.Children.map(r,s=>P.jsx(dl,{present:n||o.open,children:P.jsx(zE,{asChild:!0,container:i,children:s})}))})};NA.displayName=WE;var ip="DialogOverlay",bA=k.forwardRef((e,t)=>{const n=_A(ip,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=gi(ip,e.__scopeDialog);return o.modal?P.jsx(dl,{present:r||o.open,children:P.jsx(q4,{...i,ref:t})}):null});bA.displayName=ip;var q4=k.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=gi(ip,n);return P.jsx(vA,{as:xo,allowPinchZoom:!0,shards:[i.contentRef],children:P.jsx(zn.div,{"data-state":GE(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ya="DialogContent",xA=k.forwardRef((e,t)=>{const n=_A(ya,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=gi(ya,e.__scopeDialog);return P.jsx(dl,{present:r||o.open,children:o.modal?P.jsx(W4,{...i,ref:t}):P.jsx(H4,{...i,ref:t})})});xA.displayName=ya;var W4=k.forwardRef((e,t)=>{const n=gi(ya,e.__scopeDialog),r=k.useRef(null),i=mi(t,n.contentRef,r);return k.useEffect(()=>{const o=r.current;if(o)return $4(o)},[]),P.jsx(RA,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:sr(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:sr(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0;(s.button===2||c)&&o.preventDefault()}),onFocusOutside:sr(e.onFocusOutside,o=>o.preventDefault())})}),H4=k.forwardRef((e,t)=>{const n=gi(ya,e.__scopeDialog),r=k.useRef(!1),i=k.useRef(!1);return P.jsx(RA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,c;(s=e.onCloseAutoFocus)==null||s.call(e,o),o.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),RA=k.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=e,c=gi(ya,n),l=k.useRef(null),u=mi(t,l);return t4(),P.jsxs(P.Fragment,{children:[P.jsx(lA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:P.jsx(jE,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":GE(c.open),...s,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),P.jsxs(P.Fragment,{children:[P.jsx(G4,{titleId:c.titleId}),P.jsx(Q4,{contentRef:l,descriptionId:c.descriptionId})]})]})}),HE="DialogTitle",SA=k.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=gi(HE,n);return P.jsx(zn.h2,{id:i.titleId,...r,ref:t})});SA.displayName=HE;var AA="DialogDescription",OA=k.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=gi(AA,n);return P.jsx(zn.p,{id:i.descriptionId,...r,ref:t})});OA.displayName=AA;var IA="DialogClose",CA=k.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=gi(IA,n);return P.jsx(zn.button,{type:"button",...r,ref:t,onClick:sr(e.onClick,()=>i.onOpenChange(!1))})});CA.displayName=IA;function GE(e){return e?"open":"closed"}var kA="DialogTitleWarning",[QZ,MA]=C3(kA,{contentName:ya,titleName:HE,docsSlug:"dialog"}),G4=({titleId:e})=>{const t=MA(kA),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return k.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Y4="DialogDescriptionWarning",Q4=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MA(Y4).contentName}}.`;return k.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},K4=wA,X4=NA,PA=bA,LA=xA,DA=SA,FA=OA,J4=CA;const Z4=K4,eF=X4,UA=k.forwardRef(({className:e,...t},n)=>P.jsx(PA,{className:mt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));UA.displayName=PA.displayName;const tF=UE("fixed z-50 gap-4 bg-white p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out dark:bg-slate-950",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),BA=k.forwardRef(({side:e="right",className:t,children:n,...r},i)=>P.jsxs(eF,{children:[P.jsx(UA,{}),P.jsxs(LA,{ref:i,className:mt(tF({side:e}),t),...r,children:[P.jsxs(J4,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800",children:[P.jsx(FE,{className:"h-4 w-4"}),P.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));BA.displayName=LA.displayName;const nF=k.forwardRef(({className:e,...t},n)=>P.jsx(DA,{ref:n,className:mt("text-lg font-semibold text-slate-950 dark:text-slate-50",e),...t}));nF.displayName=DA.displayName;const rF=k.forwardRef(({className:e,...t},n)=>P.jsx(FA,{ref:n,className:mt("text-sm text-slate-500 dark:text-slate-400",e),...t}));rF.displayName=FA.displayName;function kN({className:e,...t}){return P.jsx("div",{className:mt("animate-pulse rounded-md bg-slate-900/10 dark:bg-slate-50/10",e),...t})}const iF=["top","right","bottom","left"],gs=Math.min,yr=Math.max,op=Math.round,ih=Math.floor,ki=e=>({x:e,y:e}),oF={left:"right",right:"left",bottom:"top",top:"bottom"},sF={start:"end",end:"start"};function sy(e,t,n){return yr(e,gs(t,n))}function mo(e,t){return typeof e=="function"?e(t):e}function go(e){return e.split("-")[0]}function hl(e){return e.split("-")[1]}function YE(e){return e==="x"?"y":"x"}function QE(e){return e==="y"?"height":"width"}function vs(e){return["top","bottom"].includes(go(e))?"y":"x"}function KE(e){return YE(vs(e))}function aF(e,t,n){n===void 0&&(n=!1);const r=hl(e),i=KE(e),o=QE(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=sp(s)),[s,sp(s)]}function uF(e){const t=sp(e);return[ay(e),t,ay(t)]}function ay(e){return e.replace(/start|end/g,t=>sF[t])}function lF(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function cF(e,t,n,r){const i=hl(e);let o=lF(go(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(ay)))),o}function sp(e){return e.replace(/left|right|bottom|top/g,t=>oF[t])}function fF(e){return{top:0,right:0,bottom:0,left:0,...e}}function $A(e){return typeof e!="number"?fF(e):{top:e,right:e,bottom:e,left:e}}function ap(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function MN(e,t,n){let{reference:r,floating:i}=e;const o=vs(t),s=KE(t),c=QE(s),l=go(t),u=o==="y",a=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[c]/2-i[c]/2;let m;switch(l){case"top":m={x:a,y:r.y-i.height};break;case"bottom":m={x:a,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-i.width,y:d};break;default:m={x:r.x,y:r.y}}switch(hl(t)){case"start":m[s]-=h*(n&&u?-1:1);break;case"end":m[s]+=h*(n&&u?-1:1);break}return m}const dF=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,c=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:a,y:d}=MN(u,r,l),h=r,m={},y=0;for(let g=0;g<c.length;g++){const{name:v,fn:w}=c[g],{x:T,y:N,data:b,reset:S}=await w({x:a,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});a=T??a,d=N??d,m={...m,[v]:{...m[v],...b}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:a,y:d}=MN(u,h,l)),g=-1)}return{x:a,y:d,placement:h,strategy:i,middlewareData:m}};async function Wc(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:c,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:a="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=mo(t,e),y=$A(m),v=c[h?d==="floating"?"reference":"floating":d],w=ap(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:u,rootBoundary:a,strategy:l})),T=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),b=await(o.isElement==null?void 0:o.isElement(N))?await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1}:{x:1,y:1},S=ap(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:T,offsetParent:N,strategy:l}):T);return{top:(w.top-S.top+y.top)/b.y,bottom:(S.bottom-w.bottom+y.bottom)/b.y,left:(w.left-S.left+y.left)/b.x,right:(S.right-w.right+y.right)/b.x}}const hF=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:c,middlewareData:l}=t,{element:u,padding:a=0}=mo(e,t)||{};if(u==null)return{};const d=$A(a),h={x:n,y:r},m=KE(i),y=QE(m),g=await s.getDimensions(u),v=m==="y",w=v?"top":"left",T=v?"bottom":"right",N=v?"clientHeight":"clientWidth",b=o.reference[y]+o.reference[m]-h[m]-o.floating[y],S=h[m]-o.reference[m],x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let O=x?x[N]:0;(!O||!await(s.isElement==null?void 0:s.isElement(x)))&&(O=c.floating[N]||o.floating[y]);const M=b/2-S/2,U=O/2-g[y]/2-1,z=gs(d[w],U),Q=gs(d[T],U),ee=z,X=O-g[y]-Q,F=O/2-g[y]/2+M,J=sy(ee,F,X),K=!l.arrow&&hl(i)!=null&&F!==J&&o.reference[y]/2-(F<ee?z:Q)-g[y]/2<0,te=K?F<ee?F-ee:F-X:0;return{[m]:h[m]+te,data:{[m]:J,centerOffset:F-J-te,...K&&{alignmentOffset:te}},reset:K}}}),pF=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:c,platform:l,elements:u}=t,{mainAxis:a=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=mo(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const w=go(i),T=vs(c),N=go(c)===c,b=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=h||(N||!g?[sp(c)]:uF(c)),x=y!=="none";!h&&x&&S.push(...cF(c,g,y,b));const O=[c,...S],M=await Wc(t,v),U=[];let z=((r=o.flip)==null?void 0:r.overflows)||[];if(a&&U.push(M[w]),d){const F=aF(i,s,b);U.push(M[F[0]],M[F[1]])}if(z=[...z,{placement:i,overflows:U}],!U.every(F=>F<=0)){var Q,ee;const F=(((Q=o.flip)==null?void 0:Q.index)||0)+1,J=O[F];if(J)return{data:{index:F,overflows:z},reset:{placement:J}};let K=(ee=z.filter(te=>te.overflows[0]<=0).sort((te,G)=>te.overflows[1]-G.overflows[1])[0])==null?void 0:ee.placement;if(!K)switch(m){case"bestFit":{var X;const te=(X=z.filter(G=>{if(x){const H=vs(G.placement);return H===T||H==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(H=>H>0).reduce((H,W)=>H+W,0)]).sort((G,H)=>G[1]-H[1])[0])==null?void 0:X[0];te&&(K=te);break}case"initialPlacement":K=c;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function PN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function LN(e){return iF.some(t=>e[t]>=0)}const mF=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=mo(e,t);switch(r){case"referenceHidden":{const o=await Wc(t,{...i,elementContext:"reference"}),s=PN(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:LN(s)}}}case"escaped":{const o=await Wc(t,{...i,altBoundary:!0}),s=PN(o,n.floating);return{data:{escapedOffsets:s,escaped:LN(s)}}}default:return{}}}}};async function gF(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=go(n),c=hl(n),l=vs(n)==="y",u=["left","top"].includes(s)?-1:1,a=o&&l?-1:1,d=mo(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return c&&typeof y=="number"&&(m=c==="end"?y*-1:y),l?{x:m*a,y:h*u}:{x:h*u,y:m*a}}const vF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:c}=t,l=await gF(t,e);return s===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},yF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:c={fn:v=>{let{x:w,y:T}=v;return{x:w,y:T}}},...l}=mo(e,t),u={x:n,y:r},a=await Wc(t,l),d=vs(go(i)),h=YE(d);let m=u[h],y=u[d];if(o){const v=h==="y"?"top":"left",w=h==="y"?"bottom":"right",T=m+a[v],N=m-a[w];m=sy(T,m,N)}if(s){const v=d==="y"?"top":"left",w=d==="y"?"bottom":"right",T=y+a[v],N=y-a[w];y=sy(T,y,N)}const g=c.fn({...t,[h]:m,[d]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:o,[d]:s}}}}}},EF=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:c=0,mainAxis:l=!0,crossAxis:u=!0}=mo(e,t),a={x:n,y:r},d=vs(i),h=YE(d);let m=a[h],y=a[d];const g=mo(c,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const N=h==="y"?"height":"width",b=o.reference[h]-o.floating[N]+v.mainAxis,S=o.reference[h]+o.reference[N]-v.mainAxis;m<b?m=b:m>S&&(m=S)}if(u){var w,T;const N=h==="y"?"width":"height",b=["top","left"].includes(go(i)),S=o.reference[d]-o.floating[N]+(b&&((w=s.offset)==null?void 0:w[d])||0)+(b?0:v.crossAxis),x=o.reference[d]+o.reference[N]+(b?0:((T=s.offset)==null?void 0:T[d])||0)-(b?v.crossAxis:0);y<S?y=S:y>x&&(y=x)}return{[h]:m,[d]:y}}}},wF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:c}=t,{apply:l=()=>{},...u}=mo(e,t),a=await Wc(t,u),d=go(i),h=hl(i),m=vs(i)==="y",{width:y,height:g}=o.floating;let v,w;d==="top"||d==="bottom"?(v=d,w=h===(await(s.isRTL==null?void 0:s.isRTL(c.floating))?"start":"end")?"left":"right"):(w=d,v=h==="end"?"top":"bottom");const T=g-a.top-a.bottom,N=y-a.left-a.right,b=gs(g-a[v],T),S=gs(y-a[w],N),x=!t.middlewareData.shift;let O=b,M=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=N),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=T),x&&!h){const z=yr(a.left,0),Q=yr(a.right,0),ee=yr(a.top,0),X=yr(a.bottom,0);m?M=y-2*(z!==0||Q!==0?z+Q:yr(a.left,a.right)):O=g-2*(ee!==0||X!==0?ee+X:yr(a.top,a.bottom))}await l({...t,availableWidth:M,availableHeight:O});const U=await s.getDimensions(c.floating);return y!==U.width||g!==U.height?{reset:{rects:!0}}:{}}}};function Hp(){return typeof window<"u"}function pl(e){return VA(e)?(e.nodeName||"").toLowerCase():"#document"}function Er(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qi(e){var t;return(t=(VA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function VA(e){return Hp()?e instanceof Node||e instanceof Er(e).Node:!1}function li(e){return Hp()?e instanceof Element||e instanceof Er(e).Element:!1}function Li(e){return Hp()?e instanceof HTMLElement||e instanceof Er(e).HTMLElement:!1}function DN(e){return!Hp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Er(e).ShadowRoot}function mf(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ci(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function TF(e){return["table","td","th"].includes(pl(e))}function Gp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function XE(e){const t=JE(),n=li(e)?ci(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _F(e){let t=ys(e);for(;Li(t)&&!Xu(t);){if(XE(t))return t;if(Gp(t))return null;t=ys(t)}return null}function JE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xu(e){return["html","body","#document"].includes(pl(e))}function ci(e){return Er(e).getComputedStyle(e)}function Yp(e){return li(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ys(e){if(pl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||DN(e)&&e.host||qi(e);return DN(t)?t.host:t}function jA(e){const t=ys(e);return Xu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Li(t)&&mf(t)?t:jA(t)}function Hc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=jA(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=Er(i);if(o){const c=uy(s);return t.concat(s,s.visualViewport||[],mf(i)?i:[],c&&n?Hc(c):[])}return t.concat(i,Hc(i,[],n))}function uy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function zA(e){const t=ci(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Li(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,c=op(n)!==o||op(r)!==s;return c&&(n=o,r=s),{width:n,height:r,$:c}}function ZE(e){return li(e)?e:e.contextElement}function Uu(e){const t=ZE(e);if(!Li(t))return ki(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=zA(t);let s=(o?op(n.width):n.width)/r,c=(o?op(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const NF=ki(0);function qA(e){const t=Er(e);return!JE()||!t.visualViewport?NF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bF(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Er(e)?!1:t}function Ea(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=ZE(e);let s=ki(1);t&&(r?li(r)&&(s=Uu(r)):s=Uu(e));const c=bF(o,n,r)?qA(o):ki(0);let l=(i.left+c.x)/s.x,u=(i.top+c.y)/s.y,a=i.width/s.x,d=i.height/s.y;if(o){const h=Er(o),m=r&&li(r)?Er(r):r;let y=h,g=uy(y);for(;g&&r&&m!==y;){const v=Uu(g),w=g.getBoundingClientRect(),T=ci(g),N=w.left+(g.clientLeft+parseFloat(T.paddingLeft))*v.x,b=w.top+(g.clientTop+parseFloat(T.paddingTop))*v.y;l*=v.x,u*=v.y,a*=v.x,d*=v.y,l+=N,u+=b,y=Er(g),g=uy(y)}}return ap({width:a,height:d,x:l,y:u})}function ew(e,t){const n=Yp(e).scrollLeft;return t?t.left+n:Ea(qi(e)).left+n}function WA(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:ew(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function xF(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=qi(r),c=t?Gp(t.floating):!1;if(r===s||c&&o)return n;let l={scrollLeft:0,scrollTop:0},u=ki(1);const a=ki(0),d=Li(r);if((d||!d&&!o)&&((pl(r)!=="body"||mf(s))&&(l=Yp(r)),Li(r))){const m=Ea(r);u=Uu(r),a.x=m.x+r.clientLeft,a.y=m.y+r.clientTop}const h=s&&!d&&!o?WA(s,l,!0):ki(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+a.x+h.x,y:n.y*u.y-l.scrollTop*u.y+a.y+h.y}}function RF(e){return Array.from(e.getClientRects())}function SF(e){const t=qi(e),n=Yp(e),r=e.ownerDocument.body,i=yr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=yr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+ew(e);const c=-n.scrollTop;return ci(r).direction==="rtl"&&(s+=yr(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:c}}function AF(e,t){const n=Er(e),r=qi(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,c=0,l=0;if(i){o=i.width,s=i.height;const u=JE();(!u||u&&t==="fixed")&&(c=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:c,y:l}}function OF(e,t){const n=Ea(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Li(e)?Uu(e):ki(1),s=e.clientWidth*o.x,c=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:c,x:l,y:u}}function FN(e,t,n){let r;if(t==="viewport")r=AF(e,n);else if(t==="document")r=SF(qi(e));else if(li(t))r=OF(t,n);else{const i=qA(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return ap(r)}function HA(e,t){const n=ys(e);return n===t||!li(n)||Xu(n)?!1:ci(n).position==="fixed"||HA(n,t)}function IF(e,t){const n=t.get(e);if(n)return n;let r=Hc(e,[],!1).filter(c=>li(c)&&pl(c)!=="body"),i=null;const o=ci(e).position==="fixed";let s=o?ys(e):e;for(;li(s)&&!Xu(s);){const c=ci(s),l=XE(s);!l&&c.position==="fixed"&&(i=null),(o?!l&&!i:!l&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||mf(s)&&!l&&HA(e,s))?r=r.filter(a=>a!==s):i=c,s=ys(s)}return t.set(e,r),r}function CF(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?Gp(t)?[]:IF(t,this._c):[].concat(n),r],c=s[0],l=s.reduce((u,a)=>{const d=FN(t,a,i);return u.top=yr(d.top,u.top),u.right=gs(d.right,u.right),u.bottom=gs(d.bottom,u.bottom),u.left=yr(d.left,u.left),u},FN(t,c,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function kF(e){const{width:t,height:n}=zA(e);return{width:t,height:n}}function MF(e,t,n){const r=Li(t),i=qi(t),o=n==="fixed",s=Ea(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const l=ki(0);if(r||!r&&!o)if((pl(t)!=="body"||mf(i))&&(c=Yp(t)),r){const h=Ea(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=ew(i));const u=i&&!r&&!o?WA(i,c):ki(0),a=s.left+c.scrollLeft-l.x-u.x,d=s.top+c.scrollTop-l.y-u.y;return{x:a,y:d,width:s.width,height:s.height}}function Lv(e){return ci(e).position==="static"}function UN(e,t){if(!Li(e)||ci(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return qi(e)===n&&(n=n.ownerDocument.body),n}function GA(e,t){const n=Er(e);if(Gp(e))return n;if(!Li(e)){let i=ys(e);for(;i&&!Xu(i);){if(li(i)&&!Lv(i))return i;i=ys(i)}return n}let r=UN(e,t);for(;r&&TF(r)&&Lv(r);)r=UN(r,t);return r&&Xu(r)&&Lv(r)&&!XE(r)?n:r||_F(e)||n}const PF=async function(e){const t=this.getOffsetParent||GA,n=this.getDimensions,r=await n(e.floating);return{reference:MF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function LF(e){return ci(e).direction==="rtl"}const DF={convertOffsetParentRelativeRectToViewportRelativeRect:xF,getDocumentElement:qi,getClippingRect:CF,getOffsetParent:GA,getElementRects:PF,getClientRects:RF,getDimensions:kF,getScale:Uu,isElement:li,isRTL:LF};function YA(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function FF(e,t){let n=null,r;const i=qi(e);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function s(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:a,top:d,width:h,height:m}=u;if(c||t(),!h||!m)return;const y=ih(d),g=ih(i.clientWidth-(a+h)),v=ih(i.clientHeight-(d+m)),w=ih(a),N={rootMargin:-y+"px "+-g+"px "+-v+"px "+-w+"px",threshold:yr(0,gs(1,l))||1};let b=!0;function S(x){const O=x[0].intersectionRatio;if(O!==l){if(!b)return s();O?s(!1,O):r=setTimeout(()=>{s(!1,1e-7)},1e3)}O===1&&!YA(u,e.getBoundingClientRect())&&s(),b=!1}try{n=new IntersectionObserver(S,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,N)}n.observe(e)}return s(!0),o}function UF(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=ZE(e),a=i||o?[...u?Hc(u):[],...Hc(t)]:[];a.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),o&&w.addEventListener("resize",n)});const d=u&&c?FF(u,n):null;let h=-1,m=null;s&&(m=new ResizeObserver(w=>{let[T]=w;T&&T.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var N;(N=m)==null||N.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let y,g=l?Ea(e):null;l&&v();function v(){const w=Ea(e);g&&!YA(g,w)&&n(),g=w,y=requestAnimationFrame(v)}return n(),()=>{var w;a.forEach(T=>{i&&T.removeEventListener("scroll",n),o&&T.removeEventListener("resize",n)}),d==null||d(),(w=m)==null||w.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const BF=vF,$F=yF,VF=pF,jF=wF,zF=mF,BN=hF,qF=EF,WF=(e,t,n)=>{const r=new Map,i={platform:DF,...n},o={...i.platform,_c:r};return dF(e,t,{...i,platform:o})};var Ph=typeof document<"u"?k.useLayoutEffect:k.useEffect;function up(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!up(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!up(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function QA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $N(e,t){const n=QA(e);return Math.round(t*n)/n}function Dv(e){const t=k.useRef(e);return Ph(()=>{t.current=e}),t}function HF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[a,d]=k.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=k.useState(r);up(h,r)||m(r);const[y,g]=k.useState(null),[v,w]=k.useState(null),T=k.useCallback(G=>{G!==x.current&&(x.current=G,g(G))},[]),N=k.useCallback(G=>{G!==O.current&&(O.current=G,w(G))},[]),b=o||y,S=s||v,x=k.useRef(null),O=k.useRef(null),M=k.useRef(a),U=l!=null,z=Dv(l),Q=Dv(i),ee=Dv(u),X=k.useCallback(()=>{if(!x.current||!O.current)return;const G={placement:t,strategy:n,middleware:h};Q.current&&(G.platform=Q.current),WF(x.current,O.current,G).then(H=>{const W={...H,isPositioned:ee.current!==!1};F.current&&!up(M.current,W)&&(M.current=W,qp.flushSync(()=>{d(W)}))})},[h,t,n,Q,ee]);Ph(()=>{u===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,d(G=>({...G,isPositioned:!1})))},[u]);const F=k.useRef(!1);Ph(()=>(F.current=!0,()=>{F.current=!1}),[]),Ph(()=>{if(b&&(x.current=b),S&&(O.current=S),b&&S){if(z.current)return z.current(b,S,X);X()}},[b,S,X,z,U]);const J=k.useMemo(()=>({reference:x,floating:O,setReference:T,setFloating:N}),[T,N]),K=k.useMemo(()=>({reference:b,floating:S}),[b,S]),te=k.useMemo(()=>{const G={position:n,left:0,top:0};if(!K.floating)return G;const H=$N(K.floating,a.x),W=$N(K.floating,a.y);return c?{...G,transform:"translate("+H+"px, "+W+"px)",...QA(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:W}},[n,c,K.floating,a.x,a.y]);return k.useMemo(()=>({...a,update:X,refs:J,elements:K,floatingStyles:te}),[a,X,J,K,te])}const GF=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?BN({element:r.current,padding:i}).fn(n):{}:r?BN({element:r,padding:i}).fn(n):{}}}},YF=(e,t)=>({...BF(e),options:[e,t]}),QF=(e,t)=>({...$F(e),options:[e,t]}),KF=(e,t)=>({...qF(e),options:[e,t]}),XF=(e,t)=>({...VF(e),options:[e,t]}),JF=(e,t)=>({...jF(e),options:[e,t]}),ZF=(e,t)=>({...zF(e),options:[e,t]}),eU=(e,t)=>({...GF(e),options:[e,t]});var tU="Arrow",KA=k.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return P.jsx(zn.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:P.jsx("polygon",{points:"0,0 30,0 15,10"})})});KA.displayName=tU;var nU=KA;function rU(e){const[t,n]=k.useState(void 0);return va(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,c;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,c=u.blockSize}else s=e.offsetWidth,c=e.offsetHeight;n({width:s,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var tw="Popper",[XA,JA]=VE(tw),[iU,ZA]=XA(tw),eO=e=>{const{__scopePopper:t,children:n}=e,[r,i]=k.useState(null);return P.jsx(iU,{scope:t,anchor:r,onAnchorChange:i,children:n})};eO.displayName=tw;var tO="PopperAnchor",nO=k.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=ZA(tO,n),s=k.useRef(null),c=mi(t,s);return k.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:P.jsx(zn.div,{...i,ref:c})});nO.displayName=tO;var nw="PopperContent",[oU,sU]=XA(nw),rO=k.forwardRef((e,t)=>{var oe,q,se,ge,we,be;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:a=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=e,v=ZA(nw,n),[w,T]=k.useState(null),N=mi(t,Re=>T(Re)),[b,S]=k.useState(null),x=rU(b),O=(x==null?void 0:x.width)??0,M=(x==null?void 0:x.height)??0,U=r+(o!=="center"?"-"+o:""),z=typeof a=="number"?a:{top:0,right:0,bottom:0,left:0,...a},Q=Array.isArray(u)?u:[u],ee=Q.length>0,X={padding:z,boundary:Q.filter(uU),altBoundary:ee},{refs:F,floatingStyles:J,placement:K,isPositioned:te,middlewareData:G}=HF({strategy:"fixed",placement:U,whileElementsMounted:(...Re)=>UF(...Re,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[YF({mainAxis:i+M,alignmentAxis:s}),l&&QF({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?KF():void 0,...X}),l&&XF({...X}),JF({...X,apply:({elements:Re,rects:Qe,availableWidth:ze,availableHeight:Rt})=>{const{width:Xe,height:xe}=Qe.reference,Me=Re.floating.style;Me.setProperty("--radix-popper-available-width",`${ze}px`),Me.setProperty("--radix-popper-available-height",`${Rt}px`),Me.setProperty("--radix-popper-anchor-width",`${Xe}px`),Me.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),b&&eU({element:b,padding:c}),lU({arrowWidth:O,arrowHeight:M}),h&&ZF({strategy:"referenceHidden",...X})]}),[H,W]=sO(K),V=ms(y);va(()=>{te&&(V==null||V())},[te,V]);const C=(oe=G.arrow)==null?void 0:oe.x,L=(q=G.arrow)==null?void 0:q.y,I=((se=G.arrow)==null?void 0:se.centerOffset)!==0,[j,$]=k.useState();return va(()=>{w&&$(window.getComputedStyle(w).zIndex)},[w]),P.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:te?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:j,"--radix-popper-transform-origin":[(ge=G.transformOrigin)==null?void 0:ge.x,(we=G.transformOrigin)==null?void 0:we.y].join(" "),...((be=G.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:P.jsx(oU,{scope:n,placedSide:H,onArrowChange:S,arrowX:C,arrowY:L,shouldHideArrow:I,children:P.jsx(zn.div,{"data-side":H,"data-align":W,...g,ref:N,style:{...g.style,animation:te?void 0:"none"}})})})});rO.displayName=nw;var iO="PopperArrow",aU={top:"bottom",right:"left",bottom:"top",left:"right"},oO=k.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=sU(iO,r),s=aU[o.placedSide];return P.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:P.jsx(nU,{...i,ref:n,style:{...i.style,display:"block"}})})});oO.displayName=iO;function uU(e){return e!==null}var lU=e=>({name:"transformOrigin",options:e,fn(t){var v,w,T;const{placement:n,rects:r,middlewareData:i}=t,s=((v=i.arrow)==null?void 0:v.centerOffset)!==0,c=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[u,a]=sO(n),d={start:"0%",center:"50%",end:"100%"}[a],h=(((w=i.arrow)==null?void 0:w.x)??0)+c/2,m=(((T=i.arrow)==null?void 0:T.y)??0)+l/2;let y="",g="";return u==="bottom"?(y=s?d:`${h}px`,g=`${-l}px`):u==="top"?(y=s?d:`${h}px`,g=`${r.floating.height+l}px`):u==="right"?(y=`${-l}px`,g=s?d:`${m}px`):u==="left"&&(y=`${r.floating.width+l}px`,g=s?d:`${m}px`),{data:{x:y,y:g}}}});function sO(e){const[t,n="center"]=e.split("-");return[t,n]}var cU=eO,fU=nO,dU=rO,hU=oO,pU="VisuallyHidden",aO=k.forwardRef((e,t)=>P.jsx(zn.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));aO.displayName=pU;var mU=aO,[Qp,KZ]=VE("Tooltip",[JA]),Kp=JA(),uO="TooltipProvider",gU=700,ly="tooltip.open",[vU,rw]=Qp(uO),lO=e=>{const{__scopeTooltip:t,delayDuration:n=gU,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,[s,c]=k.useState(!0),l=k.useRef(!1),u=k.useRef(0);return k.useEffect(()=>{const a=u.current;return()=>window.clearTimeout(a)},[]),P.jsx(vU,{scope:t,isOpenDelayed:s,delayDuration:n,onOpen:k.useCallback(()=>{window.clearTimeout(u.current),c(!1)},[]),onClose:k.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>c(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:k.useCallback(a=>{l.current=a},[]),disableHoverableContent:i,children:o})};lO.displayName=uO;var Xp="Tooltip",[yU,gf]=Qp(Xp),cO=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:s,delayDuration:c}=e,l=rw(Xp,e.__scopeTooltip),u=Kp(t),[a,d]=k.useState(null),h=Ch(),m=k.useRef(0),y=s??l.disableHoverableContent,g=c??l.delayDuration,v=k.useRef(!1),[w=!1,T]=sA({prop:r,defaultProp:i,onChange:O=>{O?(l.onOpen(),document.dispatchEvent(new CustomEvent(ly))):l.onClose(),o==null||o(O)}}),N=k.useMemo(()=>w?v.current?"delayed-open":"instant-open":"closed",[w]),b=k.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v.current=!1,T(!0)},[T]),S=k.useCallback(()=>{window.clearTimeout(m.current),m.current=0,T(!1)},[T]),x=k.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{v.current=!0,T(!0),m.current=0},g)},[g,T]);return k.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),P.jsx(cU,{...u,children:P.jsx(yU,{scope:t,contentId:h,open:w,stateAttribute:N,trigger:a,onTriggerChange:d,onTriggerEnter:k.useCallback(()=>{l.isOpenDelayed?x():b()},[l.isOpenDelayed,x,b]),onTriggerLeave:k.useCallback(()=>{y?S():(window.clearTimeout(m.current),m.current=0)},[S,y]),onOpen:b,onClose:S,disableHoverableContent:y,children:n})})};cO.displayName=Xp;var cy="TooltipTrigger",fO=k.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=gf(cy,n),o=rw(cy,n),s=Kp(n),c=k.useRef(null),l=mi(t,c,i.onTriggerChange),u=k.useRef(!1),a=k.useRef(!1),d=k.useCallback(()=>u.current=!1,[]);return k.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),P.jsx(fU,{asChild:!0,...s,children:P.jsx(zn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:sr(e.onPointerMove,h=>{h.pointerType!=="touch"&&!a.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),a.current=!0)}),onPointerLeave:sr(e.onPointerLeave,()=>{i.onTriggerLeave(),a.current=!1}),onPointerDown:sr(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:sr(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:sr(e.onBlur,i.onClose),onClick:sr(e.onClick,i.onClose)})})});fO.displayName=cy;var iw="TooltipPortal",[EU,wU]=Qp(iw,{forceMount:void 0}),dO=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,o=gf(iw,t);return P.jsx(EU,{scope:t,forceMount:n,children:P.jsx(dl,{present:n||o.open,children:P.jsx(zE,{asChild:!0,container:i,children:r})})})};dO.displayName=iw;var Ju="TooltipContent",hO=k.forwardRef((e,t)=>{const n=wU(Ju,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,s=gf(Ju,e.__scopeTooltip);return P.jsx(dl,{present:r||s.open,children:s.disableHoverableContent?P.jsx(pO,{side:i,...o,ref:t}):P.jsx(TU,{side:i,...o,ref:t})})}),TU=k.forwardRef((e,t)=>{const n=gf(Ju,e.__scopeTooltip),r=rw(Ju,e.__scopeTooltip),i=k.useRef(null),o=mi(t,i),[s,c]=k.useState(null),{trigger:l,onClose:u}=n,a=i.current,{onPointerInTransitChange:d}=r,h=k.useCallback(()=>{c(null),d(!1)},[d]),m=k.useCallback((y,g)=>{const v=y.currentTarget,w={x:y.clientX,y:y.clientY},T=xU(w,v.getBoundingClientRect()),N=RU(w,T),b=SU(g.getBoundingClientRect()),S=OU([...N,...b]);c(S),d(!0)},[d]);return k.useEffect(()=>()=>h(),[h]),k.useEffect(()=>{if(l&&a){const y=v=>m(v,a),g=v=>m(v,l);return l.addEventListener("pointerleave",y),a.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",y),a.removeEventListener("pointerleave",g)}}},[l,a,m,h]),k.useEffect(()=>{if(s){const y=g=>{const v=g.target,w={x:g.clientX,y:g.clientY},T=(l==null?void 0:l.contains(v))||(a==null?void 0:a.contains(v)),N=!AU(w,s);T?h():N&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,a,s,u,h]),P.jsx(pO,{...e,ref:o})}),[_U,NU]=Qp(Xp,{isInside:!1}),pO=k.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...c}=e,l=gf(Ju,n),u=Kp(n),{onClose:a}=l;return k.useEffect(()=>(document.addEventListener(ly,a),()=>document.removeEventListener(ly,a)),[a]),k.useEffect(()=>{if(l.trigger){const d=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&a()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,a]),P.jsx(jE,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:d=>d.preventDefault(),onDismiss:a,children:P.jsxs(dU,{"data-state":l.stateAttribute,...u,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[P.jsx(WS,{children:r}),P.jsx(_U,{scope:n,isInside:!0,children:P.jsx(mU,{id:l.contentId,role:"tooltip",children:i||r})})]})})});hO.displayName=Ju;var mO="TooltipArrow",bU=k.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Kp(n);return NU(mO,n).isInside?null:P.jsx(hU,{...i,...r,ref:t})});bU.displayName=mO;function xU(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function RU(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function SU(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function AU(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const c=t[o].x,l=t[o].y,u=t[s].x,a=t[s].y;l>r!=a>r&&n<(u-c)*(r-l)/(a-l)+c&&(i=!i)}return i}function OU(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),IU(t)}function IU(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],s=t[t.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var CU=lO,kU=cO,MU=fO,PU=dO,gO=hO;const LU=CU,DU=kU,FU=MU,vO=k.forwardRef(({className:e,sideOffset:t=4,...n},r)=>P.jsx(PU,{children:P.jsx(gO,{ref:r,sideOffset:t,className:mt("z-50 overflow-hidden rounded-md bg-slate-900 px-3 py-1.5 text-xs text-slate-50 animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:bg-slate-50 dark:text-slate-900",e),...n})}));vO.displayName=gO.displayName;const UU="sidebar_state",BU=60*60*24*7,$U="16rem",VU="18rem",jU="3rem",zU="b",yO=k.createContext(null);function Jp(){const e=k.useContext(yO);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const EO=k.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:i,children:o,...s},c)=>{const l=DD(),[u,a]=k.useState(!1),[d,h]=k.useState(e),m=t??d,y=k.useCallback(T=>{const N=typeof T=="function"?T(m):T;n?n(N):h(N),document.cookie=`${UU}=${N}; path=/; max-age=${BU}`},[n,m]),g=k.useCallback(()=>l?a(T=>!T):y(T=>!T),[l,y,a]);k.useEffect(()=>{const T=N=>{N.key===zU&&(N.metaKey||N.ctrlKey)&&(N.preventDefault(),g())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[g]);const v=m?"expanded":"collapsed",w=k.useMemo(()=>({state:v,open:m,setOpen:y,isMobile:l,openMobile:u,setOpenMobile:a,toggleSidebar:g}),[v,m,y,l,u,a,g]);return P.jsx(yO.Provider,{value:w,children:P.jsx(LU,{delayDuration:0,children:P.jsx("div",{style:{"--sidebar-width":$U,"--sidebar-width-icon":jU,...i},className:mt("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:c,...s,children:o})})})});EO.displayName="SidebarProvider";const wO=k.forwardRef(({side:e="left",variant:t="inset",collapsible:n="offcanvas",className:r,children:i,...o},s)=>{const{isMobile:c,state:l,openMobile:u,setOpenMobile:a}=Jp();return n==="none"?P.jsx("div",{className:mt("flex h-full w-[--sidebar-width] flex-col text-sidebar-foreground",r),ref:s,...o,children:i}):c?P.jsx(Z4,{open:u,onOpenChange:a,...o,children:P.jsx(BA,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":VU},side:e,children:P.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):P.jsxs("div",{ref:s,className:"group peer hidden text-sidebar-foreground md:block","data-state":l,"data-collapsible":l==="collapsed"?n:"","data-variant":t,"data-side":e,children:[P.jsx("div",{className:mt("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),P.jsx("div",{className:mt("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...o,children:P.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});wO.displayName="Sidebar";const qU=k.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:i}=Jp();return P.jsxs(rp,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:mt("h-7 w-7",e),onClick:o=>{t==null||t(o),i()},...n,children:[P.jsx(AD,{}),P.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});qU.displayName="SidebarTrigger";const WU=k.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=Jp();return P.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:mt("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});WU.displayName="SidebarRail";const HU=k.forwardRef(({className:e,...t},n)=>P.jsx("main",{ref:n,className:mt("relative flex min-h-svh flex-1 flex-col bg-white dark:bg-slate-950","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));HU.displayName="SidebarInset";const GU=k.forwardRef(({className:e,...t},n)=>P.jsx(nA,{ref:n,"data-sidebar":"input",className:mt("h-8 w-full bg-white shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring dark:bg-slate-950",e),...t}));GU.displayName="SidebarInput";const YU=k.forwardRef(({className:e,...t},n)=>P.jsx("div",{ref:n,"data-sidebar":"header",className:mt("flex flex-col gap-2 p-2",e),...t}));YU.displayName="SidebarHeader";const QU=k.forwardRef(({className:e,...t},n)=>P.jsx("div",{ref:n,"data-sidebar":"footer",className:mt("flex flex-col gap-2 p-2",e),...t}));QU.displayName="SidebarFooter";const KU=k.forwardRef(({className:e,...t},n)=>P.jsx(oA,{ref:n,"data-sidebar":"separator",className:mt("mx-2 w-auto bg-sidebar-border",e),...t}));KU.displayName="SidebarSeparator";const fy=k.forwardRef(({className:e,...t},n)=>P.jsx("div",{ref:n,"data-sidebar":"content",className:mt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));fy.displayName="SidebarContent";const dy=k.forwardRef(({className:e,...t},n)=>P.jsx("div",{ref:n,"data-sidebar":"group",className:mt("relative flex w-full min-w-0 flex-col p-2",e),...t}));dy.displayName="SidebarGroup";const XU=k.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const i=t?xo:"div";return P.jsx(i,{ref:r,"data-sidebar":"group-label",className:mt("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});XU.displayName="SidebarGroupLabel";const JU=k.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const i=t?xo:"button";return P.jsx(i,{ref:r,"data-sidebar":"group-action",className:mt("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});JU.displayName="SidebarGroupAction";const hy=k.forwardRef(({className:e,...t},n)=>P.jsx("div",{ref:n,"data-sidebar":"group-content",className:mt("w-full text-sm",e),...t}));hy.displayName="SidebarGroupContent";const py=k.forwardRef(({className:e,...t},n)=>P.jsx("ul",{ref:n,"data-sidebar":"menu",className:mt("flex w-full min-w-0 flex-col gap-1",e),...t}));py.displayName="SidebarMenu";const Tc=k.forwardRef(({className:e,...t},n)=>P.jsx("li",{ref:n,"data-sidebar":"menu-item",className:mt("group/menu-item relative",e),...t}));Tc.displayName="SidebarMenuItem";const ZU=UE("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-white shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))] dark:bg-slate-950"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),_c=k.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:i,className:o,...s},c)=>{const l=e?xo:"button",{isMobile:u,state:a}=Jp(),d=P.jsx(l,{ref:c,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:mt(ZU({variant:n,size:r}),o),...s});return i?(typeof i=="string"&&(i={children:i}),P.jsxs(DU,{children:[P.jsx(FU,{asChild:!0,children:d}),P.jsx(vO,{side:"right",align:"center",hidden:a!=="collapsed"||u,...i})]})):d});_c.displayName="SidebarMenuButton";const e5=k.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},i)=>{const o=t?xo:"button";return P.jsx(o,{ref:i,"data-sidebar":"menu-action",className:mt("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});e5.displayName="SidebarMenuAction";const t5=k.forwardRef(({className:e,...t},n)=>P.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:mt("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));t5.displayName="SidebarMenuBadge";const n5=k.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const i=k.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return P.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:mt("flex h-8 items-center gap-2 rounded-md px-2",e),...n,children:[t&&P.jsx(kN,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),P.jsx(kN,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});n5.displayName="SidebarMenuSkeleton";const r5=k.forwardRef(({className:e,...t},n)=>P.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:mt("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));r5.displayName="SidebarMenuSub";const i5=k.forwardRef(({...e},t)=>P.jsx("li",{ref:t,...e}));i5.displayName="SidebarMenuSubItem";const o5=k.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...i},o)=>{const s=e?xo:"a";return P.jsx(s,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:mt("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...i})});o5.displayName="SidebarMenuSubButton";var s5="AspectRatio",TO=k.forwardRef((e,t)=>{const{ratio:n=1/1,style:r,...i}=e;return P.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/n}%`},"data-radix-aspect-ratio-wrapper":"",children:P.jsx(zn.div,{...i,ref:t,style:{...r,position:"absolute",top:0,right:0,bottom:0,left:0}})})});TO.displayName=s5;var a5=TO;const u5="/dynamic-frontend/assets/cgLogo-Cwn5Jt4k.png",l5=({blueprint:e,updateSearchQuery:t})=>{const n={Individual:xv,Volunteer:xv,Staff:xv,Group:bD,ProgressNote:_D,Event:wD,Activity:mD,Equipment:dN},r=d=>n[d]||dN,i=e.entities.map(d=>({title:d.name,type:"table",icon:r(d.name)})),o={title:"Recommendations",type:"recommend",icon:vD},s={title:"Knowledge Graph",type:"graph",icon:RD},c={title:"Settings",type:"settings",icon:ID},l=()=>{t({type:"all",name:"",metadata:{other:"home"}})},u=d=>{t({type:d.type,name:d.title,metadata:{other:d.title.toLowerCase()}})},a=()=>{t({type:c.type,name:"",metadata:{other:c.title.toLowerCase()}})};return P.jsxs(wO,{className:"flex flex-col justify-between h-screen",children:[P.jsx("div",{className:"p-6 pl-4 cursor-pointer hover:bg-anakiwa-50 transition-colors",onClick:l,children:P.jsx(a5,{ratio:22/6,children:P.jsx("img",{src:u5,alt:"logo",className:"w-full h-full object-contain"})})}),P.jsx(fy,{className:"flex-1 ml-1 justify-center",children:P.jsx(dy,{children:P.jsx(hy,{children:P.jsxs(py,{children:[i.map(d=>P.jsx(Tc,{children:P.jsxs(_c,{onClick:()=>u(d),children:[P.jsx(d.icon,{className:"w-4 h-4"}),P.jsx("span",{children:d.title})]})},d.title)),P.jsx(Tc,{children:P.jsxs(_c,{onClick:()=>u(o),children:[P.jsx(o.icon,{className:"w-4 h-4"}),P.jsx("span",{children:o.title})]})}),P.jsx(Tc,{children:P.jsxs(_c,{onClick:()=>u(s),children:[P.jsx(s.icon,{className:"w-4 h-4"}),P.jsx("span",{children:s.title})]})})]})})})}),P.jsx(fy,{className:"pb-4 ml-1 justify-end",children:P.jsx(dy,{children:P.jsx(hy,{children:P.jsx(py,{children:P.jsx(Tc,{children:P.jsxs(_c,{onClick:a,children:[P.jsx(c.icon,{className:"w-4 h-4"}),P.jsx("span",{children:c.title})]})})})})})})]})};var Fv="Invariant Violation",VN=Object.setPrototypeOf,c5=VN===void 0?function(e,t){return e.__proto__=t,e}:VN,_O=function(e){zi(t,e);function t(n){n===void 0&&(n=Fv);var r=e.call(this,typeof n=="number"?Fv+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=Fv,c5(r,t.prototype),r}return t}(Error);function na(e,t){if(!e)throw new _O(t)}var NO=["debug","log","warn","error","silent"],f5=NO.indexOf("log");function oh(e){return function(){if(NO.indexOf(e)>=f5){var t=console[e]||console.log;return t.apply(console,arguments)}}}(function(e){e.debug=oh("debug"),e.log=oh("log"),e.warn=oh("warn"),e.error=oh("error")})(na||(na={}));var ow="3.13.1";function ni(e){try{return e()}catch{}}const my=ni(function(){return globalThis})||ni(function(){return window})||ni(function(){return self})||ni(function(){return global})||ni(function(){return ni.constructor("return this")()});var jN=new Map;function gy(e){var t=jN.get(e)||1;return jN.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function bO(e,t){t===void 0&&(t=0);var n=gy("stringifyForDisplay");return JSON.stringify(e,function(r,i){return i===void 0?n:i},t).split(JSON.stringify(n)).join("<undefined>")}function sh(e){return function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(typeof t=="number"){var i=t;t=sw(i),t||(t=aw(i,n),n=[])}e.apply(void 0,[t].concat(n))}}var Oe=Object.assign(function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];t||na(t,sw(n,r)||aw(n,r))},{debug:sh(na.debug),log:sh(na.log),warn:sh(na.warn),error:sh(na.error)});function Qn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new _O(sw(e,t)||aw(e,t))}var zN=Symbol.for("ApolloErrorMessageHandler_"+ow);function xO(e){if(typeof e=="string")return e;try{return bO(e,2).slice(0,1e3)}catch{return"<non-serializable>"}}function sw(e,t){if(t===void 0&&(t=[]),!!e)return my[zN]&&my[zN](e,t.map(xO))}function aw(e,t){if(t===void 0&&(t=[]),!!e)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:ow,message:e,args:t.map(xO)})))}function yt(e,t){if(!!!e)throw new Error(t)}function wa(e){return typeof e=="object"&&e!==null}function si(e,t){if(!!!e)throw new Error(t??"Unexpected invariant triggered.")}const d5=/\r\n|[\n\r]/g;function vy(e,t){let n=0,r=1;for(const i of e.body.matchAll(d5)){if(typeof i.index=="number"||si(!1),i.index>=t)break;n=i.index+i[0].length,r+=1}return{line:r,column:t+1-n}}function h5(e){return RO(e.source,vy(e.source,e.start))}function RO(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,s=t.line+o,c=t.line===1?n:0,l=t.column+c,u=`${e.name}:${s}:${l}
`,a=r.split(/\r\n|[\n\r]/g),d=a[i];if(d.length>120){const h=Math.floor(l/80),m=l%80,y=[];for(let g=0;g<d.length;g+=80)y.push(d.slice(g,g+80));return u+qN([[`${s} |`,y[0]],...y.slice(1,h+1).map(g=>["|",g]),["|","^".padStart(m)],["|",y[h+1]]])}return u+qN([[`${s-1} |`,a[i-1]],[`${s} |`,d],["|","^".padStart(l)],[`${s+1} |`,a[i+1]]])}function qN(e){const t=e.filter(([r,i])=>i!==void 0),n=Math.max(...t.map(([r])=>r.length));return t.map(([r,i])=>r.padStart(n)+(i?" "+i:"")).join(`
`)}function p5(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class _e extends Error{constructor(t,...n){var r,i,o;const{nodes:s,source:c,positions:l,path:u,originalError:a,extensions:d}=p5(n);super(t),this.name="GraphQLError",this.path=u??void 0,this.originalError=a??void 0,this.nodes=WN(Array.isArray(s)?s:s?[s]:void 0);const h=WN((r=this.nodes)===null||r===void 0?void 0:r.map(y=>y.loc).filter(y=>y!=null));this.source=c??(h==null||(i=h[0])===null||i===void 0?void 0:i.source),this.positions=l??(h==null?void 0:h.map(y=>y.start)),this.locations=l&&c?l.map(y=>vy(c,y)):h==null?void 0:h.map(y=>vy(y.source,y.start));const m=wa(a==null?void 0:a.extensions)?a==null?void 0:a.extensions:void 0;this.extensions=(o=d??m)!==null&&o!==void 0?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),a!=null&&a.stack?Object.defineProperty(this,"stack",{value:a.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,_e):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(t+=`

`+h5(n.loc));else if(this.source&&this.locations)for(const n of this.locations)t+=`

`+RO(this.source,n);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function WN(e){return e===void 0||e.length===0?void 0:e}function _n(e,t,n){return new _e(`Syntax Error: ${n}`,{source:e,positions:[t]})}class m5{constructor(t,n,r){this.start=t.start,this.end=n.end,this.startToken=t,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class SO{constructor(t,n,r,i,o,s){this.kind=t,this.start=n,this.end=r,this.line=i,this.column=o,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const AO={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},g5=new Set(Object.keys(AO));function HN(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&g5.has(t)}var Lr;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(Lr||(Lr={}));var We;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(We||(We={}));var B;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(B||(B={}));function yy(e){return e===9||e===32}function Gc(e){return e>=48&&e<=57}function OO(e){return e>=97&&e<=122||e>=65&&e<=90}function uw(e){return OO(e)||e===95}function IO(e){return OO(e)||Gc(e)||e===95}function v5(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let s=0;s<e.length;++s){var o;const c=e[s],l=y5(c);l!==c.length&&(r=(o=r)!==null&&o!==void 0?o:s,i=s,s!==0&&l<n&&(n=l))}return e.map((s,c)=>c===0?s:s.slice(n)).slice((t=r)!==null&&t!==void 0?t:0,i+1)}function y5(e){let t=0;for(;t<e.length&&yy(e.charCodeAt(t));)++t;return t}function E5(e,t){const n=e.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=r.length===1,o=r.length>1&&r.slice(1).every(m=>m.length===0||yy(m.charCodeAt(0))),s=n.endsWith('\\"""'),c=e.endsWith('"')&&!s,l=e.endsWith("\\"),u=c||l,a=!i||e.length>70||u||o||s;let d="";const h=i&&yy(e.charCodeAt(0));return(a&&!h||o)&&(d+=`
`),d+=n,(a||u)&&(d+=`
`),'"""'+d+'"""'}var pe;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(pe||(pe={}));let w5=class{constructor(t){const n=new SO(pe.SOF,0,0,0,0);this.source=t,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==pe.EOF)do if(t.next)t=t.next;else{const n=_5(this,t.end);t.next=n,n.prev=t,t=n}while(t.kind===pe.COMMENT);return t}};function T5(e){return e===pe.BANG||e===pe.DOLLAR||e===pe.AMP||e===pe.PAREN_L||e===pe.PAREN_R||e===pe.SPREAD||e===pe.COLON||e===pe.EQUALS||e===pe.AT||e===pe.BRACKET_L||e===pe.BRACKET_R||e===pe.BRACE_L||e===pe.PIPE||e===pe.BRACE_R}function ml(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function Zp(e,t){return CO(e.charCodeAt(t))&&kO(e.charCodeAt(t+1))}function CO(e){return e>=55296&&e<=56319}function kO(e){return e>=56320&&e<=57343}function Ta(e,t){const n=e.source.body.codePointAt(t);if(n===void 0)return pe.EOF;if(n>=32&&n<=126){const r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function tn(e,t,n,r,i){const o=e.line,s=1+n-e.lineStart;return new SO(t,n,r,o,s,i)}function _5(e,t){const n=e.source.body,r=n.length;let i=t;for(;i<r;){const o=n.charCodeAt(i);switch(o){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:n.charCodeAt(i+1)===10?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return N5(e,i);case 33:return tn(e,pe.BANG,i,i+1);case 36:return tn(e,pe.DOLLAR,i,i+1);case 38:return tn(e,pe.AMP,i,i+1);case 40:return tn(e,pe.PAREN_L,i,i+1);case 41:return tn(e,pe.PAREN_R,i,i+1);case 46:if(n.charCodeAt(i+1)===46&&n.charCodeAt(i+2)===46)return tn(e,pe.SPREAD,i,i+3);break;case 58:return tn(e,pe.COLON,i,i+1);case 61:return tn(e,pe.EQUALS,i,i+1);case 64:return tn(e,pe.AT,i,i+1);case 91:return tn(e,pe.BRACKET_L,i,i+1);case 93:return tn(e,pe.BRACKET_R,i,i+1);case 123:return tn(e,pe.BRACE_L,i,i+1);case 124:return tn(e,pe.PIPE,i,i+1);case 125:return tn(e,pe.BRACE_R,i,i+1);case 34:return n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34?O5(e,i):x5(e,i)}if(Gc(o)||o===45)return b5(e,i,o);if(uw(o))return I5(e,i);throw _n(e.source,i,o===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:ml(o)||Zp(n,i)?`Unexpected character: ${Ta(e,i)}.`:`Invalid character: ${Ta(e,i)}.`)}return tn(e,pe.EOF,r,r)}function N5(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){const o=n.charCodeAt(i);if(o===10||o===13)break;if(ml(o))++i;else if(Zp(n,i))i+=2;else break}return tn(e,pe.COMMENT,t,i,n.slice(t+1,i))}function b5(e,t,n){const r=e.source.body;let i=t,o=n,s=!1;if(o===45&&(o=r.charCodeAt(++i)),o===48){if(o=r.charCodeAt(++i),Gc(o))throw _n(e.source,i,`Invalid number, unexpected digit after 0: ${Ta(e,i)}.`)}else i=Uv(e,i,o),o=r.charCodeAt(i);if(o===46&&(s=!0,o=r.charCodeAt(++i),i=Uv(e,i,o),o=r.charCodeAt(i)),(o===69||o===101)&&(s=!0,o=r.charCodeAt(++i),(o===43||o===45)&&(o=r.charCodeAt(++i)),i=Uv(e,i,o),o=r.charCodeAt(i)),o===46||uw(o))throw _n(e.source,i,`Invalid number, expected digit but got: ${Ta(e,i)}.`);return tn(e,s?pe.FLOAT:pe.INT,t,i,r.slice(t,i))}function Uv(e,t,n){if(!Gc(n))throw _n(e.source,t,`Invalid number, expected digit but got: ${Ta(e,t)}.`);const r=e.source.body;let i=t+1;for(;Gc(r.charCodeAt(i));)++i;return i}function x5(e,t){const n=e.source.body,r=n.length;let i=t+1,o=i,s="";for(;i<r;){const c=n.charCodeAt(i);if(c===34)return s+=n.slice(o,i),tn(e,pe.STRING,t,i+1,s);if(c===92){s+=n.slice(o,i);const l=n.charCodeAt(i+1)===117?n.charCodeAt(i+2)===123?R5(e,i):S5(e,i):A5(e,i);s+=l.value,i+=l.size,o=i;continue}if(c===10||c===13)break;if(ml(c))++i;else if(Zp(n,i))i+=2;else throw _n(e.source,i,`Invalid character within String: ${Ta(e,i)}.`)}throw _n(e.source,i,"Unterminated string.")}function R5(e,t){const n=e.source.body;let r=0,i=3;for(;i<12;){const o=n.charCodeAt(t+i++);if(o===125){if(i<5||!ml(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|Nc(o),r<0)break}throw _n(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+i)}".`)}function S5(e,t){const n=e.source.body,r=GN(n,t+2);if(ml(r))return{value:String.fromCodePoint(r),size:6};if(CO(r)&&n.charCodeAt(t+6)===92&&n.charCodeAt(t+7)===117){const i=GN(n,t+8);if(kO(i))return{value:String.fromCodePoint(r,i),size:12}}throw _n(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function GN(e,t){return Nc(e.charCodeAt(t))<<12|Nc(e.charCodeAt(t+1))<<8|Nc(e.charCodeAt(t+2))<<4|Nc(e.charCodeAt(t+3))}function Nc(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function A5(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw _n(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function O5(e,t){const n=e.source.body,r=n.length;let i=e.lineStart,o=t+3,s=o,c="";const l=[];for(;o<r;){const u=n.charCodeAt(o);if(u===34&&n.charCodeAt(o+1)===34&&n.charCodeAt(o+2)===34){c+=n.slice(s,o),l.push(c);const a=tn(e,pe.BLOCK_STRING,t,o+3,v5(l).join(`
`));return e.line+=l.length-1,e.lineStart=i,a}if(u===92&&n.charCodeAt(o+1)===34&&n.charCodeAt(o+2)===34&&n.charCodeAt(o+3)===34){c+=n.slice(s,o),s=o+1,o+=4;continue}if(u===10||u===13){c+=n.slice(s,o),l.push(c),u===13&&n.charCodeAt(o+1)===10?o+=2:++o,c="",s=o,i=o;continue}if(ml(u))++o;else if(Zp(n,o))o+=2;else throw _n(e.source,o,`Invalid character within String: ${Ta(e,o)}.`)}throw _n(e.source,o,"Unterminated string.")}function I5(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){const o=n.charCodeAt(i);if(IO(o))++i;else break}return tn(e,pe.NAME,t,i,n.slice(t,i))}const C5=10,MO=2;function je(e){return em(e,[])}function em(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return k5(e,t);default:return String(e)}}function k5(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(M5(e)){const r=e.toJSON();if(r!==e)return typeof r=="string"?r:em(r,n)}else if(Array.isArray(e))return L5(e,n);return P5(e,n)}function M5(e){return typeof e.toJSON=="function"}function P5(e,t){const n=Object.entries(e);return n.length===0?"{}":t.length>MO?"["+D5(e)+"]":"{ "+n.map(([i,o])=>i+": "+em(o,t)).join(", ")+" }"}function L5(e,t){if(e.length===0)return"[]";if(t.length>MO)return"[Array]";const n=Math.min(C5,e.length),r=e.length-n,i=[];for(let o=0;o<n;++o)i.push(em(e[o],t));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function D5(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}const F5=globalThis.process&&!0,vi=F5?function(t,n){return t instanceof n}:function(t,n){if(t instanceof n)return!0;if(typeof t=="object"&&t!==null){var r;const i=n.prototype[Symbol.toStringTag],o=Symbol.toStringTag in t?t[Symbol.toStringTag]:(r=t.constructor)===null||r===void 0?void 0:r.name;if(i===o){const s=je(t);throw new Error(`Cannot use ${i} "${s}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class lw{constructor(t,n="GraphQL request",r={line:1,column:1}){typeof t=="string"||yt(!1,`Body must be a string. Received: ${je(t)}.`),this.body=t,this.name=n,this.locationOffset=r,this.locationOffset.line>0||yt(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||yt(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function U5(e){return vi(e,lw)}function cw(e,t){const n=new B5(e,t),r=n.parseDocument();return Object.defineProperty(r,"tokenCount",{enumerable:!1,value:n.tokenCount}),r}let B5=class{constructor(t,n={}){const r=U5(t)?t:new lw(t);this._lexer=new w5(r),this._options=n,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const t=this.expectToken(pe.NAME);return this.node(t,{kind:B.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:B.DOCUMENT,definitions:this.many(pe.SOF,this.parseDefinition,pe.EOF)})}parseDefinition(){if(this.peek(pe.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),n=t?this._lexer.lookahead():this._lexer.token;if(n.kind===pe.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw _n(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(pe.BRACE_L))return this.node(t,{kind:B.OPERATION_DEFINITION,operation:Lr.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let r;return this.peek(pe.NAME)&&(r=this.parseName()),this.node(t,{kind:B.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(pe.NAME);switch(t.value){case"query":return Lr.QUERY;case"mutation":return Lr.MUTATION;case"subscription":return Lr.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(pe.PAREN_L,this.parseVariableDefinition,pe.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:B.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(pe.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(pe.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(pe.DOLLAR),this.node(t,{kind:B.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:B.SELECTION_SET,selections:this.many(pe.BRACE_L,this.parseSelection,pe.BRACE_R)})}parseSelection(){return this.peek(pe.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,n=this.parseName();let r,i;return this.expectOptionalToken(pe.COLON)?(r=n,i=this.parseName()):i=n,this.node(t,{kind:B.FIELD,alias:r,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(pe.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const n=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(pe.PAREN_L,n,pe.PAREN_R)}parseArgument(t=!1){const n=this._lexer.token,r=this.parseName();return this.expectToken(pe.COLON),this.node(n,{kind:B.ARGUMENT,name:r,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(pe.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(pe.NAME)?this.node(t,{kind:B.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:B.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:B.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:B.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const n=this._lexer.token;switch(n.kind){case pe.BRACKET_L:return this.parseList(t);case pe.BRACE_L:return this.parseObject(t);case pe.INT:return this.advanceLexer(),this.node(n,{kind:B.INT,value:n.value});case pe.FLOAT:return this.advanceLexer(),this.node(n,{kind:B.FLOAT,value:n.value});case pe.STRING:case pe.BLOCK_STRING:return this.parseStringLiteral();case pe.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:B.BOOLEAN,value:!0});case"false":return this.node(n,{kind:B.BOOLEAN,value:!1});case"null":return this.node(n,{kind:B.NULL});default:return this.node(n,{kind:B.ENUM,value:n.value})}case pe.DOLLAR:if(t)if(this.expectToken(pe.DOLLAR),this._lexer.token.kind===pe.NAME){const r=this._lexer.token.value;throw _n(this._lexer.source,n.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:B.STRING,value:t.value,block:t.kind===pe.BLOCK_STRING})}parseList(t){const n=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:B.LIST,values:this.any(pe.BRACKET_L,n,pe.BRACKET_R)})}parseObject(t){const n=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:B.OBJECT,fields:this.any(pe.BRACE_L,n,pe.BRACE_R)})}parseObjectField(t){const n=this._lexer.token,r=this.parseName();return this.expectToken(pe.COLON),this.node(n,{kind:B.OBJECT_FIELD,name:r,value:this.parseValueLiteral(t)})}parseDirectives(t){const n=[];for(;this.peek(pe.AT);)n.push(this.parseDirective(t));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const n=this._lexer.token;return this.expectToken(pe.AT),this.node(n,{kind:B.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let n;if(this.expectOptionalToken(pe.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(pe.BRACKET_R),n=this.node(t,{kind:B.LIST_TYPE,type:r})}else n=this.parseNamedType();return this.expectOptionalToken(pe.BANG)?this.node(t,{kind:B.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:B.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(pe.STRING)||this.peek(pe.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),i=this.many(pe.BRACE_L,this.parseOperationTypeDefinition,pe.BRACE_R);return this.node(t,{kind:B.SCHEMA_DEFINITION,description:n,directives:r,operationTypes:i})}parseOperationTypeDefinition(){const t=this._lexer.token,n=this.parseOperationType();this.expectToken(pe.COLON);const r=this.parseNamedType();return this.node(t,{kind:B.OPERATION_TYPE_DEFINITION,operation:n,type:r})}parseScalarTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),i=this.parseConstDirectives();return this.node(t,{kind:B.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i})}parseObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:B.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:o,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(pe.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(pe.BRACE_L,this.parseFieldDefinition,pe.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,n=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken(pe.COLON);const o=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(t,{kind:B.FIELD_DEFINITION,description:n,name:r,arguments:i,type:o,directives:s})}parseArgumentDefs(){return this.optionalMany(pe.PAREN_L,this.parseInputValueDef,pe.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(pe.COLON);const i=this.parseTypeReference();let o;this.expectOptionalToken(pe.EQUALS)&&(o=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(t,{kind:B.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:o,directives:s})}parseInterfaceTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:B.INTERFACE_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:o,fields:s})}parseUnionTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),i=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(t,{kind:B.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken(pe.EQUALS)?this.delimitedMany(pe.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),i=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(t,{kind:B.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:o})}parseEnumValuesDefinition(){return this.optionalMany(pe.BRACE_L,this.parseEnumValueDefinition,pe.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,n=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(t,{kind:B.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw _n(this._lexer.source,this._lexer.token.start,`${ah(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),i=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(t,{kind:B.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:o})}parseInputFieldsDefinition(){return this.optionalMany(pe.BRACE_L,this.parseInputValueDef,pe.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===pe.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.optionalMany(pe.BRACE_L,this.parseOperationTypeDefinition,pe.BRACE_R);if(n.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:B.SCHEMA_EXTENSION,directives:n,operationTypes:r})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(t,{kind:B.SCALAR_TYPE_EXTENSION,name:n,directives:r})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&o.length===0)throw this.unexpected();return this.node(t,{kind:B.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:o})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&o.length===0)throw this.unexpected();return this.node(t,{kind:B.INTERFACE_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:o})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:B.UNION_TYPE_EXTENSION,name:n,directives:r,types:i})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:B.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:B.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i})}parseDirectiveDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(pe.AT);const r=this.parseName(),i=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(t,{kind:B.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,repeatable:o,locations:s})}parseDirectiveLocations(){return this.delimitedMany(pe.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(We,n.value))return n;throw this.unexpected(t)}node(t,n){return this._options.noLocation!==!0&&(n.loc=new m5(t,this._lexer.lastToken,this._lexer.source)),n}peek(t){return this._lexer.token.kind===t}expectToken(t){const n=this._lexer.token;if(n.kind===t)return this.advanceLexer(),n;throw _n(this._lexer.source,n.start,`Expected ${PO(t)}, found ${ah(n)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const n=this._lexer.token;if(n.kind===pe.NAME&&n.value===t)this.advanceLexer();else throw _n(this._lexer.source,n.start,`Expected "${t}", found ${ah(n)}.`)}expectOptionalKeyword(t){const n=this._lexer.token;return n.kind===pe.NAME&&n.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const n=t??this._lexer.token;return _n(this._lexer.source,n.start,`Unexpected ${ah(n)}.`)}any(t,n,r){this.expectToken(t);const i=[];for(;!this.expectOptionalToken(r);)i.push(n.call(this));return i}optionalMany(t,n,r){if(this.expectOptionalToken(t)){const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}return[]}many(t,n,r){this.expectToken(t);const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}delimitedMany(t,n){this.expectOptionalToken(t);const r=[];do r.push(n.call(this));while(this.expectOptionalToken(t));return r}advanceLexer(){const{maxTokens:t}=this._options,n=this._lexer.advance();if(n.kind!==pe.EOF&&(++this._tokenCounter,t!==void 0&&this._tokenCounter>t))throw _n(this._lexer.source,n.start,`Document contains more that ${t} tokens. Parsing aborted.`)}};function ah(e){const t=e.value;return PO(e.kind)+(t!=null?` "${t}"`:"")}function PO(e){return T5(e)?`"${e}"`:e}const $5=5;function Es(e,t){const[n,r]=t?[e,t]:[void 0,e];let i=" Did you mean ";n&&(i+=n+" ");const o=r.map(l=>`"${l}"`);switch(o.length){case 0:return"";case 1:return i+o[0]+"?";case 2:return i+o[0]+" or "+o[1]+"?"}const s=o.slice(0,$5),c=s.pop();return i+s.join(", ")+", or "+c+"?"}function YN(e){return e}function _a(e,t){const n=Object.create(null);for(const r of e)n[t(r)]=r;return n}function fw(e,t,n){const r=Object.create(null);for(const i of e)r[t(i)]=n(i);return r}function ao(e,t){const n=Object.create(null);for(const r of Object.keys(e))n[r]=t(e[r],r);return n}function dw(e,t){let n=0,r=0;for(;n<e.length&&r<t.length;){let i=e.charCodeAt(n),o=t.charCodeAt(r);if(uh(i)&&uh(o)){let s=0;do++n,s=s*10+i-Ey,i=e.charCodeAt(n);while(uh(i)&&s>0);let c=0;do++r,c=c*10+o-Ey,o=t.charCodeAt(r);while(uh(o)&&c>0);if(s<c)return-1;if(s>c)return 1}else{if(i<o)return-1;if(i>o)return 1;++n,++r}}return e.length-t.length}const Ey=48,V5=57;function uh(e){return!isNaN(e)&&Ey<=e&&e<=V5}function Oa(e,t){const n=Object.create(null),r=new j5(e),i=Math.floor(e.length*.4)+1;for(const o of t){const s=r.measure(o,i);s!==void 0&&(n[o]=s)}return Object.keys(n).sort((o,s)=>{const c=n[o]-n[s];return c!==0?c:dw(o,s)})}class j5{constructor(t){this._input=t,this._inputLowerCase=t.toLowerCase(),this._inputArray=QN(this._inputLowerCase),this._rows=[new Array(t.length+1).fill(0),new Array(t.length+1).fill(0),new Array(t.length+1).fill(0)]}measure(t,n){if(this._input===t)return 0;const r=t.toLowerCase();if(this._inputLowerCase===r)return 1;let i=QN(r),o=this._inputArray;if(i.length<o.length){const a=i;i=o,o=a}const s=i.length,c=o.length;if(s-c>n)return;const l=this._rows;for(let a=0;a<=c;a++)l[0][a]=a;for(let a=1;a<=s;a++){const d=l[(a-1)%3],h=l[a%3];let m=h[0]=a;for(let y=1;y<=c;y++){const g=i[a-1]===o[y-1]?0:1;let v=Math.min(d[y]+1,h[y-1]+1,d[y-1]+g);if(a>1&&y>1&&i[a-1]===o[y-2]&&i[a-2]===o[y-1]){const w=l[(a-2)%3][y-2];v=Math.min(v,w+1)}v<m&&(m=v),h[y]=v}if(m>n)return}const u=l[s%3][c];return u<=n?u:void 0}}function QN(e){const t=e.length,n=new Array(t);for(let r=0;r<t;++r)n[r]=e.charCodeAt(r);return n}function Br(e){if(e==null)return Object.create(null);if(Object.getPrototypeOf(e)===null)return e;const t=Object.create(null);for(const[n,r]of Object.entries(e))t[n]=r;return t}function z5(e){return`"${e.replace(q5,W5)}"`}const q5=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function W5(e){return H5[e.charCodeAt(0)]}const H5=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],cs=Object.freeze({});function Tr(e,t,n=AO){const r=new Map;for(const w of Object.values(B))r.set(w,LO(t,w));let i,o=Array.isArray(e),s=[e],c=-1,l=[],u=e,a,d;const h=[],m=[];do{c++;const w=c===s.length,T=w&&l.length!==0;if(w){if(a=m.length===0?void 0:h[h.length-1],u=d,d=m.pop(),T)if(o){u=u.slice();let b=0;for(const[S,x]of l){const O=S-b;x===null?(u.splice(O,1),b++):u[O]=x}}else{u=Object.defineProperties({},Object.getOwnPropertyDescriptors(u));for(const[b,S]of l)u[b]=S}c=i.index,s=i.keys,l=i.edits,o=i.inArray,i=i.prev}else if(d){if(a=o?c:s[c],u=d[a],u==null)continue;h.push(a)}let N;if(!Array.isArray(u)){var y,g;HN(u)||yt(!1,`Invalid AST Node: ${je(u)}.`);const b=w?(y=r.get(u.kind))===null||y===void 0?void 0:y.leave:(g=r.get(u.kind))===null||g===void 0?void 0:g.enter;if(N=b==null?void 0:b.call(t,u,a,d,h,m),N===cs)break;if(N===!1){if(!w){h.pop();continue}}else if(N!==void 0&&(l.push([a,N]),!w))if(HN(N))u=N;else{h.pop();continue}}if(N===void 0&&T&&l.push([a,u]),w)h.pop();else{var v;i={inArray:o,index:c,keys:s,edits:l,prev:i},o=Array.isArray(u),s=o?u:(v=n[u.kind])!==null&&v!==void 0?v:[],c=-1,l=[],d&&m.push(d),d=u}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:e}function G5(e){const t=new Array(e.length).fill(null),n=Object.create(null);for(const r of Object.values(B)){let i=!1;const o=new Array(e.length).fill(void 0),s=new Array(e.length).fill(void 0);for(let l=0;l<e.length;++l){const{enter:u,leave:a}=LO(e[l],r);i||(i=u!=null||a!=null),o[l]=u,s[l]=a}if(!i)continue;const c={enter(...l){const u=l[0];for(let d=0;d<e.length;d++)if(t[d]===null){var a;const h=(a=o[d])===null||a===void 0?void 0:a.apply(e[d],l);if(h===!1)t[d]=u;else if(h===cs)t[d]=cs;else if(h!==void 0)return h}},leave(...l){const u=l[0];for(let d=0;d<e.length;d++)if(t[d]===null){var a;const h=(a=s[d])===null||a===void 0?void 0:a.apply(e[d],l);if(h===cs)t[d]=cs;else if(h!==void 0&&h!==!1)return h}else t[d]===u&&(t[d]=null)}};n[r]=c}return n}function LO(e,t){const n=e[t];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function un(e){return Tr(e,Q5)}const Y5=80,Q5={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>Ue(e.definitions,`

`)},OperationDefinition:{leave(e){const t=ft("(",Ue(e.variableDefinitions,", "),")"),n=Ue([e.operation,Ue([e.name,t]),Ue(e.directives," ")]," ");return(n==="query"?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+ft(" = ",n)+ft(" ",Ue(r," "))},SelectionSet:{leave:({selections:e})=>Zr(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){const o=ft("",e,": ")+t;let s=o+ft("(",Ue(n,", "),")");return s.length>Y5&&(s=o+ft(`(
`,Lh(Ue(n,`
`)),`
)`)),Ue([s,Ue(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+ft(" ",Ue(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>Ue(["...",ft("on ",e),Ue(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${e}${ft("(",Ue(n,", "),")")} on ${t} ${ft("",Ue(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?E5(e):z5(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+Ue(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+Ue(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+ft("(",Ue(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>ft("",e,`
`)+Ue(["schema",Ue(t," "),Zr(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>ft("",e,`
`)+Ue(["scalar",t,Ue(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>ft("",e,`
`)+Ue(["type",t,ft("implements ",Ue(n," & ")),Ue(r," "),Zr(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:i})=>ft("",e,`
`)+t+(KN(n)?ft(`(
`,Lh(Ue(n,`
`)),`
)`):ft("(",Ue(n,", "),")"))+": "+r+ft(" ",Ue(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:i})=>ft("",e,`
`)+Ue([t+": "+n,ft("= ",r),Ue(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>ft("",e,`
`)+Ue(["interface",t,ft("implements ",Ue(n," & ")),Ue(r," "),Zr(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>ft("",e,`
`)+Ue(["union",t,Ue(n," "),ft("= ",Ue(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>ft("",e,`
`)+Ue(["enum",t,Ue(n," "),Zr(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>ft("",e,`
`)+Ue([t,Ue(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>ft("",e,`
`)+Ue(["input",t,Ue(n," "),Zr(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:i})=>ft("",e,`
`)+"directive @"+t+(KN(n)?ft(`(
`,Lh(Ue(n,`
`)),`
)`):ft("(",Ue(n,", "),")"))+(r?" repeatable":"")+" on "+Ue(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>Ue(["extend schema",Ue(e," "),Zr(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>Ue(["extend scalar",e,Ue(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Ue(["extend type",e,ft("implements ",Ue(t," & ")),Ue(n," "),Zr(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Ue(["extend interface",e,ft("implements ",Ue(t," & ")),Ue(n," "),Zr(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>Ue(["extend union",e,Ue(t," "),ft("= ",Ue(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>Ue(["extend enum",e,Ue(t," "),Zr(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>Ue(["extend input",e,Ue(t," "),Zr(n)]," ")}};function Ue(e,t=""){var n;return(n=e==null?void 0:e.filter(r=>r).join(t))!==null&&n!==void 0?n:""}function Zr(e){return ft(`{
`,Lh(Ue(e,`
`)),`
}`)}function ft(e,t,n=""){return t!=null&&t!==""?e+t+n:""}function Lh(e){return ft("  ",e.replace(/\n/g,`
  `))}function KN(e){var t;return(t=e==null?void 0:e.some(n=>n.includes(`
`)))!==null&&t!==void 0?t:!1}function lp(e,t){switch(e.kind){case B.NULL:return null;case B.INT:return parseInt(e.value,10);case B.FLOAT:return parseFloat(e.value);case B.STRING:case B.ENUM:case B.BOOLEAN:return e.value;case B.LIST:return e.values.map(n=>lp(n,t));case B.OBJECT:return fw(e.fields,n=>n.name.value,n=>lp(n.value,t));case B.VARIABLE:return t==null?void 0:t[e.name.value]}}function yi(e){if(e!=null||yt(!1,"Must provide name."),typeof e=="string"||yt(!1,"Expected name to be a string."),e.length===0)throw new _e("Expected name to be a non-empty string.");for(let t=1;t<e.length;++t)if(!IO(e.charCodeAt(t)))throw new _e(`Names must only contain [_a-zA-Z0-9] but "${e}" does not.`);if(!uw(e.charCodeAt(0)))throw new _e(`Names must start with [_a-zA-Z] but "${e}" does not.`);return e}function K5(e){if(e==="true"||e==="false"||e==="null")throw new _e(`Enum values cannot be named: ${e}`);return yi(e)}function hw(e){return $r(e)||Et(e)||wt(e)||$n(e)||bn(e)||Ft(e)||ln(e)||_t(e)}function $r(e){return vi(e,Fi)}function Et(e){return vi(e,cr)}function wt(e){return vi(e,ws)}function $n(e){return vi(e,Qc)}function bn(e){return vi(e,Ui)}function Ft(e){return vi(e,Na)}function ln(e){return vi(e,kn)}function _t(e){return vi(e,st)}function DO(e){return $r(e)||bn(e)||Ft(e)||FO(e)&&DO(e.ofType)}function fi(e){return $r(e)||bn(e)}function Yc(e){return Et(e)||wt(e)||$n(e)}function pa(e){return wt(e)||$n(e)}class kn{constructor(t){hw(t)||yt(!1,`Expected ${je(t)} to be a GraphQL type.`),this.ofType=t}get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}}class st{constructor(t){X5(t)||yt(!1,`Expected ${je(t)} to be a GraphQL nullable type.`),this.ofType=t}get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}}function FO(e){return ln(e)||_t(e)}function X5(e){return hw(e)&&!_t(e)}function UO(e){if(e)return _t(e)?e.ofType:e}function pw(e){return $r(e)||Et(e)||wt(e)||$n(e)||bn(e)||Ft(e)}function Di(e){if(e){let t=e;for(;FO(t);)t=t.ofType;return t}}function BO(e){return typeof e=="function"?e():e}function $O(e){return typeof e=="function"?e():e}class Fi{constructor(t){var n,r,i,o;const s=(n=t.parseValue)!==null&&n!==void 0?n:YN;this.name=yi(t.name),this.description=t.description,this.specifiedByURL=t.specifiedByURL,this.serialize=(r=t.serialize)!==null&&r!==void 0?r:YN,this.parseValue=s,this.parseLiteral=(i=t.parseLiteral)!==null&&i!==void 0?i:(c,l)=>s(lp(c,l)),this.extensions=Br(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(o=t.extensionASTNodes)!==null&&o!==void 0?o:[],t.specifiedByURL==null||typeof t.specifiedByURL=="string"||yt(!1,`${this.name} must provide "specifiedByURL" as a string, but got: ${je(t.specifiedByURL)}.`),t.serialize==null||typeof t.serialize=="function"||yt(!1,`${this.name} must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.`),t.parseLiteral&&(typeof t.parseValue=="function"&&typeof t.parseLiteral=="function"||yt(!1,`${this.name} must provide both "parseValue" and "parseLiteral" functions.`))}get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class cr{constructor(t){var n;this.name=yi(t.name),this.description=t.description,this.isTypeOf=t.isTypeOf,this.extensions=Br(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._fields=()=>jO(t),this._interfaces=()=>VO(t),t.isTypeOf==null||typeof t.isTypeOf=="function"||yt(!1,`${this.name} must provide "isTypeOf" as a function, but got: ${je(t.isTypeOf)}.`)}get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:qO(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function VO(e){var t;const n=BO((t=e.interfaces)!==null&&t!==void 0?t:[]);return Array.isArray(n)||yt(!1,`${e.name} interfaces must be an Array or a function which returns an Array.`),n}function jO(e){const t=$O(e.fields);return Bu(t)||yt(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),ao(t,(n,r)=>{var i;Bu(n)||yt(!1,`${e.name}.${r} field config must be an object.`),n.resolve==null||typeof n.resolve=="function"||yt(!1,`${e.name}.${r} field resolver must be a function if provided, but got: ${je(n.resolve)}.`);const o=(i=n.args)!==null&&i!==void 0?i:{};return Bu(o)||yt(!1,`${e.name}.${r} args must be an object with argument names as keys.`),{name:yi(r),description:n.description,type:n.type,args:zO(o),resolve:n.resolve,subscribe:n.subscribe,deprecationReason:n.deprecationReason,extensions:Br(n.extensions),astNode:n.astNode}})}function zO(e){return Object.entries(e).map(([t,n])=>({name:yi(t),description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:Br(n.extensions),astNode:n.astNode}))}function Bu(e){return wa(e)&&!Array.isArray(e)}function qO(e){return ao(e,t=>({description:t.description,type:t.type,args:WO(t.args),resolve:t.resolve,subscribe:t.subscribe,deprecationReason:t.deprecationReason,extensions:t.extensions,astNode:t.astNode}))}function WO(e){return fw(e,t=>t.name,t=>({description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:t.extensions,astNode:t.astNode}))}function HO(e){return _t(e.type)&&e.defaultValue===void 0}class ws{constructor(t){var n;this.name=yi(t.name),this.description=t.description,this.resolveType=t.resolveType,this.extensions=Br(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._fields=jO.bind(void 0,t),this._interfaces=VO.bind(void 0,t),t.resolveType==null||typeof t.resolveType=="function"||yt(!1,`${this.name} must provide "resolveType" as a function, but got: ${je(t.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:qO(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class Qc{constructor(t){var n;this.name=yi(t.name),this.description=t.description,this.resolveType=t.resolveType,this.extensions=Br(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._types=J5.bind(void 0,t),t.resolveType==null||typeof t.resolveType=="function"||yt(!1,`${this.name} must provide "resolveType" as a function, but got: ${je(t.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){return typeof this._types=="function"&&(this._types=this._types()),this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function J5(e){const t=BO(e.types);return Array.isArray(t)||yt(!1,`Must provide Array of types or a function which returns such an array for Union ${e.name}.`),t}class Ui{constructor(t){var n;this.name=yi(t.name),this.description=t.description,this.extensions=Br(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._values=typeof t.values=="function"?t.values:XN(this.name,t.values),this._valueLookup=null,this._nameLookup=null}get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){return typeof this._values=="function"&&(this._values=XN(this.name,this._values())),this._values}getValue(t){return this._nameLookup===null&&(this._nameLookup=_a(this.getValues(),n=>n.name)),this._nameLookup[t]}serialize(t){this._valueLookup===null&&(this._valueLookup=new Map(this.getValues().map(r=>[r.value,r])));const n=this._valueLookup.get(t);if(n===void 0)throw new _e(`Enum "${this.name}" cannot represent value: ${je(t)}`);return n.name}parseValue(t){if(typeof t!="string"){const r=je(t);throw new _e(`Enum "${this.name}" cannot represent non-string value: ${r}.`+lh(this,r))}const n=this.getValue(t);if(n==null)throw new _e(`Value "${t}" does not exist in "${this.name}" enum.`+lh(this,t));return n.value}parseLiteral(t,n){if(t.kind!==B.ENUM){const i=un(t);throw new _e(`Enum "${this.name}" cannot represent non-enum value: ${i}.`+lh(this,i),{nodes:t})}const r=this.getValue(t.value);if(r==null){const i=un(t);throw new _e(`Value "${i}" does not exist in "${this.name}" enum.`+lh(this,i),{nodes:t})}return r.value}toConfig(){const t=fw(this.getValues(),n=>n.name,n=>({description:n.description,value:n.value,deprecationReason:n.deprecationReason,extensions:n.extensions,astNode:n.astNode}));return{name:this.name,description:this.description,values:t,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function lh(e,t){const n=e.getValues().map(i=>i.name),r=Oa(t,n);return Es("the enum value",r)}function XN(e,t){return Bu(t)||yt(!1,`${e} values must be an object with value names as keys.`),Object.entries(t).map(([n,r])=>(Bu(r)||yt(!1,`${e}.${n} must refer to an object with a "value" key representing an internal value but got: ${je(r)}.`),{name:K5(n),description:r.description,value:r.value!==void 0?r.value:n,deprecationReason:r.deprecationReason,extensions:Br(r.extensions),astNode:r.astNode}))}class Na{constructor(t){var n,r;this.name=yi(t.name),this.description=t.description,this.extensions=Br(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this.isOneOf=(r=t.isOneOf)!==null&&r!==void 0?r:!1,this._fields=Z5.bind(void 0,t)}get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}toConfig(){const t=ao(this.getFields(),n=>({description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:n.extensions,astNode:n.astNode}));return{name:this.name,description:this.description,fields:t,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,isOneOf:this.isOneOf}}toString(){return this.name}toJSON(){return this.toString()}}function Z5(e){const t=$O(e.fields);return Bu(t)||yt(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),ao(t,(n,r)=>(!("resolve"in n)||yt(!1,`${e.name}.${r} field has a resolve property, but Input Types cannot define resolvers.`),{name:yi(r),description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:Br(n.extensions),astNode:n.astNode}))}function e8(e){return _t(e.type)&&e.defaultValue===void 0}function Pc(e,t,n){return t===n?!0:_t(n)?_t(t)?Pc(e,t.ofType,n.ofType):!1:_t(t)?Pc(e,t.ofType,n):ln(n)?ln(t)?Pc(e,t.ofType,n.ofType):!1:ln(t)?!1:pa(n)&&(wt(t)||Et(t))&&e.isSubType(n,t)}function JN(e,t,n){return t===n?!0:pa(t)?pa(n)?e.getPossibleTypes(t).some(r=>e.isSubType(n,r)):e.isSubType(t,n):pa(n)?e.isSubType(n,t):!1}const Bv=2147483647,$v=-2147483648,wy=new Fi({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize(e){const t=yf(e);if(typeof t=="boolean")return t?1:0;let n=t;if(typeof t=="string"&&t!==""&&(n=Number(t)),typeof n!="number"||!Number.isInteger(n))throw new _e(`Int cannot represent non-integer value: ${je(t)}`);if(n>Bv||n<$v)throw new _e("Int cannot represent non 32-bit signed integer value: "+je(t));return n},parseValue(e){if(typeof e!="number"||!Number.isInteger(e))throw new _e(`Int cannot represent non-integer value: ${je(e)}`);if(e>Bv||e<$v)throw new _e(`Int cannot represent non 32-bit signed integer value: ${e}`);return e},parseLiteral(e){if(e.kind!==B.INT)throw new _e(`Int cannot represent non-integer value: ${un(e)}`,{nodes:e});const t=parseInt(e.value,10);if(t>Bv||t<$v)throw new _e(`Int cannot represent non 32-bit signed integer value: ${e.value}`,{nodes:e});return t}}),Ty=new Fi({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize(e){const t=yf(e);if(typeof t=="boolean")return t?1:0;let n=t;if(typeof t=="string"&&t!==""&&(n=Number(t)),typeof n!="number"||!Number.isFinite(n))throw new _e(`Float cannot represent non numeric value: ${je(t)}`);return n},parseValue(e){if(typeof e!="number"||!Number.isFinite(e))throw new _e(`Float cannot represent non numeric value: ${je(e)}`);return e},parseLiteral(e){if(e.kind!==B.FLOAT&&e.kind!==B.INT)throw new _e(`Float cannot represent non numeric value: ${un(e)}`,e);return parseFloat(e.value)}}),qt=new Fi({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize(e){const t=yf(e);if(typeof t=="string")return t;if(typeof t=="boolean")return t?"true":"false";if(typeof t=="number"&&Number.isFinite(t))return t.toString();throw new _e(`String cannot represent value: ${je(e)}`)},parseValue(e){if(typeof e!="string")throw new _e(`String cannot represent a non string value: ${je(e)}`);return e},parseLiteral(e){if(e.kind!==B.STRING)throw new _e(`String cannot represent a non string value: ${un(e)}`,{nodes:e});return e.value}}),Gn=new Fi({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize(e){const t=yf(e);if(typeof t=="boolean")return t;if(Number.isFinite(t))return t!==0;throw new _e(`Boolean cannot represent a non boolean value: ${je(t)}`)},parseValue(e){if(typeof e!="boolean")throw new _e(`Boolean cannot represent a non boolean value: ${je(e)}`);return e},parseLiteral(e){if(e.kind!==B.BOOLEAN)throw new _e(`Boolean cannot represent a non boolean value: ${un(e)}`,{nodes:e});return e.value}}),cp=new Fi({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize(e){const t=yf(e);if(typeof t=="string")return t;if(Number.isInteger(t))return String(t);throw new _e(`ID cannot represent value: ${je(e)}`)},parseValue(e){if(typeof e=="string")return e;if(typeof e=="number"&&Number.isInteger(e))return e.toString();throw new _e(`ID cannot represent value: ${je(e)}`)},parseLiteral(e){if(e.kind!==B.STRING&&e.kind!==B.INT)throw new _e("ID cannot represent a non-string and non-integer value: "+un(e),{nodes:e});return e.value}}),mw=Object.freeze([qt,wy,Ty,Gn,cp]);function vf(e){return mw.some(({name:t})=>e.name===t)}function yf(e){if(wa(e)){if(typeof e.valueOf=="function"){const t=e.valueOf();if(!wa(t))return t}if(typeof e.toJSON=="function")return e.toJSON()}return e}function t8(e){return vi(e,vo)}class vo{constructor(t){var n,r;this.name=yi(t.name),this.description=t.description,this.locations=t.locations,this.isRepeatable=(n=t.isRepeatable)!==null&&n!==void 0?n:!1,this.extensions=Br(t.extensions),this.astNode=t.astNode,Array.isArray(t.locations)||yt(!1,`@${t.name} locations must be an Array.`);const i=(r=t.args)!==null&&r!==void 0?r:{};wa(i)&&!Array.isArray(i)||yt(!1,`@${t.name} args must be an object with argument names as keys.`),this.args=zO(i)}get[Symbol.toStringTag](){return"GraphQLDirective"}toConfig(){return{name:this.name,description:this.description,locations:this.locations,args:WO(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}}toString(){return"@"+this.name}toJSON(){return this.toString()}}const GO=new vo({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[We.FIELD,We.FRAGMENT_SPREAD,We.INLINE_FRAGMENT],args:{if:{type:new st(Gn),description:"Included when true."}}}),YO=new vo({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[We.FIELD,We.FRAGMENT_SPREAD,We.INLINE_FRAGMENT],args:{if:{type:new st(Gn),description:"Skipped when true."}}}),n8="No longer supported",gw=new vo({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[We.FIELD_DEFINITION,We.ARGUMENT_DEFINITION,We.INPUT_FIELD_DEFINITION,We.ENUM_VALUE],args:{reason:{type:qt,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:n8}}}),QO=new vo({name:"specifiedBy",description:"Exposes a URL that specifies the behavior of this scalar.",locations:[We.SCALAR],args:{url:{type:new st(qt),description:"The URL that specifies the behavior of this scalar."}}}),KO=new vo({name:"oneOf",description:"Indicates exactly one field must be supplied and this field must not be `null`.",locations:[We.INPUT_OBJECT],args:{}}),Ia=Object.freeze([GO,YO,gw,QO,KO]);function XO(e){return Ia.some(({name:t})=>t===e.name)}function r8(e){return typeof e=="object"&&typeof(e==null?void 0:e[Symbol.iterator])=="function"}function bc(e,t){if(_t(t)){const n=bc(e,t.ofType);return(n==null?void 0:n.kind)===B.NULL?null:n}if(e===null)return{kind:B.NULL};if(e===void 0)return null;if(ln(t)){const n=t.ofType;if(r8(e)){const r=[];for(const i of e){const o=bc(i,n);o!=null&&r.push(o)}return{kind:B.LIST,values:r}}return bc(e,n)}if(Ft(t)){if(!wa(e))return null;const n=[];for(const r of Object.values(t.getFields())){const i=bc(e[r.name],r.type);i&&n.push({kind:B.OBJECT_FIELD,name:{kind:B.NAME,value:r.name},value:i})}return{kind:B.OBJECT,fields:n}}if(fi(t)){const n=t.serialize(e);if(n==null)return null;if(typeof n=="boolean")return{kind:B.BOOLEAN,value:n};if(typeof n=="number"&&Number.isFinite(n)){const r=String(n);return ZN.test(r)?{kind:B.INT,value:r}:{kind:B.FLOAT,value:r}}if(typeof n=="string")return bn(t)?{kind:B.ENUM,value:n}:t===cp&&ZN.test(n)?{kind:B.INT,value:n}:{kind:B.STRING,value:n};throw new TypeError(`Cannot convert value to AST: ${je(n)}.`)}si(!1,"Unexpected input type: "+je(t))}const ZN=/^-?(?:0|[1-9][0-9]*)$/,vw=new cr({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:()=>({description:{type:qt,resolve:e=>e.description},types:{description:"A list of all types supported by this server.",type:new st(new kn(new st(Ci))),resolve(e){return Object.values(e.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:new st(Ci),resolve:e=>e.getQueryType()},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:Ci,resolve:e=>e.getMutationType()},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:Ci,resolve:e=>e.getSubscriptionType()},directives:{description:"A list of all directives supported by this server.",type:new st(new kn(new st(JO))),resolve:e=>e.getDirectives()}})}),JO=new cr({name:"__Directive",description:`A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.

In some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.`,fields:()=>({name:{type:new st(qt),resolve:e=>e.name},description:{type:qt,resolve:e=>e.description},isRepeatable:{type:new st(Gn),resolve:e=>e.isRepeatable},locations:{type:new st(new kn(new st(ZO))),resolve:e=>e.locations},args:{type:new st(new kn(new st(tm))),args:{includeDeprecated:{type:Gn,defaultValue:!1}},resolve(e,{includeDeprecated:t}){return t?e.args:e.args.filter(n=>n.deprecationReason==null)}}})}),ZO=new Ui({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:We.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:We.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:We.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:We.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:We.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:We.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:We.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:We.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:We.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:We.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:We.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:We.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:We.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:We.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:We.UNION,description:"Location adjacent to a union definition."},ENUM:{value:We.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:We.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:We.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:We.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),Ci=new cr({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByURL`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:()=>({kind:{type:new st(nI),resolve(e){if($r(e))return Tn.SCALAR;if(Et(e))return Tn.OBJECT;if(wt(e))return Tn.INTERFACE;if($n(e))return Tn.UNION;if(bn(e))return Tn.ENUM;if(Ft(e))return Tn.INPUT_OBJECT;if(ln(e))return Tn.LIST;if(_t(e))return Tn.NON_NULL;si(!1,`Unexpected type: "${je(e)}".`)}},name:{type:qt,resolve:e=>"name"in e?e.name:void 0},description:{type:qt,resolve:e=>"description"in e?e.description:void 0},specifiedByURL:{type:qt,resolve:e=>"specifiedByURL"in e?e.specifiedByURL:void 0},fields:{type:new kn(new st(eI)),args:{includeDeprecated:{type:Gn,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if(Et(e)||wt(e)){const n=Object.values(e.getFields());return t?n:n.filter(r=>r.deprecationReason==null)}}},interfaces:{type:new kn(new st(Ci)),resolve(e){if(Et(e)||wt(e))return e.getInterfaces()}},possibleTypes:{type:new kn(new st(Ci)),resolve(e,t,n,{schema:r}){if(pa(e))return r.getPossibleTypes(e)}},enumValues:{type:new kn(new st(tI)),args:{includeDeprecated:{type:Gn,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if(bn(e)){const n=e.getValues();return t?n:n.filter(r=>r.deprecationReason==null)}}},inputFields:{type:new kn(new st(tm)),args:{includeDeprecated:{type:Gn,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if(Ft(e)){const n=Object.values(e.getFields());return t?n:n.filter(r=>r.deprecationReason==null)}}},ofType:{type:Ci,resolve:e=>"ofType"in e?e.ofType:void 0},isOneOf:{type:Gn,resolve:e=>{if(Ft(e))return e.isOneOf}}})}),eI=new cr({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:()=>({name:{type:new st(qt),resolve:e=>e.name},description:{type:qt,resolve:e=>e.description},args:{type:new st(new kn(new st(tm))),args:{includeDeprecated:{type:Gn,defaultValue:!1}},resolve(e,{includeDeprecated:t}){return t?e.args:e.args.filter(n=>n.deprecationReason==null)}},type:{type:new st(Ci),resolve:e=>e.type},isDeprecated:{type:new st(Gn),resolve:e=>e.deprecationReason!=null},deprecationReason:{type:qt,resolve:e=>e.deprecationReason}})}),tm=new cr({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:()=>({name:{type:new st(qt),resolve:e=>e.name},description:{type:qt,resolve:e=>e.description},type:{type:new st(Ci),resolve:e=>e.type},defaultValue:{type:qt,description:"A GraphQL-formatted string representing the default value for this input value.",resolve(e){const{type:t,defaultValue:n}=e,r=bc(n,t);return r?un(r):null}},isDeprecated:{type:new st(Gn),resolve:e=>e.deprecationReason!=null},deprecationReason:{type:qt,resolve:e=>e.deprecationReason}})}),tI=new cr({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:()=>({name:{type:new st(qt),resolve:e=>e.name},description:{type:qt,resolve:e=>e.description},isDeprecated:{type:new st(Gn),resolve:e=>e.deprecationReason!=null},deprecationReason:{type:qt,resolve:e=>e.deprecationReason}})});var Tn;(function(e){e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.INPUT_OBJECT="INPUT_OBJECT",e.LIST="LIST",e.NON_NULL="NON_NULL"})(Tn||(Tn={}));const nI=new Ui({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:Tn.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:Tn.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:Tn.INTERFACE,description:"Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields."},UNION:{value:Tn.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:Tn.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:Tn.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:Tn.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:Tn.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}});new st(vw);new st(qt);new st(qt);const yw=Object.freeze([vw,JO,ZO,Ci,eI,tm,tI,nI]);function rI(e){return yw.some(({name:t})=>e.name===t)}function iI(e){return vi(e,Ew)}class Ew{constructor(t){var n,r;this.__validationErrors=t.assumeValid===!0?[]:void 0,wa(t)||yt(!1,"Must provide configuration object."),!t.types||Array.isArray(t.types)||yt(!1,`"types" must be Array if provided but got: ${je(t.types)}.`),!t.directives||Array.isArray(t.directives)||yt(!1,`"directives" must be Array if provided but got: ${je(t.directives)}.`),this.description=t.description,this.extensions=Br(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._queryType=t.query,this._mutationType=t.mutation,this._subscriptionType=t.subscription,this._directives=(r=t.directives)!==null&&r!==void 0?r:Ia;const i=new Set(t.types);if(t.types!=null)for(const o of t.types)i.delete(o),ri(o,i);this._queryType!=null&&ri(this._queryType,i),this._mutationType!=null&&ri(this._mutationType,i),this._subscriptionType!=null&&ri(this._subscriptionType,i);for(const o of this._directives)if(t8(o))for(const s of o.args)ri(s.type,i);ri(vw,i),this._typeMap=Object.create(null),this._subTypeMap=Object.create(null),this._implementationsMap=Object.create(null);for(const o of i){if(o==null)continue;const s=o.name;if(s||yt(!1,"One of the provided types for building the Schema is missing a name."),this._typeMap[s]!==void 0)throw new Error(`Schema must contain uniquely named types but contains multiple types named "${s}".`);if(this._typeMap[s]=o,wt(o)){for(const c of o.getInterfaces())if(wt(c)){let l=this._implementationsMap[c.name];l===void 0&&(l=this._implementationsMap[c.name]={objects:[],interfaces:[]}),l.interfaces.push(o)}}else if(Et(o)){for(const c of o.getInterfaces())if(wt(c)){let l=this._implementationsMap[c.name];l===void 0&&(l=this._implementationsMap[c.name]={objects:[],interfaces:[]}),l.objects.push(o)}}}}get[Symbol.toStringTag](){return"GraphQLSchema"}getQueryType(){return this._queryType}getMutationType(){return this._mutationType}getSubscriptionType(){return this._subscriptionType}getRootType(t){switch(t){case Lr.QUERY:return this.getQueryType();case Lr.MUTATION:return this.getMutationType();case Lr.SUBSCRIPTION:return this.getSubscriptionType()}}getTypeMap(){return this._typeMap}getType(t){return this.getTypeMap()[t]}getPossibleTypes(t){return $n(t)?t.getTypes():this.getImplementations(t).objects}getImplementations(t){const n=this._implementationsMap[t.name];return n??{objects:[],interfaces:[]}}isSubType(t,n){let r=this._subTypeMap[t.name];if(r===void 0){if(r=Object.create(null),$n(t))for(const i of t.getTypes())r[i.name]=!0;else{const i=this.getImplementations(t);for(const o of i.objects)r[o.name]=!0;for(const o of i.interfaces)r[o.name]=!0}this._subTypeMap[t.name]=r}return r[n.name]!==void 0}getDirectives(){return this._directives}getDirective(t){return this.getDirectives().find(n=>n.name===t)}toConfig(){return{description:this.description,query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:Object.values(this.getTypeMap()),directives:this.getDirectives(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,assumeValid:this.__validationErrors!==void 0}}}function ri(e,t){const n=Di(e);if(!t.has(n)){if(t.add(n),$n(n))for(const r of n.getTypes())ri(r,t);else if(Et(n)||wt(n)){for(const r of n.getInterfaces())ri(r,t);for(const r of Object.values(n.getFields())){ri(r.type,t);for(const i of r.args)ri(i.type,t)}}else if(Ft(n))for(const r of Object.values(n.getFields()))ri(r.type,t)}return t}function Bi(e,t){switch(t.kind){case B.LIST_TYPE:{const n=Bi(e,t.type);return n&&new kn(n)}case B.NON_NULL_TYPE:{const n=Bi(e,t.type);return n&&new st(n)}case B.NAMED_TYPE:return e.getType(t.name.value)}}function i8(e){return oI(e)||sI(e)||aI(e)}function oI(e){return e.kind===B.OPERATION_DEFINITION||e.kind===B.FRAGMENT_DEFINITION}function eb(e){return e.kind===B.FIELD||e.kind===B.FRAGMENT_SPREAD||e.kind===B.INLINE_FRAGMENT}function sI(e){return e.kind===B.SCHEMA_DEFINITION||Ef(e)||e.kind===B.DIRECTIVE_DEFINITION}function Ef(e){return e.kind===B.SCALAR_TYPE_DEFINITION||e.kind===B.OBJECT_TYPE_DEFINITION||e.kind===B.INTERFACE_TYPE_DEFINITION||e.kind===B.UNION_TYPE_DEFINITION||e.kind===B.ENUM_TYPE_DEFINITION||e.kind===B.INPUT_OBJECT_TYPE_DEFINITION}function aI(e){return e.kind===B.SCHEMA_EXTENSION||ww(e)}function ww(e){return e.kind===B.SCALAR_TYPE_EXTENSION||e.kind===B.OBJECT_TYPE_EXTENSION||e.kind===B.INTERFACE_TYPE_EXTENSION||e.kind===B.UNION_TYPE_EXTENSION||e.kind===B.ENUM_TYPE_EXTENSION||e.kind===B.INPUT_OBJECT_TYPE_EXTENSION}function o8(e){return{Document(t){for(const n of t.definitions)if(!oI(n)){const r=n.kind===B.SCHEMA_DEFINITION||n.kind===B.SCHEMA_EXTENSION?"schema":'"'+n.name.value+'"';e.reportError(new _e(`The ${r} definition is not executable.`,{nodes:n}))}return!1}}}function s8(e){return{Field(t){const n=e.getParentType();if(n&&!e.getFieldDef()){const i=e.getSchema(),o=t.name.value;let s=Es("to use an inline fragment on",a8(i,n,o));s===""&&(s=Es(u8(n,o))),e.reportError(new _e(`Cannot query field "${o}" on type "${n.name}".`+s,{nodes:t}))}}}}function a8(e,t,n){if(!pa(t))return[];const r=new Set,i=Object.create(null);for(const s of e.getPossibleTypes(t))if(s.getFields()[n]){r.add(s),i[s.name]=1;for(const c of s.getInterfaces()){var o;c.getFields()[n]&&(r.add(c),i[c.name]=((o=i[c.name])!==null&&o!==void 0?o:0)+1)}}return[...r].sort((s,c)=>{const l=i[c.name]-i[s.name];return l!==0?l:wt(s)&&e.isSubType(s,c)?-1:wt(c)&&e.isSubType(c,s)?1:dw(s.name,c.name)}).map(s=>s.name)}function u8(e,t){if(Et(e)||wt(e)){const n=Object.keys(e.getFields());return Oa(t,n)}return[]}function l8(e){return{InlineFragment(t){const n=t.typeCondition;if(n){const r=Bi(e.getSchema(),n);if(r&&!Yc(r)){const i=un(n);e.reportError(new _e(`Fragment cannot condition on non composite type "${i}".`,{nodes:n}))}}},FragmentDefinition(t){const n=Bi(e.getSchema(),t.typeCondition);if(n&&!Yc(n)){const r=un(t.typeCondition);e.reportError(new _e(`Fragment "${t.name.value}" cannot condition on non composite type "${r}".`,{nodes:t.typeCondition}))}}}}function c8(e){return{...uI(e),Argument(t){const n=e.getArgument(),r=e.getFieldDef(),i=e.getParentType();if(!n&&r&&i){const o=t.name.value,s=r.args.map(l=>l.name),c=Oa(o,s);e.reportError(new _e(`Unknown argument "${o}" on field "${i.name}.${r.name}".`+Es(c),{nodes:t}))}}}}function uI(e){const t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():Ia;for(const s of r)t[s.name]=s.args.map(c=>c.name);const i=e.getDocument().definitions;for(const s of i)if(s.kind===B.DIRECTIVE_DEFINITION){var o;const c=(o=s.arguments)!==null&&o!==void 0?o:[];t[s.name.value]=c.map(l=>l.name.value)}return{Directive(s){const c=s.name.value,l=t[c];if(s.arguments&&l)for(const u of s.arguments){const a=u.name.value;if(!l.includes(a)){const d=Oa(a,l);e.reportError(new _e(`Unknown argument "${a}" on directive "@${c}".`+Es(d),{nodes:u}))}}return!1}}}function lI(e){const t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():Ia;for(const o of r)t[o.name]=o.locations;const i=e.getDocument().definitions;for(const o of i)o.kind===B.DIRECTIVE_DEFINITION&&(t[o.name.value]=o.locations.map(s=>s.value));return{Directive(o,s,c,l,u){const a=o.name.value,d=t[a];if(!d){e.reportError(new _e(`Unknown directive "@${a}".`,{nodes:o}));return}const h=f8(u);h&&!d.includes(h)&&e.reportError(new _e(`Directive "@${a}" may not be used on ${h}.`,{nodes:o}))}}}function f8(e){const t=e[e.length-1];switch("kind"in t||si(!1),t.kind){case B.OPERATION_DEFINITION:return d8(t.operation);case B.FIELD:return We.FIELD;case B.FRAGMENT_SPREAD:return We.FRAGMENT_SPREAD;case B.INLINE_FRAGMENT:return We.INLINE_FRAGMENT;case B.FRAGMENT_DEFINITION:return We.FRAGMENT_DEFINITION;case B.VARIABLE_DEFINITION:return We.VARIABLE_DEFINITION;case B.SCHEMA_DEFINITION:case B.SCHEMA_EXTENSION:return We.SCHEMA;case B.SCALAR_TYPE_DEFINITION:case B.SCALAR_TYPE_EXTENSION:return We.SCALAR;case B.OBJECT_TYPE_DEFINITION:case B.OBJECT_TYPE_EXTENSION:return We.OBJECT;case B.FIELD_DEFINITION:return We.FIELD_DEFINITION;case B.INTERFACE_TYPE_DEFINITION:case B.INTERFACE_TYPE_EXTENSION:return We.INTERFACE;case B.UNION_TYPE_DEFINITION:case B.UNION_TYPE_EXTENSION:return We.UNION;case B.ENUM_TYPE_DEFINITION:case B.ENUM_TYPE_EXTENSION:return We.ENUM;case B.ENUM_VALUE_DEFINITION:return We.ENUM_VALUE;case B.INPUT_OBJECT_TYPE_DEFINITION:case B.INPUT_OBJECT_TYPE_EXTENSION:return We.INPUT_OBJECT;case B.INPUT_VALUE_DEFINITION:{const n=e[e.length-3];return"kind"in n||si(!1),n.kind===B.INPUT_OBJECT_TYPE_DEFINITION?We.INPUT_FIELD_DEFINITION:We.ARGUMENT_DEFINITION}default:si(!1,"Unexpected kind: "+je(t.kind))}}function d8(e){switch(e){case Lr.QUERY:return We.QUERY;case Lr.MUTATION:return We.MUTATION;case Lr.SUBSCRIPTION:return We.SUBSCRIPTION}}function h8(e){return{FragmentSpread(t){const n=t.name.value;e.getFragment(n)||e.reportError(new _e(`Unknown fragment "${n}".`,{nodes:t.name}))}}}function cI(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),r=Object.create(null);for(const o of e.getDocument().definitions)Ef(o)&&(r[o.name.value]=!0);const i=[...Object.keys(n),...Object.keys(r)];return{NamedType(o,s,c,l,u){const a=o.name.value;if(!n[a]&&!r[a]){var d;const h=(d=u[2])!==null&&d!==void 0?d:c,m=h!=null&&p8(h);if(m&&tb.includes(a))return;const y=Oa(a,m?tb.concat(i):i);e.reportError(new _e(`Unknown type "${a}".`+Es(y),{nodes:o}))}}}}const tb=[...mw,...yw].map(e=>e.name);function p8(e){return"kind"in e&&(sI(e)||aI(e))}function m8(e){let t=0;return{Document(n){t=n.definitions.filter(r=>r.kind===B.OPERATION_DEFINITION).length},OperationDefinition(n){!n.name&&t>1&&e.reportError(new _e("This anonymous operation must be the only defined operation.",{nodes:n}))}}}function g8(e){var t,n,r;const i=e.getSchema(),o=(t=(n=(r=i==null?void 0:i.astNode)!==null&&r!==void 0?r:i==null?void 0:i.getQueryType())!==null&&n!==void 0?n:i==null?void 0:i.getMutationType())!==null&&t!==void 0?t:i==null?void 0:i.getSubscriptionType();let s=0;return{SchemaDefinition(c){if(o){e.reportError(new _e("Cannot define a new schema within a schema extension.",{nodes:c}));return}s>0&&e.reportError(new _e("Must provide only one schema definition.",{nodes:c})),++s}}}const v8=3;function y8(e){function t(n,r=Object.create(null),i=0){if(n.kind===B.FRAGMENT_SPREAD){const o=n.name.value;if(r[o]===!0)return!1;const s=e.getFragment(o);if(!s)return!1;try{return r[o]=!0,t(s,r,i)}finally{r[o]=void 0}}if(n.kind===B.FIELD&&(n.name.value==="fields"||n.name.value==="interfaces"||n.name.value==="possibleTypes"||n.name.value==="inputFields")&&(i++,i>=v8))return!0;if("selectionSet"in n&&n.selectionSet){for(const o of n.selectionSet.selections)if(t(o,r,i))return!0}return!1}return{Field(n){if((n.name.value==="__schema"||n.name.value==="__type")&&t(n))return e.reportError(new _e("Maximum introspection depth exceeded",{nodes:[n]})),!1}}}function E8(e){const t=Object.create(null),n=[],r=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(o){return i(o),!1}};function i(o){if(t[o.name.value])return;const s=o.name.value;t[s]=!0;const c=e.getFragmentSpreads(o.selectionSet);if(c.length!==0){r[s]=n.length;for(const l of c){const u=l.name.value,a=r[u];if(n.push(l),a===void 0){const d=e.getFragment(u);d&&i(d)}else{const d=n.slice(a),h=d.slice(0,-1).map(m=>'"'+m.name.value+'"').join(", ");e.reportError(new _e(`Cannot spread fragment "${u}" within itself`+(h!==""?` via ${h}.`:"."),{nodes:d}))}n.pop()}r[s]=void 0}}}function w8(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){const r=e.getRecursiveVariableUsages(n);for(const{node:i}of r){const o=i.name.value;t[o]!==!0&&e.reportError(new _e(n.name?`Variable "$${o}" is not defined by operation "${n.name.value}".`:`Variable "$${o}" is not defined.`,{nodes:[i,n]}))}}},VariableDefinition(n){t[n.variable.name.value]=!0}}}function T8(e){const t=[],n=[];return{OperationDefinition(r){return t.push(r),!1},FragmentDefinition(r){return n.push(r),!1},Document:{leave(){const r=Object.create(null);for(const i of t)for(const o of e.getRecursivelyReferencedFragments(i))r[o.name.value]=!0;for(const i of n){const o=i.name.value;r[o]!==!0&&e.reportError(new _e(`Fragment "${o}" is never used.`,{nodes:i}))}}}}}function _8(e){let t=[];return{OperationDefinition:{enter(){t=[]},leave(n){const r=Object.create(null),i=e.getRecursiveVariableUsages(n);for(const{node:o}of i)r[o.name.value]=!0;for(const o of t){const s=o.variable.name.value;r[s]!==!0&&e.reportError(new _e(n.name?`Variable "$${s}" is never used in operation "${n.name.value}".`:`Variable "$${s}" is never used.`,{nodes:o}))}}},VariableDefinition(n){t.push(n)}}}function Tw(e){switch(e.kind){case B.OBJECT:return{...e,fields:N8(e.fields)};case B.LIST:return{...e,values:e.values.map(Tw)};case B.INT:case B.FLOAT:case B.STRING:case B.BOOLEAN:case B.NULL:case B.ENUM:case B.VARIABLE:return e}}function N8(e){return e.map(t=>({...t,value:Tw(t.value)})).sort((t,n)=>dw(t.name.value,n.name.value))}function fI(e){return Array.isArray(e)?e.map(([t,n])=>`subfields "${t}" conflict because `+fI(n)).join(" and "):e}function b8(e){const t=new pI,n=new I8,r=new Map;return{SelectionSet(i){const o=x8(e,r,t,n,e.getParentType(),i);for(const[[s,c],l,u]of o){const a=fI(c);e.reportError(new _e(`Fields "${s}" conflict because ${a}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:l.concat(u)}))}}}}function x8(e,t,n,r,i,o){const s=[],[c,l]=hp(e,t,i,o);if(S8(e,s,t,n,r,c),l.length!==0)for(let u=0;u<l.length;u++){fp(e,s,t,n,r,!1,c,l[u]);for(let a=u+1;a<l.length;a++)dp(e,s,t,n,r,!1,l[u],l[a])}return s}function fp(e,t,n,r,i,o,s,c){if(r.has(s,c,o))return;r.add(s,c,o);const l=e.getFragment(c);if(!l)return;const[u,a]=Ny(e,n,l);if(s!==u){_w(e,t,n,r,i,o,s,u);for(const d of a)fp(e,t,n,r,i,o,s,d)}}function dp(e,t,n,r,i,o,s,c){if(s===c||i.has(s,c,o))return;i.add(s,c,o);const l=e.getFragment(s),u=e.getFragment(c);if(!l||!u)return;const[a,d]=Ny(e,n,l),[h,m]=Ny(e,n,u);_w(e,t,n,r,i,o,a,h);for(const y of m)dp(e,t,n,r,i,o,s,y);for(const y of d)dp(e,t,n,r,i,o,y,c)}function R8(e,t,n,r,i,o,s,c,l){const u=[],[a,d]=hp(e,t,o,s),[h,m]=hp(e,t,c,l);_w(e,u,t,n,r,i,a,h);for(const y of m)fp(e,u,t,n,r,i,a,y);for(const y of d)fp(e,u,t,n,r,i,h,y);for(const y of d)for(const g of m)dp(e,u,t,n,r,i,y,g);return u}function S8(e,t,n,r,i,o){for(const[s,c]of Object.entries(o))if(c.length>1)for(let l=0;l<c.length;l++)for(let u=l+1;u<c.length;u++){const a=dI(e,n,r,i,!1,s,c[l],c[u]);a&&t.push(a)}}function _w(e,t,n,r,i,o,s,c){for(const[l,u]of Object.entries(s)){const a=c[l];if(a)for(const d of u)for(const h of a){const m=dI(e,n,r,i,o,l,d,h);m&&t.push(m)}}}function dI(e,t,n,r,i,o,s,c){const[l,u,a]=s,[d,h,m]=c,y=i||l!==d&&Et(l)&&Et(d);if(!y){const N=u.name.value,b=h.name.value;if(N!==b)return[[o,`"${N}" and "${b}" are different fields`],[u],[h]];if(!A8(u,h))return[[o,"they have differing arguments"],[u],[h]]}const g=a==null?void 0:a.type,v=m==null?void 0:m.type;if(g&&v&&_y(g,v))return[[o,`they return conflicting types "${je(g)}" and "${je(v)}"`],[u],[h]];const w=u.selectionSet,T=h.selectionSet;if(w&&T){const N=R8(e,t,n,r,y,Di(g),w,Di(v),T);return O8(N,o,u,h)}}function A8(e,t){const n=e.arguments,r=t.arguments;if(n===void 0||n.length===0)return r===void 0||r.length===0;if(r===void 0||r.length===0||n.length!==r.length)return!1;const i=new Map(r.map(({name:o,value:s})=>[o.value,s]));return n.every(o=>{const s=o.value,c=i.get(o.name.value);return c===void 0?!1:nb(s)===nb(c)})}function nb(e){return un(Tw(e))}function _y(e,t){return ln(e)?ln(t)?_y(e.ofType,t.ofType):!0:ln(t)?!0:_t(e)?_t(t)?_y(e.ofType,t.ofType):!0:_t(t)?!0:fi(e)||fi(t)?e!==t:!1}function hp(e,t,n,r){const i=t.get(r);if(i)return i;const o=Object.create(null),s=Object.create(null);hI(e,n,r,o,s);const c=[o,Object.keys(s)];return t.set(r,c),c}function Ny(e,t,n){const r=t.get(n.selectionSet);if(r)return r;const i=Bi(e.getSchema(),n.typeCondition);return hp(e,t,i,n.selectionSet)}function hI(e,t,n,r,i){for(const o of n.selections)switch(o.kind){case B.FIELD:{const s=o.name.value;let c;(Et(t)||wt(t))&&(c=t.getFields()[s]);const l=o.alias?o.alias.value:s;r[l]||(r[l]=[]),r[l].push([t,o,c]);break}case B.FRAGMENT_SPREAD:i[o.name.value]=!0;break;case B.INLINE_FRAGMENT:{const s=o.typeCondition,c=s?Bi(e.getSchema(),s):t;hI(e,c,o.selectionSet,r,i);break}}}function O8(e,t,n,r){if(e.length>0)return[[t,e.map(([i])=>i)],[n,...e.map(([,i])=>i).flat()],[r,...e.map(([,,i])=>i).flat()]]}class pI{constructor(){this._data=new Map}has(t,n,r){var i;const o=(i=this._data.get(t))===null||i===void 0?void 0:i.get(n);return o===void 0?!1:r?!0:r===o}add(t,n,r){const i=this._data.get(t);i===void 0?this._data.set(t,new Map([[n,r]])):i.set(n,r)}}class I8{constructor(){this._orderedPairSet=new pI}has(t,n,r){return t<n?this._orderedPairSet.has(t,n,r):this._orderedPairSet.has(n,t,r)}add(t,n,r){t<n?this._orderedPairSet.add(t,n,r):this._orderedPairSet.add(n,t,r)}}function C8(e){return{InlineFragment(t){const n=e.getType(),r=e.getParentType();if(Yc(n)&&Yc(r)&&!JN(e.getSchema(),n,r)){const i=je(r),o=je(n);e.reportError(new _e(`Fragment cannot be spread here as objects of type "${i}" can never be of type "${o}".`,{nodes:t}))}},FragmentSpread(t){const n=t.name.value,r=k8(e,n),i=e.getParentType();if(r&&i&&!JN(e.getSchema(),r,i)){const o=je(i),s=je(r);e.reportError(new _e(`Fragment "${n}" cannot be spread here as objects of type "${o}" can never be of type "${s}".`,{nodes:t}))}}}}function k8(e,t){const n=e.getFragment(t);if(n){const r=Bi(e.getSchema(),n.typeCondition);if(Yc(r))return r}}function M8(e){const t=e.getSchema(),n=Object.create(null);for(const i of e.getDocument().definitions)Ef(i)&&(n[i.name.value]=i);return{ScalarTypeExtension:r,ObjectTypeExtension:r,InterfaceTypeExtension:r,UnionTypeExtension:r,EnumTypeExtension:r,InputObjectTypeExtension:r};function r(i){const o=i.name.value,s=n[o],c=t==null?void 0:t.getType(o);let l;if(s?l=P8[s.kind]:c&&(l=L8(c)),l){if(l!==i.kind){const u=D8(i.kind);e.reportError(new _e(`Cannot extend non-${u} type "${o}".`,{nodes:s?[s,i]:i}))}}else{const u=Object.keys({...n,...t==null?void 0:t.getTypeMap()}),a=Oa(o,u);e.reportError(new _e(`Cannot extend type "${o}" because it is not defined.`+Es(a),{nodes:i.name}))}}}const P8={[B.SCALAR_TYPE_DEFINITION]:B.SCALAR_TYPE_EXTENSION,[B.OBJECT_TYPE_DEFINITION]:B.OBJECT_TYPE_EXTENSION,[B.INTERFACE_TYPE_DEFINITION]:B.INTERFACE_TYPE_EXTENSION,[B.UNION_TYPE_DEFINITION]:B.UNION_TYPE_EXTENSION,[B.ENUM_TYPE_DEFINITION]:B.ENUM_TYPE_EXTENSION,[B.INPUT_OBJECT_TYPE_DEFINITION]:B.INPUT_OBJECT_TYPE_EXTENSION};function L8(e){if($r(e))return B.SCALAR_TYPE_EXTENSION;if(Et(e))return B.OBJECT_TYPE_EXTENSION;if(wt(e))return B.INTERFACE_TYPE_EXTENSION;if($n(e))return B.UNION_TYPE_EXTENSION;if(bn(e))return B.ENUM_TYPE_EXTENSION;if(Ft(e))return B.INPUT_OBJECT_TYPE_EXTENSION;si(!1,"Unexpected type: "+je(e))}function D8(e){switch(e){case B.SCALAR_TYPE_EXTENSION:return"scalar";case B.OBJECT_TYPE_EXTENSION:return"object";case B.INTERFACE_TYPE_EXTENSION:return"interface";case B.UNION_TYPE_EXTENSION:return"union";case B.ENUM_TYPE_EXTENSION:return"enum";case B.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:si(!1,"Unexpected kind: "+je(e))}}function F8(e){return{...mI(e),Field:{leave(t){var n;const r=e.getFieldDef();if(!r)return!1;const i=new Set((n=t.arguments)===null||n===void 0?void 0:n.map(o=>o.name.value));for(const o of r.args)if(!i.has(o.name)&&HO(o)){const s=je(o.type);e.reportError(new _e(`Field "${r.name}" argument "${o.name}" of type "${s}" is required, but it was not provided.`,{nodes:t}))}}}}}function mI(e){var t;const n=Object.create(null),r=e.getSchema(),i=(t=r==null?void 0:r.getDirectives())!==null&&t!==void 0?t:Ia;for(const c of i)n[c.name]=_a(c.args.filter(HO),l=>l.name);const o=e.getDocument().definitions;for(const c of o)if(c.kind===B.DIRECTIVE_DEFINITION){var s;const l=(s=c.arguments)!==null&&s!==void 0?s:[];n[c.name.value]=_a(l.filter(U8),u=>u.name.value)}return{Directive:{leave(c){const l=c.name.value,u=n[l];if(u){var a;const d=(a=c.arguments)!==null&&a!==void 0?a:[],h=new Set(d.map(m=>m.name.value));for(const[m,y]of Object.entries(u))if(!h.has(m)){const g=hw(y.type)?je(y.type):un(y.type);e.reportError(new _e(`Directive "@${l}" argument "${m}" of type "${g}" is required, but it was not provided.`,{nodes:c}))}}}}}}function U8(e){return e.type.kind===B.NON_NULL_TYPE&&e.defaultValue==null}function B8(e){return{Field(t){const n=e.getType(),r=t.selectionSet;if(n)if(fi(Di(n))){if(r){const i=t.name.value,o=je(n);e.reportError(new _e(`Field "${i}" must not have a selection since type "${o}" has no subfields.`,{nodes:r}))}}else if(r){if(r.selections.length===0){const i=t.name.value,o=je(n);e.reportError(new _e(`Field "${i}" of type "${o}" must have at least one field selected.`,{nodes:t}))}}else{const i=t.name.value,o=je(n);e.reportError(new _e(`Field "${i}" of type "${o}" must have a selection of subfields. Did you mean "${i} { ... }"?`,{nodes:t}))}}}}function oa(e,t,n){if(e){if(e.kind===B.VARIABLE){const r=e.name.value;if(n==null||n[r]===void 0)return;const i=n[r];return i===null&&_t(t)?void 0:i}if(_t(t))return e.kind===B.NULL?void 0:oa(e,t.ofType,n);if(e.kind===B.NULL)return null;if(ln(t)){const r=t.ofType;if(e.kind===B.LIST){const o=[];for(const s of e.values)if(rb(s,n)){if(_t(r))return;o.push(null)}else{const c=oa(s,r,n);if(c===void 0)return;o.push(c)}return o}const i=oa(e,r,n);return i===void 0?void 0:[i]}if(Ft(t)){if(e.kind!==B.OBJECT)return;const r=Object.create(null),i=_a(e.fields,o=>o.name.value);for(const o of Object.values(t.getFields())){const s=i[o.name];if(!s||rb(s.value,n)){if(o.defaultValue!==void 0)r[o.name]=o.defaultValue;else if(_t(o.type))return;continue}const c=oa(s.value,o.type,n);if(c===void 0)return;r[o.name]=c}if(t.isOneOf){const o=Object.keys(r);if(o.length!==1||r[o[0]]===null)return}return r}if(fi(t)){let r;try{r=t.parseLiteral(e,n)}catch{return}return r===void 0?void 0:r}si(!1,"Unexpected input type: "+je(t))}}function rb(e,t){return e.kind===B.VARIABLE&&(t==null||t[e.name.value]===void 0)}function $8(e,t,n){var r;const i={},o=(r=t.arguments)!==null&&r!==void 0?r:[],s=_a(o,c=>c.name.value);for(const c of e.args){const l=c.name,u=c.type,a=s[l];if(!a){if(c.defaultValue!==void 0)i[l]=c.defaultValue;else if(_t(u))throw new _e(`Argument "${l}" of required type "${je(u)}" was not provided.`,{nodes:t});continue}const d=a.value;let h=d.kind===B.NULL;if(d.kind===B.VARIABLE){const y=d.name.value;if(n==null||!V8(n,y)){if(c.defaultValue!==void 0)i[l]=c.defaultValue;else if(_t(u))throw new _e(`Argument "${l}" of required type "${je(u)}" was provided the variable "$${y}" which was not provided a runtime value.`,{nodes:d});continue}h=n[y]==null}if(h&&_t(u))throw new _e(`Argument "${l}" of non-null type "${je(u)}" must not be null.`,{nodes:d});const m=oa(d,u,n);if(m===void 0)throw new _e(`Argument "${l}" has invalid value ${un(d)}.`,{nodes:d});i[l]=m}return i}function Kc(e,t,n){var r;const i=(r=t.directives)===null||r===void 0?void 0:r.find(o=>o.name.value===e.name);if(i)return $8(e,i,n)}function V8(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function j8(e,t,n,r,i){const o=new Map;return by(e,t,n,r,i,o,new Set),o}function by(e,t,n,r,i,o,s){for(const c of i.selections)switch(c.kind){case B.FIELD:{if(!Vv(n,c))continue;const l=z8(c),u=o.get(l);u!==void 0?u.push(c):o.set(l,[c]);break}case B.INLINE_FRAGMENT:{if(!Vv(n,c)||!ib(e,c,r))continue;by(e,t,n,r,c.selectionSet,o,s);break}case B.FRAGMENT_SPREAD:{const l=c.name.value;if(s.has(l)||!Vv(n,c))continue;s.add(l);const u=t[l];if(!u||!ib(e,u,r))continue;by(e,t,n,r,u.selectionSet,o,s);break}}}function Vv(e,t){const n=Kc(YO,t,e);if((n==null?void 0:n.if)===!0)return!1;const r=Kc(GO,t,e);return(r==null?void 0:r.if)!==!1}function ib(e,t,n){const r=t.typeCondition;if(!r)return!0;const i=Bi(e,r);return i===n?!0:pa(i)?e.isSubType(i,n):!1}function z8(e){return e.alias?e.alias.value:e.name.value}function q8(e){return{OperationDefinition(t){if(t.operation==="subscription"){const n=e.getSchema(),r=n.getSubscriptionType();if(r){const i=t.name?t.name.value:null,o=Object.create(null),s=e.getDocument(),c=Object.create(null);for(const u of s.definitions)u.kind===B.FRAGMENT_DEFINITION&&(c[u.name.value]=u);const l=j8(n,c,o,r,t.selectionSet);if(l.size>1){const d=[...l.values()].slice(1).flat();e.reportError(new _e(i!=null?`Subscription "${i}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:d}))}for(const u of l.values())u[0].name.value.startsWith("__")&&e.reportError(new _e(i!=null?`Subscription "${i}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:u}))}}}}}function Nw(e,t){const n=new Map;for(const r of e){const i=t(r),o=n.get(i);o===void 0?n.set(i,[r]):o.push(r)}return n}function W8(e){return{DirectiveDefinition(r){var i;const o=(i=r.arguments)!==null&&i!==void 0?i:[];return n(`@${r.name.value}`,o)},InterfaceTypeDefinition:t,InterfaceTypeExtension:t,ObjectTypeDefinition:t,ObjectTypeExtension:t};function t(r){var i;const o=r.name.value,s=(i=r.fields)!==null&&i!==void 0?i:[];for(const l of s){var c;const u=l.name.value,a=(c=l.arguments)!==null&&c!==void 0?c:[];n(`${o}.${u}`,a)}return!1}function n(r,i){const o=Nw(i,s=>s.name.value);for(const[s,c]of o)c.length>1&&e.reportError(new _e(`Argument "${r}(${s}:)" can only be defined once.`,{nodes:c.map(l=>l.name)}));return!1}}function gI(e){return{Field:t,Directive:t};function t(n){var r;const i=(r=n.arguments)!==null&&r!==void 0?r:[],o=Nw(i,s=>s.name.value);for(const[s,c]of o)c.length>1&&e.reportError(new _e(`There can be only one argument named "${s}".`,{nodes:c.map(l=>l.name)}))}}function H8(e){const t=Object.create(null),n=e.getSchema();return{DirectiveDefinition(r){const i=r.name.value;if(n!=null&&n.getDirective(i)){e.reportError(new _e(`Directive "@${i}" already exists in the schema. It cannot be redefined.`,{nodes:r.name}));return}return t[i]?e.reportError(new _e(`There can be only one directive named "@${i}".`,{nodes:[t[i],r.name]})):t[i]=r.name,!1}}}function vI(e){const t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():Ia;for(const c of r)t[c.name]=!c.isRepeatable;const i=e.getDocument().definitions;for(const c of i)c.kind===B.DIRECTIVE_DEFINITION&&(t[c.name.value]=!c.repeatable);const o=Object.create(null),s=Object.create(null);return{enter(c){if(!("directives"in c)||!c.directives)return;let l;if(c.kind===B.SCHEMA_DEFINITION||c.kind===B.SCHEMA_EXTENSION)l=o;else if(Ef(c)||ww(c)){const u=c.name.value;l=s[u],l===void 0&&(s[u]=l=Object.create(null))}else l=Object.create(null);for(const u of c.directives){const a=u.name.value;t[a]&&(l[a]?e.reportError(new _e(`The directive "@${a}" can only be used once at this location.`,{nodes:[l[a],u]})):l[a]=u)}}}}function G8(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),r=Object.create(null);return{EnumTypeDefinition:i,EnumTypeExtension:i};function i(o){var s;const c=o.name.value;r[c]||(r[c]=Object.create(null));const l=(s=o.values)!==null&&s!==void 0?s:[],u=r[c];for(const a of l){const d=a.name.value,h=n[c];bn(h)&&h.getValue(d)?e.reportError(new _e(`Enum value "${c}.${d}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:a.name})):u[d]?e.reportError(new _e(`Enum value "${c}.${d}" can only be defined once.`,{nodes:[u[d],a.name]})):u[d]=a.name}return!1}}function Y8(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),r=Object.create(null);return{InputObjectTypeDefinition:i,InputObjectTypeExtension:i,InterfaceTypeDefinition:i,InterfaceTypeExtension:i,ObjectTypeDefinition:i,ObjectTypeExtension:i};function i(o){var s;const c=o.name.value;r[c]||(r[c]=Object.create(null));const l=(s=o.fields)!==null&&s!==void 0?s:[],u=r[c];for(const a of l){const d=a.name.value;Q8(n[c],d)?e.reportError(new _e(`Field "${c}.${d}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:a.name})):u[d]?e.reportError(new _e(`Field "${c}.${d}" can only be defined once.`,{nodes:[u[d],a.name]})):u[d]=a.name}return!1}}function Q8(e,t){return Et(e)||wt(e)||Ft(e)?e.getFields()[t]!=null:!1}function K8(e){const t=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(n){const r=n.name.value;return t[r]?e.reportError(new _e(`There can be only one fragment named "${r}".`,{nodes:[t[r],n.name]})):t[r]=n.name,!1}}}function yI(e){const t=[];let n=Object.create(null);return{ObjectValue:{enter(){t.push(n),n=Object.create(null)},leave(){const r=t.pop();r||si(!1),n=r}},ObjectField(r){const i=r.name.value;n[i]?e.reportError(new _e(`There can be only one input field named "${i}".`,{nodes:[n[i],r.name]})):n[i]=r.name}}}function X8(e){const t=Object.create(null);return{OperationDefinition(n){const r=n.name;return r&&(t[r.value]?e.reportError(new _e(`There can be only one operation named "${r.value}".`,{nodes:[t[r.value],r]})):t[r.value]=r),!1},FragmentDefinition:()=>!1}}function J8(e){const t=e.getSchema(),n=Object.create(null),r=t?{query:t.getQueryType(),mutation:t.getMutationType(),subscription:t.getSubscriptionType()}:{};return{SchemaDefinition:i,SchemaExtension:i};function i(o){var s;const c=(s=o.operationTypes)!==null&&s!==void 0?s:[];for(const l of c){const u=l.operation,a=n[u];r[u]?e.reportError(new _e(`Type for ${u} already defined in the schema. It cannot be redefined.`,{nodes:l})):a?e.reportError(new _e(`There can be only one ${u} type in schema.`,{nodes:[a,l]})):n[u]=l}return!1}}function Z8(e){const t=Object.create(null),n=e.getSchema();return{ScalarTypeDefinition:r,ObjectTypeDefinition:r,InterfaceTypeDefinition:r,UnionTypeDefinition:r,EnumTypeDefinition:r,InputObjectTypeDefinition:r};function r(i){const o=i.name.value;if(n!=null&&n.getType(o)){e.reportError(new _e(`Type "${o}" already exists in the schema. It cannot also be defined in this type definition.`,{nodes:i.name}));return}return t[o]?e.reportError(new _e(`There can be only one type named "${o}".`,{nodes:[t[o],i.name]})):t[o]=i.name,!1}}function e6(e){return{OperationDefinition(t){var n;const r=(n=t.variableDefinitions)!==null&&n!==void 0?n:[],i=Nw(r,o=>o.variable.name.value);for(const[o,s]of i)s.length>1&&e.reportError(new _e(`There can be only one variable named "$${o}".`,{nodes:s.map(c=>c.variable.name)}))}}}function t6(e){let t={};return{OperationDefinition:{enter(){t={}}},VariableDefinition(n){t[n.variable.name.value]=n},ListValue(n){const r=UO(e.getParentInputType());if(!ln(r))return Xs(e,n),!1},ObjectValue(n){const r=Di(e.getInputType());if(!Ft(r))return Xs(e,n),!1;const i=_a(n.fields,o=>o.name.value);for(const o of Object.values(r.getFields()))if(!i[o.name]&&e8(o)){const c=je(o.type);e.reportError(new _e(`Field "${r.name}.${o.name}" of required type "${c}" was not provided.`,{nodes:n}))}r.isOneOf&&n6(e,n,r,i,t)},ObjectField(n){const r=Di(e.getParentInputType());if(!e.getInputType()&&Ft(r)){const o=Oa(n.name.value,Object.keys(r.getFields()));e.reportError(new _e(`Field "${n.name.value}" is not defined by type "${r.name}".`+Es(o),{nodes:n}))}},NullValue(n){const r=e.getInputType();_t(r)&&e.reportError(new _e(`Expected value of type "${je(r)}", found ${un(n)}.`,{nodes:n}))},EnumValue:n=>Xs(e,n),IntValue:n=>Xs(e,n),FloatValue:n=>Xs(e,n),StringValue:n=>Xs(e,n),BooleanValue:n=>Xs(e,n)}}function Xs(e,t){const n=e.getInputType();if(!n)return;const r=Di(n);if(!fi(r)){const i=je(n);e.reportError(new _e(`Expected value of type "${i}", found ${un(t)}.`,{nodes:t}));return}try{if(r.parseLiteral(t,void 0)===void 0){const o=je(n);e.reportError(new _e(`Expected value of type "${o}", found ${un(t)}.`,{nodes:t}))}}catch(i){const o=je(n);i instanceof _e?e.reportError(i):e.reportError(new _e(`Expected value of type "${o}", found ${un(t)}; `+i.message,{nodes:t,originalError:i}))}}function n6(e,t,n,r,i){var o;const s=Object.keys(r);if(s.length!==1){e.reportError(new _e(`OneOf Input Object "${n.name}" must specify exactly one key.`,{nodes:[t]}));return}const l=(o=r[s[0]])===null||o===void 0?void 0:o.value,u=!l||l.kind===B.NULL,a=(l==null?void 0:l.kind)===B.VARIABLE;if(u){e.reportError(new _e(`Field "${n.name}.${s[0]}" must be non-null.`,{nodes:[t]}));return}if(a){const d=l.name.value;i[d].type.kind!==B.NON_NULL_TYPE&&e.reportError(new _e(`Variable "${d}" must be non-nullable to be used for OneOf Input Object "${n.name}".`,{nodes:[t]}))}}function r6(e){return{VariableDefinition(t){const n=Bi(e.getSchema(),t.type);if(n!==void 0&&!DO(n)){const r=t.variable.name.value,i=un(t.type);e.reportError(new _e(`Variable "$${r}" cannot be non-input type "${i}".`,{nodes:t.type}))}}}}function i6(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){const r=e.getRecursiveVariableUsages(n);for(const{node:i,type:o,defaultValue:s}of r){const c=i.name.value,l=t[c];if(l&&o){const u=e.getSchema(),a=Bi(u,l.type);if(a&&!o6(u,a,l.defaultValue,o,s)){const d=je(a),h=je(o);e.reportError(new _e(`Variable "$${c}" of type "${d}" used in position expecting type "${h}".`,{nodes:[l,i]}))}}}}},VariableDefinition(n){t[n.variable.name.value]=n}}}function o6(e,t,n,r,i){if(_t(r)&&!_t(t)){if(!(n!=null&&n.kind!==B.NULL)&&!(i!==void 0))return!1;const c=r.ofType;return Pc(e,t,c)}return Pc(e,t,r)}const s6=Object.freeze([y8]);Object.freeze([o8,X8,m8,q8,cI,l8,r6,B8,s8,K8,h8,T8,C8,E8,e6,w8,_8,lI,vI,c8,gI,t6,F8,i6,b8,yI,...s6]);const a6=Object.freeze([g8,J8,Z8,G8,Y8,W8,H8,cI,lI,vI,M8,uI,gI,yI,mI]);class u6{constructor(t,n){this._ast=t,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=n}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(t){this._onError(t)}getDocument(){return this._ast}getFragment(t){let n;if(this._fragments)n=this._fragments;else{n=Object.create(null);for(const r of this.getDocument().definitions)r.kind===B.FRAGMENT_DEFINITION&&(n[r.name.value]=r);this._fragments=n}return n[t]}getFragmentSpreads(t){let n=this._fragmentSpreads.get(t);if(!n){n=[];const r=[t];let i;for(;i=r.pop();)for(const o of i.selections)o.kind===B.FRAGMENT_SPREAD?n.push(o):o.selectionSet&&r.push(o.selectionSet);this._fragmentSpreads.set(t,n)}return n}getRecursivelyReferencedFragments(t){let n=this._recursivelyReferencedFragments.get(t);if(!n){n=[];const r=Object.create(null),i=[t.selectionSet];let o;for(;o=i.pop();)for(const s of this.getFragmentSpreads(o)){const c=s.name.value;if(r[c]!==!0){r[c]=!0;const l=this.getFragment(c);l&&(n.push(l),i.push(l.selectionSet))}}this._recursivelyReferencedFragments.set(t,n)}return n}}class l6 extends u6{constructor(t,n,r){super(t,r),this._schema=n}get[Symbol.toStringTag](){return"SDLValidationContext"}getSchema(){return this._schema}}function c6(e,t,n=a6){const r=[],i=new l6(e,t,s=>{r.push(s)}),o=n.map(s=>s(i));return Tr(e,G5(o)),r}function f6(e){const t=c6(e);if(t.length!==0)throw new Error(t.map(n=>n.message).join(`

`))}function d6(e,t,n){var r,i,o,s;const c=[],l=Object.create(null),u=[];let a;const d=[];for(const C of t.definitions)if(C.kind===B.SCHEMA_DEFINITION)a=C;else if(C.kind===B.SCHEMA_EXTENSION)d.push(C);else if(Ef(C))c.push(C);else if(ww(C)){const L=C.name.value,I=l[L];l[L]=I?I.concat([C]):[C]}else C.kind===B.DIRECTIVE_DEFINITION&&u.push(C);if(Object.keys(l).length===0&&c.length===0&&u.length===0&&d.length===0&&a==null)return e;const h=Object.create(null);for(const C of e.types)h[C.name]=T(C);for(const C of c){var m;const L=C.name.value;h[L]=(m=ob[L])!==null&&m!==void 0?m:V(C)}const y={query:e.query&&v(e.query),mutation:e.mutation&&v(e.mutation),subscription:e.subscription&&v(e.subscription),...a&&Q([a]),...Q(d)};return{description:(r=a)===null||r===void 0||(i=r.description)===null||i===void 0?void 0:i.value,...y,types:Object.values(h),directives:[...e.directives.map(w),...u.map(F)],extensions:Object.create(null),astNode:(o=a)!==null&&o!==void 0?o:e.astNode,extensionASTNodes:e.extensionASTNodes.concat(d),assumeValid:(s=n==null?void 0:n.assumeValid)!==null&&s!==void 0?s:!1};function g(C){return ln(C)?new kn(g(C.ofType)):_t(C)?new st(g(C.ofType)):v(C)}function v(C){return h[C.name]}function w(C){const L=C.toConfig();return new vo({...L,args:ao(L.args,z)})}function T(C){if(rI(C)||vf(C))return C;if($r(C))return S(C);if(Et(C))return x(C);if(wt(C))return O(C);if($n(C))return M(C);if(bn(C))return b(C);if(Ft(C))return N(C);si(!1,"Unexpected type: "+je(C))}function N(C){var L;const I=C.toConfig(),j=(L=l[I.name])!==null&&L!==void 0?L:[];return new Na({...I,fields:()=>({...ao(I.fields,$=>({...$,type:g($.type)})),...te(j)}),extensionASTNodes:I.extensionASTNodes.concat(j)})}function b(C){var L;const I=C.toConfig(),j=(L=l[C.name])!==null&&L!==void 0?L:[];return new Ui({...I,values:{...I.values,...G(j)},extensionASTNodes:I.extensionASTNodes.concat(j)})}function S(C){var L;const I=C.toConfig(),j=(L=l[I.name])!==null&&L!==void 0?L:[];let $=I.specifiedByURL;for(const q of j){var oe;$=(oe=sb(q))!==null&&oe!==void 0?oe:$}return new Fi({...I,specifiedByURL:$,extensionASTNodes:I.extensionASTNodes.concat(j)})}function x(C){var L;const I=C.toConfig(),j=(L=l[I.name])!==null&&L!==void 0?L:[];return new cr({...I,interfaces:()=>[...C.getInterfaces().map(v),...H(j)],fields:()=>({...ao(I.fields,U),...J(j)}),extensionASTNodes:I.extensionASTNodes.concat(j)})}function O(C){var L;const I=C.toConfig(),j=(L=l[I.name])!==null&&L!==void 0?L:[];return new ws({...I,interfaces:()=>[...C.getInterfaces().map(v),...H(j)],fields:()=>({...ao(I.fields,U),...J(j)}),extensionASTNodes:I.extensionASTNodes.concat(j)})}function M(C){var L;const I=C.toConfig(),j=(L=l[I.name])!==null&&L!==void 0?L:[];return new Qc({...I,types:()=>[...C.getTypes().map(v),...W(j)],extensionASTNodes:I.extensionASTNodes.concat(j)})}function U(C){return{...C,type:g(C.type),args:C.args&&ao(C.args,z)}}function z(C){return{...C,type:g(C.type)}}function Q(C){const L={};for(const j of C){var I;const $=(I=j.operationTypes)!==null&&I!==void 0?I:[];for(const oe of $)L[oe.operation]=ee(oe.type)}return L}function ee(C){var L;const I=C.name.value,j=(L=ob[I])!==null&&L!==void 0?L:h[I];if(j===void 0)throw new Error(`Unknown type: "${I}".`);return j}function X(C){return C.kind===B.LIST_TYPE?new kn(X(C.type)):C.kind===B.NON_NULL_TYPE?new st(X(C.type)):ee(C)}function F(C){var L;return new vo({name:C.name.value,description:(L=C.description)===null||L===void 0?void 0:L.value,locations:C.locations.map(({value:I})=>I),isRepeatable:C.repeatable,args:K(C.arguments),astNode:C})}function J(C){const L=Object.create(null);for(const $ of C){var I;const oe=(I=$.fields)!==null&&I!==void 0?I:[];for(const q of oe){var j;L[q.name.value]={type:X(q.type),description:(j=q.description)===null||j===void 0?void 0:j.value,args:K(q.arguments),deprecationReason:ch(q),astNode:q}}}return L}function K(C){const L=C??[],I=Object.create(null);for(const $ of L){var j;const oe=X($.type);I[$.name.value]={type:oe,description:(j=$.description)===null||j===void 0?void 0:j.value,defaultValue:oa($.defaultValue,oe),deprecationReason:ch($),astNode:$}}return I}function te(C){const L=Object.create(null);for(const $ of C){var I;const oe=(I=$.fields)!==null&&I!==void 0?I:[];for(const q of oe){var j;const se=X(q.type);L[q.name.value]={type:se,description:(j=q.description)===null||j===void 0?void 0:j.value,defaultValue:oa(q.defaultValue,se),deprecationReason:ch(q),astNode:q}}}return L}function G(C){const L=Object.create(null);for(const $ of C){var I;const oe=(I=$.values)!==null&&I!==void 0?I:[];for(const q of oe){var j;L[q.name.value]={description:(j=q.description)===null||j===void 0?void 0:j.value,deprecationReason:ch(q),astNode:q}}}return L}function H(C){return C.flatMap(L=>{var I,j;return(I=(j=L.interfaces)===null||j===void 0?void 0:j.map(ee))!==null&&I!==void 0?I:[]})}function W(C){return C.flatMap(L=>{var I,j;return(I=(j=L.types)===null||j===void 0?void 0:j.map(ee))!==null&&I!==void 0?I:[]})}function V(C){var L;const I=C.name.value,j=(L=l[I])!==null&&L!==void 0?L:[];switch(C.kind){case B.OBJECT_TYPE_DEFINITION:{var $;const be=[C,...j];return new cr({name:I,description:($=C.description)===null||$===void 0?void 0:$.value,interfaces:()=>H(be),fields:()=>J(be),astNode:C,extensionASTNodes:j})}case B.INTERFACE_TYPE_DEFINITION:{var oe;const be=[C,...j];return new ws({name:I,description:(oe=C.description)===null||oe===void 0?void 0:oe.value,interfaces:()=>H(be),fields:()=>J(be),astNode:C,extensionASTNodes:j})}case B.ENUM_TYPE_DEFINITION:{var q;const be=[C,...j];return new Ui({name:I,description:(q=C.description)===null||q===void 0?void 0:q.value,values:G(be),astNode:C,extensionASTNodes:j})}case B.UNION_TYPE_DEFINITION:{var se;const be=[C,...j];return new Qc({name:I,description:(se=C.description)===null||se===void 0?void 0:se.value,types:()=>W(be),astNode:C,extensionASTNodes:j})}case B.SCALAR_TYPE_DEFINITION:{var ge;return new Fi({name:I,description:(ge=C.description)===null||ge===void 0?void 0:ge.value,specifiedByURL:sb(C),astNode:C,extensionASTNodes:j})}case B.INPUT_OBJECT_TYPE_DEFINITION:{var we;const be=[C,...j];return new Na({name:I,description:(we=C.description)===null||we===void 0?void 0:we.value,fields:()=>te(be),astNode:C,extensionASTNodes:j,isOneOf:h6(C)})}}}}const ob=_a([...mw,...yw],e=>e.name);function ch(e){const t=Kc(gw,e);return t==null?void 0:t.reason}function sb(e){const t=Kc(QO,e);return t==null?void 0:t.url}function h6(e){return!!Kc(KO,e)}function EI(e,t){e!=null&&e.kind===B.DOCUMENT||yt(!1,"Must provide valid Document AST."),(t==null?void 0:t.assumeValid)!==!0&&(t==null?void 0:t.assumeValidSDL)!==!0&&f6(e);const r=d6({description:void 0,types:[],directives:[],extensions:Object.create(null),extensionASTNodes:[],assumeValid:!1},e,t);if(r.astNode==null)for(const o of r.types)switch(o.name){case"Query":r.query=o;break;case"Mutation":r.mutation=o;break;case"Subscription":r.subscription=o;break}const i=[...r.directives,...Ia.filter(o=>r.directives.every(s=>s.name!==o.name))];return new Ew({...r,directives:i})}function p6(e,t){const n=cw(e,{noLocation:t==null?void 0:t.noLocation,allowLegacyFragmentVariables:t==null?void 0:t.allowLegacyFragmentVariables});return EI(n,{assumeValidSDL:t==null?void 0:t.assumeValidSDL,assumeValid:t==null?void 0:t.assumeValid})}function wf(e,t){var n=e.directives;return!n||!n.length?!0:v6(n).every(function(r){var i=r.directive,o=r.ifArgument,s=!1;return o.value.kind==="Variable"?(s=t&&t[o.value.name.value],Oe(s!==void 0,78,i.name.value)):s=o.value.value,i.name.value==="skip"?!s:s})}function Xc(e,t,n){var r=new Set(e),i=r.size;return Tr(t,{Directive:function(o){if(r.delete(o.name.value)&&(!n||!r.size))return cs}}),n?!r.size:r.size<i}function m6(e){return e&&Xc(["client","export"],e,!0)}function g6(e){var t=e.name.value;return t==="skip"||t==="include"}function v6(e){var t=[];return e&&e.length&&e.forEach(function(n){if(g6(n)){var r=n.arguments,i=n.name.value;Oe(r&&r.length===1,79,i);var o=r[0];Oe(o.name&&o.name.value==="if",80,i);var s=o.value;Oe(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),81,i),t.push({directive:n,ifArgument:o})}}),t}function y6(e){var t,n,r=(t=e.directives)===null||t===void 0?void 0:t.find(function(o){var s=o.name;return s.value==="unmask"});if(!r)return"mask";var i=(n=r.arguments)===null||n===void 0?void 0:n.find(function(o){var s=o.name;return s.value==="mode"});return globalThis.__DEV__!==!1&&i&&(i.value.kind===B.VARIABLE?globalThis.__DEV__!==!1&&Oe.warn(82):i.value.kind!==B.STRING?globalThis.__DEV__!==!1&&Oe.warn(83):i.value.value!=="migrate"&&globalThis.__DEV__!==!1&&Oe.warn(84,i.value.value)),i&&"value"in i.value&&i.value.value==="migrate"?"migrate":"unmask"}const E6=()=>Object.create(null),{forEach:w6,slice:ab}=Array.prototype,{hasOwnProperty:T6}=Object.prototype;class Ro{constructor(t=!0,n=E6){this.weakness=t,this.makeData=n}lookup(){return this.lookupArray(arguments)}lookupArray(t){let n=this;return w6.call(t,r=>n=n.getChildTrie(r)),T6.call(n,"data")?n.data:n.data=this.makeData(ab.call(t))}peek(){return this.peekArray(arguments)}peekArray(t){let n=this;for(let r=0,i=t.length;n&&r<i;++r){const o=n.mapFor(t[r],!1);n=o&&o.get(t[r])}return n&&n.data}remove(){return this.removeArray(arguments)}removeArray(t){let n;if(t.length){const r=t[0],i=this.mapFor(r,!1),o=i&&i.get(r);o&&(n=o.removeArray(ab.call(t,1)),!o.data&&!o.weak&&!(o.strong&&o.strong.size)&&i.delete(r))}else n=this.data,delete this.data;return n}getChildTrie(t){const n=this.mapFor(t,!0);let r=n.get(t);return r||n.set(t,r=new Ro(this.weakness,this.makeData)),r}mapFor(t,n){return this.weakness&&_6(t)?this.weak||(n?this.weak=new WeakMap:void 0):this.strong||(n?this.strong=new Map:void 0)}}function _6(e){switch(typeof e){case"object":if(e===null)break;case"function":return!0}return!1}var wI=ni(function(){return navigator.product})=="ReactNative",Ca=typeof WeakMap=="function"&&!(wI&&!global.HermesInternal),bw=typeof WeakSet=="function",xw=typeof Symbol=="function"&&typeof Symbol.for=="function",nm=xw&&Symbol.asyncIterator,N6=typeof ni(function(){return window.document.createElement})=="function",b6=ni(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1,x6=(N6||wI)&&!b6;function Yt(e){return e!==null&&typeof e=="object"}function R6(e,t){var n=t,r=[];e.definitions.forEach(function(o){if(o.kind==="OperationDefinition")throw Qn(85,o.operation,o.name?" named '".concat(o.name.value,"'"):"");o.kind==="FragmentDefinition"&&r.push(o)}),typeof n>"u"&&(Oe(r.length===1,86,r.length),n=r[0].name.value);var i=ie(ie({},e),{definitions:Mn([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions,!0)});return i}function gl(e){e===void 0&&(e=[]);var t={};return e.forEach(function(n){t[n.name.value]=n}),t}function rm(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":{var n=e.name.value;if(typeof t=="function")return t(n);var r=t&&t[n];return Oe(r,87,n),r||null}default:return null}}function S6(e){var t=!0;return Tr(e,{FragmentSpread:function(n){if(t=!!n.directives&&n.directives.some(function(r){return r.name.value==="unmask"}),!t)return cs}}),t}function A6(){}class xy{constructor(t=1/0,n=A6){this.max=t,this.dispose=n,this.map=new Map,this.newest=null,this.oldest=null}has(t){return this.map.has(t)}get(t){const n=this.getNode(t);return n&&n.value}get size(){return this.map.size}getNode(t){const n=this.map.get(t);if(n&&n!==this.newest){const{older:r,newer:i}=n;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n}set(t,n){let r=this.getNode(t);return r?r.value=n:(r={key:t,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(t,r),r.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(t){const n=this.map.get(t);return n?(n===this.newest&&(this.newest=n.older),n===this.oldest&&(this.oldest=n.newer),n.newer&&(n.newer.older=n.older),n.older&&(n.older.newer=n.newer),this.map.delete(t),this.dispose(n.value,t),!0):!1}}function Ry(){}const O6=Ry,I6=typeof WeakRef<"u"?WeakRef:function(e){return{deref:()=>e}},C6=typeof WeakMap<"u"?WeakMap:Map,k6=typeof FinalizationRegistry<"u"?FinalizationRegistry:function(){return{register:Ry,unregister:Ry}},M6=10024;class pp{constructor(t=1/0,n=O6){this.max=t,this.dispose=n,this.map=new C6,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const r=this.unfinalizedNodes.values();for(let i=0;i<M6;i++){const o=r.next().value;if(!o)break;this.unfinalizedNodes.delete(o);const s=o.key;delete o.key,o.keyRef=new I6(s),this.registry.register(s,o,o)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new k6(this.deleteNode.bind(this))}has(t){return this.map.has(t)}get(t){const n=this.getNode(t);return n&&n.value}getNode(t){const n=this.map.get(t);if(n&&n!==this.newest){const{older:r,newer:i}=n;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n}set(t,n){let r=this.getNode(t);return r?r.value=n:(r={key:t,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.scheduleFinalization(r),this.map.set(t,r),this.size++,r.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(t){t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.size--;const n=t.key||t.keyRef&&t.keyRef.deref();this.dispose(t.value,n),t.keyRef?this.registry.unregister(t):this.unfinalizedNodes.delete(t),n&&this.map.delete(n)}delete(t){const n=this.map.get(t);return n?(this.deleteNode(n),!0):!1}scheduleFinalization(t){this.unfinalizedNodes.add(t),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}var jv=new WeakSet;function TI(e){e.size<=(e.max||-1)||jv.has(e)||(jv.add(e),setTimeout(function(){e.clean(),jv.delete(e)},100))}var Rw=function(e,t){var n=new pp(e,t);return n.set=function(r,i){var o=pp.prototype.set.call(this,r,i);return TI(this),o},n},P6=function(e,t){var n=new xy(e,t);return n.set=function(r,i){var o=xy.prototype.set.call(this,r,i);return TI(this),o},n},L6=Symbol.for("apollo.cacheSize"),$i=ie({},my[L6]),Zs={};function Sw(e,t){Zs[e]=t}var D6=globalThis.__DEV__!==!1?$6:void 0,F6=globalThis.__DEV__!==!1?V6:void 0,U6=globalThis.__DEV__!==!1?_I:void 0;function B6(){var e={parser:1e3,canonicalStringify:1e3,print:2e3,"documentTransform.cache":2e3,"queryManager.getDocumentInfo":2e3,"PersistedQueryLink.persistedQueryHashes":2e3,"fragmentRegistry.transform":2e3,"fragmentRegistry.lookup":1e3,"fragmentRegistry.findFragmentSpreads":4e3,"cache.fragmentQueryDocuments":1e3,"removeTypenameFromVariables.getVariableDefinitions":2e3,"inMemoryCache.maybeBroadcastWatch":5e3,"inMemoryCache.executeSelectionSet":5e4,"inMemoryCache.executeSubSelectedArray":1e4};return Object.fromEntries(Object.entries(e).map(function(t){var n=t[0],r=t[1];return[n,$i[n]||r]}))}function $6(){var e,t,n,r,i;if(globalThis.__DEV__===!1)throw new Error("only supported in development mode");return{limits:B6(),sizes:ie({print:(e=Zs.print)===null||e===void 0?void 0:e.call(Zs),parser:(t=Zs.parser)===null||t===void 0?void 0:t.call(Zs),canonicalStringify:(n=Zs.canonicalStringify)===null||n===void 0?void 0:n.call(Zs),links:Ay(this.link),queryManager:{getDocumentInfo:this.queryManager.transformCache.size,documentTransforms:bI(this.queryManager.documentTransform)}},(i=(r=this.cache).getMemoryInternals)===null||i===void 0?void 0:i.call(r))}}function _I(){return{cache:{fragmentQueryDocuments:rs(this.getFragmentDoc)}}}function V6(){var e=this.config.fragments;return ie(ie({},_I.apply(this)),{addTypenameDocumentTransform:bI(this.addTypenameTransform),inMemoryCache:{executeSelectionSet:rs(this.storeReader.executeSelectionSet),executeSubSelectedArray:rs(this.storeReader.executeSubSelectedArray),maybeBroadcastWatch:rs(this.maybeBroadcastWatch)},fragmentRegistry:{findFragmentSpreads:rs(e==null?void 0:e.findFragmentSpreads),lookup:rs(e==null?void 0:e.lookup),transform:rs(e==null?void 0:e.transform)}})}function j6(e){return!!e&&"dirtyKey"in e}function rs(e){return j6(e)?e.size:void 0}function NI(e){return e!=null}function bI(e){return Sy(e).map(function(t){return{cache:t}})}function Sy(e){return e?Mn(Mn([rs(e==null?void 0:e.performWork)],Sy(e==null?void 0:e.left),!0),Sy(e==null?void 0:e.right),!0).filter(NI):[]}function Ay(e){var t;return e?Mn(Mn([(t=e==null?void 0:e.getMemoryInternals)===null||t===void 0?void 0:t.call(e)],Ay(e==null?void 0:e.left),!0),Ay(e==null?void 0:e.right),!0).filter(NI):[]}var ds=Object.assign(function(t){return JSON.stringify(t,z6)},{reset:function(){ku=new P6($i.canonicalStringify||1e3)}});globalThis.__DEV__!==!1&&Sw("canonicalStringify",function(){return ku.size});var ku;ds.reset();function z6(e,t){if(t&&typeof t=="object"){var n=Object.getPrototypeOf(t);if(n===Object.prototype||n===null){var r=Object.keys(t);if(r.every(q6))return t;var i=JSON.stringify(r),o=ku.get(i);if(!o){r.sort();var s=JSON.stringify(r);o=ku.get(s)||r,ku.set(i,o),ku.set(s,o)}var c=Object.create(n);return o.forEach(function(l){c[l]=t[l]}),c}}return t}function q6(e,t,n){return t===0||n[t-1]<=e}function $u(e){return{__ref:String(e)}}function Tt(e){return!!(e&&typeof e=="object"&&typeof e.__ref=="string")}function W6(e){return Yt(e)&&e.kind==="Document"&&Array.isArray(e.definitions)}function H6(e){return e.kind==="StringValue"}function G6(e){return e.kind==="BooleanValue"}function Y6(e){return e.kind==="IntValue"}function Q6(e){return e.kind==="FloatValue"}function K6(e){return e.kind==="Variable"}function X6(e){return e.kind==="ObjectValue"}function J6(e){return e.kind==="ListValue"}function Z6(e){return e.kind==="EnumValue"}function e9(e){return e.kind==="NullValue"}function Zu(e,t,n,r){if(Y6(n)||Q6(n))e[t.value]=Number(n.value);else if(G6(n)||H6(n))e[t.value]=n.value;else if(X6(n)){var i={};n.fields.map(function(s){return Zu(i,s.name,s.value,r)}),e[t.value]=i}else if(K6(n)){var o=(r||{})[n.name.value];e[t.value]=o}else if(J6(n))e[t.value]=n.values.map(function(s){var c={};return Zu(c,t,s,r),c[t.value]});else if(Z6(n))e[t.value]=n.value;else if(e9(n))e[t.value]=null;else throw Qn(96,t.value,n.kind)}function t9(e,t){var n=null;e.directives&&(n={},e.directives.forEach(function(i){n[i.name.value]={},i.arguments&&i.arguments.forEach(function(o){var s=o.name,c=o.value;return Zu(n[i.name.value],s,c,t)})}));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach(function(i){var o=i.name,s=i.value;return Zu(r,o,s,t)})),xI(e.name.value,r,n)}var n9=["connection","include","skip","client","rest","export","nonreactive"],sc=ds,xI=Object.assign(function(e,t,n){if(t&&n&&n.connection&&n.connection.key)if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach(function(c){i[c]=t[c]}),"".concat(n.connection.key,"(").concat(sc(i),")")}else return n.connection.key;var o=e;if(t){var s=sc(t);o+="(".concat(s,")")}return n&&Object.keys(n).forEach(function(c){n9.indexOf(c)===-1&&(n[c]&&Object.keys(n[c]).length?o+="@".concat(c,"(").concat(sc(n[c]),")"):o+="@".concat(c))}),o},{setStringify:function(e){var t=sc;return sc=e,t}});function im(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach(function(r){var i=r.name,o=r.value;return Zu(n,i,o,t)}),n}return null}function yo(e){return e.alias?e.alias.value:e.name.value}function Oy(e,t,n){for(var r,i=0,o=t.selections;i<o.length;i++){var s=o[i];if(Ts(s)){if(s.name.value==="__typename")return e[yo(s)]}else r?r.push(s):r=[s]}if(typeof e.__typename=="string")return e.__typename;if(r)for(var c=0,l=r;c<l.length;c++){var s=l[c],u=Oy(e,rm(s,n).selectionSet,n);if(typeof u=="string")return u}}function Ts(e){return e.kind==="Field"}function r9(e){return e.kind==="InlineFragment"}function vl(e){Oe(e&&e.kind==="Document",88);var t=e.definitions.filter(function(n){return n.kind!=="FragmentDefinition"}).map(function(n){if(n.kind!=="OperationDefinition")throw Qn(89,n.kind);return n});return Oe(t.length<=1,90,t.length),e}function ba(e){return vl(e),e.definitions.filter(function(t){return t.kind==="OperationDefinition"})[0]}function xc(e){return e.definitions.filter(function(t){return t.kind==="OperationDefinition"&&!!t.name}).map(function(t){return t.name.value})[0]||null}function yl(e){return e.definitions.filter(function(t){return t.kind==="FragmentDefinition"})}function RI(e){var t=ba(e);return Oe(t&&t.operation==="query",91),t}function SI(e){Oe(e.kind==="Document",92),Oe(e.definitions.length<=1,93);var t=e.definitions[0];return Oe(t.kind==="FragmentDefinition",94),t}function Tf(e){vl(e);for(var t,n=0,r=e.definitions;n<r.length;n++){var i=r[n];if(i.kind==="OperationDefinition"){var o=i.operation;if(o==="query"||o==="mutation"||o==="subscription")return i}i.kind==="FragmentDefinition"&&!t&&(t=i)}if(t)return t;throw Qn(95)}function Aw(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach(function(r){r.defaultValue&&Zu(t,r.variable.name,r.defaultValue)}),t}let In=null;const ub={};let i9=1;const o9=()=>class{constructor(){this.id=["slot",i9++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let t=In;t;t=t.parent)if(this.id in t.slots){const n=t.slots[this.id];if(n===ub)break;return t!==In&&(In.slots[this.id]=n),!0}return In&&(In.slots[this.id]=ub),!1}getValue(){if(this.hasValue())return In.slots[this.id]}withValue(t,n,r,i){const o={__proto__:null,[this.id]:t},s=In;In={parent:s,slots:o};try{return n.apply(i,r)}finally{In=s}}static bind(t){const n=In;return function(){const r=In;try{return In=n,t.apply(this,arguments)}finally{In=r}}}static noContext(t,n,r){if(In){const i=In;try{return In=null,t.apply(r,n)}finally{In=i}}else return t.apply(r,n)}};function lb(e){try{return e()}catch{}}const zv="@wry/context:Slot",s9=lb(()=>globalThis)||lb(()=>global)||Object.create(null),cb=s9,om=cb[zv]||Array[zv]||function(e){try{Object.defineProperty(cb,zv,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(o9()),{bind:eee,noContext:tee}=om,sm=new om,{hasOwnProperty:a9}=Object.prototype,Ow=Array.from||function(e){const t=[];return e.forEach(n=>t.push(n)),t};function Iw(e){const{unsubscribe:t}=e;typeof t=="function"&&(e.unsubscribe=void 0,t())}const Jc=[],u9=100;function el(e,t){if(!e)throw new Error(t||"assertion failure")}function AI(e,t){const n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}function OI(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}function II(e){return e.slice(0)}class am{constructor(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++am.count}peek(){if(this.value.length===1&&!_s(this))return fb(this),this.value[0]}recompute(t){return el(!this.recomputing,"already recomputing"),fb(this),_s(this)?l9(this,t):OI(this.value)}setDirty(){this.dirty||(this.dirty=!0,CI(this),Iw(this))}dispose(){this.setDirty(),DI(this),Cw(this,(t,n)=>{t.setDirty(),FI(t,this)})}forget(){this.dispose()}dependOn(t){t.add(this),this.deps||(this.deps=Jc.pop()||new Set),this.deps.add(t)}forgetDeps(){this.deps&&(Ow(this.deps).forEach(t=>t.delete(this)),this.deps.clear(),Jc.push(this.deps),this.deps=null)}}am.count=0;function fb(e){const t=sm.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),_s(e)?MI(t,e):PI(t,e),t}function l9(e,t){return DI(e),sm.withValue(e,c9,[e,t]),d9(e,t)&&f9(e),OI(e.value)}function c9(e,t){e.recomputing=!0;const{normalizeResult:n}=e;let r;n&&e.value.length===1&&(r=II(e.value)),e.value.length=0;try{if(e.value[0]=e.fn.apply(null,t),n&&r&&!AI(r,e.value))try{e.value[0]=n(e.value[0],r[0])}catch{}}catch(i){e.value[1]=i}e.recomputing=!1}function _s(e){return e.dirty||!!(e.dirtyChildren&&e.dirtyChildren.size)}function f9(e){e.dirty=!1,!_s(e)&&kI(e)}function CI(e){Cw(e,MI)}function kI(e){Cw(e,PI)}function Cw(e,t){const n=e.parents.size;if(n){const r=Ow(e.parents);for(let i=0;i<n;++i)t(r[i],e)}}function MI(e,t){el(e.childValues.has(t)),el(_s(t));const n=!_s(e);if(!e.dirtyChildren)e.dirtyChildren=Jc.pop()||new Set;else if(e.dirtyChildren.has(t))return;e.dirtyChildren.add(t),n&&CI(e)}function PI(e,t){el(e.childValues.has(t)),el(!_s(t));const n=e.childValues.get(t);n.length===0?e.childValues.set(t,II(t.value)):AI(n,t.value)||e.setDirty(),LI(e,t),!_s(e)&&kI(e)}function LI(e,t){const n=e.dirtyChildren;n&&(n.delete(t),n.size===0&&(Jc.length<u9&&Jc.push(n),e.dirtyChildren=null))}function DI(e){e.childValues.size>0&&e.childValues.forEach((t,n)=>{FI(e,n)}),e.forgetDeps(),el(e.dirtyChildren===null)}function FI(e,t){t.parents.delete(e),e.childValues.delete(t),LI(e,t)}function d9(e,t){if(typeof e.subscribe=="function")try{Iw(e),e.unsubscribe=e.subscribe.apply(null,t)}catch{return e.setDirty(),!1}return!0}const h9={setDirty:!0,dispose:!0,forget:!0};function UI(e){const t=new Map;function n(r){const i=sm.getValue();if(i){let o=t.get(r);o||t.set(r,o=new Set),i.dependOn(o)}}return n.dirty=function(i,o){const s=t.get(i);if(s){const c=o&&a9.call(h9,o)?o:"setDirty";Ow(s).forEach(l=>l[c]()),t.delete(i),Iw(s)}},n}let db;function p9(...e){return(db||(db=new Ro(typeof WeakMap=="function"))).lookupArray(e)}const qv=new Set;function Zc(e,{max:t=Math.pow(2,16),keyArgs:n,makeCacheKey:r=p9,normalizeResult:i,subscribe:o,cache:s=xy}=Object.create(null)){const c=typeof s=="function"?new s(t,h=>h.dispose()):s,l=function(){const h=r.apply(null,n?n.apply(null,arguments):arguments);if(h===void 0)return e.apply(null,arguments);let m=c.get(h);m||(c.set(h,m=new am(e)),m.normalizeResult=i,m.subscribe=o,m.forget=()=>c.delete(h));const y=m.recompute(Array.prototype.slice.call(arguments));return c.set(h,m),qv.add(c),sm.hasValue()||(qv.forEach(g=>g.clean()),qv.clear()),y};Object.defineProperty(l,"size",{get:()=>c.size,configurable:!1,enumerable:!1}),Object.freeze(l.options={max:t,keyArgs:n,makeCacheKey:r,normalizeResult:i,subscribe:o,cache:c});function u(h){const m=h&&c.get(h);m&&m.setDirty()}l.dirtyKey=u,l.dirty=function(){u(r.apply(null,arguments))};function a(h){const m=h&&c.get(h);if(m)return m.peek()}l.peekKey=a,l.peek=function(){return a(r.apply(null,arguments))};function d(h){return h?c.delete(h):!1}return l.forgetKey=d,l.forget=function(){return d(r.apply(null,arguments))},l.makeCacheKey=r,l.getKey=n?function(){return r.apply(null,n.apply(null,arguments))}:r,Object.freeze(l)}function m9(e){return e}var BI=function(){function e(t,n){n===void 0&&(n=Object.create(null)),this.resultCache=bw?new WeakSet:new Set,this.transform=t,n.getCacheKey&&(this.getCacheKey=n.getCacheKey),this.cached=n.cache!==!1,this.resetCache()}return e.prototype.getCacheKey=function(t){return[t]},e.identity=function(){return new e(m9,{cache:!1})},e.split=function(t,n,r){return r===void 0&&(r=e.identity()),Object.assign(new e(function(i){var o=t(i)?n:r;return o.transformDocument(i)},{cache:!1}),{left:n,right:r})},e.prototype.resetCache=function(){var t=this;if(this.cached){var n=new Ro(Ca);this.performWork=Zc(e.prototype.performWork.bind(this),{makeCacheKey:function(r){var i=t.getCacheKey(r);if(i)return Oe(Array.isArray(i),77),n.lookupArray(i)},max:$i["documentTransform.cache"],cache:pp})}},e.prototype.performWork=function(t){return vl(t),this.transform(t)},e.prototype.transformDocument=function(t){if(this.resultCache.has(t))return t;var n=this.performWork(t);return this.resultCache.add(n),n},e.prototype.concat=function(t){var n=this;return Object.assign(new e(function(r){return t.transformDocument(n.transformDocument(r))},{cache:!1}),{left:this,right:t})},e}(),Lc,sa=Object.assign(function(e){var t=Lc.get(e);return t||(t=un(e),Lc.set(e,t)),t},{reset:function(){Lc=new Rw($i.print||2e3)}});sa.reset();globalThis.__DEV__!==!1&&Sw("print",function(){return Lc?Lc.size:0});var Qt=Array.isArray;function Ur(e){return Array.isArray(e)&&e.length>0}var hb={kind:B.FIELD,name:{kind:B.NAME,value:"__typename"}};function $I(e,t){return!e||e.selectionSet.selections.every(function(n){return n.kind===B.FRAGMENT_SPREAD&&$I(t[n.name.value],t)})}function g9(e){return $I(ba(e)||SI(e),gl(yl(e)))?null:e}function v9(e){var t=new Map,n=new Map;return e.forEach(function(r){r&&(r.name?t.set(r.name,r):r.test&&n.set(r.test,r))}),function(r){var i=t.get(r.name.value);return!i&&n.size&&n.forEach(function(o,s){s(r)&&(i=o)}),i}}function pb(e){var t=new Map;return function(r){r===void 0&&(r=e);var i=t.get(r);return i||t.set(r,i={variables:new Set,fragmentSpreads:new Set}),i}}function VI(e,t){vl(t);for(var n=pb(""),r=pb(""),i=function(w){for(var T=0,N=void 0;T<w.length&&(N=w[T]);++T)if(!Qt(N)){if(N.kind===B.OPERATION_DEFINITION)return n(N.name&&N.name.value);if(N.kind===B.FRAGMENT_DEFINITION)return r(N.name.value)}return globalThis.__DEV__!==!1&&Oe.error(97),null},o=0,s=t.definitions.length-1;s>=0;--s)t.definitions[s].kind===B.OPERATION_DEFINITION&&++o;var c=v9(e),l=function(w){return Ur(w)&&w.map(c).some(function(T){return T&&T.remove})},u=new Map,a=!1,d={enter:function(w){if(l(w.directives))return a=!0,null}},h=Tr(t,{Field:d,InlineFragment:d,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(w,T,N,b,S){var x=i(S);x&&x.variables.add(w.name.value)}},FragmentSpread:{enter:function(w,T,N,b,S){if(l(w.directives))return a=!0,null;var x=i(S);x&&x.fragmentSpreads.add(w.name.value)}},FragmentDefinition:{enter:function(w,T,N,b){u.set(JSON.stringify(b),w)},leave:function(w,T,N,b){var S=u.get(JSON.stringify(b));if(w===S)return w;if(o>0&&w.selectionSet.selections.every(function(x){return x.kind===B.FIELD&&x.name.value==="__typename"}))return r(w.name.value).removed=!0,a=!0,null}},Directive:{leave:function(w){if(c(w))return a=!0,null}}});if(!a)return t;var m=function(w){return w.transitiveVars||(w.transitiveVars=new Set(w.variables),w.removed||w.fragmentSpreads.forEach(function(T){m(r(T)).transitiveVars.forEach(function(N){w.transitiveVars.add(N)})})),w},y=new Set;h.definitions.forEach(function(w){w.kind===B.OPERATION_DEFINITION?m(n(w.name&&w.name.value)).fragmentSpreads.forEach(function(T){y.add(T)}):w.kind===B.FRAGMENT_DEFINITION&&o===0&&!r(w.name.value).removed&&y.add(w.name.value)}),y.forEach(function(w){m(r(w)).fragmentSpreads.forEach(function(T){y.add(T)})});var g=function(w){return!!(!y.has(w)||r(w).removed)},v={enter:function(w){if(g(w.name.value))return null}};return g9(Tr(h,{FragmentSpread:v,FragmentDefinition:v,OperationDefinition:{leave:function(w){if(w.variableDefinitions){var T=m(n(w.name&&w.name.value)).transitiveVars;if(T.size<w.variableDefinitions.length)return ie(ie({},w),{variableDefinitions:w.variableDefinitions.filter(function(N){return T.has(N.variable.name.value)})})}}}}))}var kw=Object.assign(function(e){return Tr(e,{SelectionSet:{enter:function(t,n,r){if(!(r&&r.kind===B.OPERATION_DEFINITION)){var i=t.selections;if(i){var o=i.some(function(c){return Ts(c)&&(c.name.value==="__typename"||c.name.value.lastIndexOf("__",0)===0)});if(!o){var s=r;if(!(Ts(s)&&s.directives&&s.directives.some(function(c){return c.name.value==="export"})))return ie(ie({},t),{selections:Mn(Mn([],i,!0),[hb],!1)})}}}}}})},{added:function(e){return e===hb}});function y9(e){var t=Tf(e),n=t.operation;if(n==="query")return e;var r=Tr(e,{OperationDefinition:{enter:function(i){return ie(ie({},i),{operation:"query"})}}});return r}function jI(e){vl(e);var t=VI([{test:function(n){return n.name.value==="client"},remove:!0}],e);return t}function E9(e){return vl(e),Tr(e,{FragmentSpread:function(t){var n;if(!(!((n=t.directives)===null||n===void 0)&&n.some(function(r){return r.name.value==="unmask"})))return ie(ie({},t),{directives:Mn(Mn([],t.directives||[],!0),[{kind:B.DIRECTIVE,name:{kind:B.NAME,value:"nonreactive"}}],!1)})}})}var w9=Object.prototype.hasOwnProperty;function mb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return um(e)}function um(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new Ns,i=1;i<n;++i)t=r.merge(t,e[i]);return t}var T9=function(e,t,n){return this.merge(e[n],t[n])},Ns=function(){function e(t){t===void 0&&(t=T9),this.reconciler=t,this.isObject=Yt,this.pastCopies=new Set}return e.prototype.merge=function(t,n){for(var r=this,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return Yt(n)&&Yt(t)?(Object.keys(n).forEach(function(s){if(w9.call(t,s)){var c=t[s];if(n[s]!==c){var l=r.reconciler.apply(r,Mn([t,n,s],i,!1));l!==c&&(t=r.shallowCopyForMerge(t),t[s]=l)}}else t=r.shallowCopyForMerge(t),t[s]=n[s]}),t):n},e.prototype.shallowCopyForMerge=function(t){return Yt(t)&&(this.pastCopies.has(t)||(Array.isArray(t)?t=t.slice(0):t=ie({__proto__:Object.getPrototypeOf(t)},t),this.pastCopies.add(t))),t},e}();function _9(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=N9(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N9(e,t){if(e){if(typeof e=="string")return gb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gb(e,t)}}function gb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mw(e,t,n){return t&&vb(e.prototype,t),n&&vb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Pw=function(){return typeof Symbol=="function"},Lw=function(e){return Pw()&&!!Symbol[e]},Dw=function(e){return Lw(e)?Symbol[e]:"@@"+e};Pw()&&!Lw("observable")&&(Symbol.observable=Symbol("observable"));var b9=Dw("iterator"),Iy=Dw("observable"),zI=Dw("species");function mp(e,t){var n=e[t];if(n!=null){if(typeof n!="function")throw new TypeError(n+" is not a function");return n}}function ac(e){var t=e.constructor;return t!==void 0&&(t=t[zI],t===null&&(t=void 0)),t!==void 0?t:St}function x9(e){return e instanceof St}function tl(e){tl.log?tl.log(e):setTimeout(function(){throw e})}function Dh(e){Promise.resolve().then(function(){try{e()}catch(t){tl(t)}})}function qI(e){var t=e._cleanup;if(t!==void 0&&(e._cleanup=void 0,!!t))try{if(typeof t=="function")t();else{var n=mp(t,"unsubscribe");n&&n.call(t)}}catch(r){tl(r)}}function Cy(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function R9(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(WI(e,t[n].type,t[n].value),e._state!=="closed");++n);}}function WI(e,t,n){e._state="running";var r=e._observer;try{var i=mp(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(Cy(e),i)i.call(r,n);else throw n;break;case"complete":Cy(e),i&&i.call(r);break}}catch(o){tl(o)}e._state==="closed"?qI(e):e._state==="running"&&(e._state="ready")}function Wv(e,t,n){if(e._state!=="closed"){if(e._state==="buffering"){e._queue.push({type:t,value:n});return}if(e._state!=="ready"){e._state="buffering",e._queue=[{type:t,value:n}],Dh(function(){return R9(e)});return}WI(e,t,n)}}var S9=function(){function e(n,r){this._cleanup=void 0,this._observer=n,this._queue=void 0,this._state="initializing";var i=new A9(this);try{this._cleanup=r.call(void 0,i)}catch(o){i.error(o)}this._state==="initializing"&&(this._state="ready")}var t=e.prototype;return t.unsubscribe=function(){this._state!=="closed"&&(Cy(this),qI(this))},Mw(e,[{key:"closed",get:function(){return this._state==="closed"}}]),e}(),A9=function(){function e(n){this._subscription=n}var t=e.prototype;return t.next=function(r){Wv(this._subscription,"next",r)},t.error=function(r){Wv(this._subscription,"error",r)},t.complete=function(){Wv(this._subscription,"complete")},Mw(e,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),e}(),St=function(){function e(n){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if(typeof n!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=n}var t=e.prototype;return t.subscribe=function(r){return(typeof r!="object"||r===null)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new S9(r,this._subscriber)},t.forEach=function(r){var i=this;return new Promise(function(o,s){if(typeof r!="function"){s(new TypeError(r+" is not a function"));return}function c(){l.unsubscribe(),o()}var l=i.subscribe({next:function(u){try{r(u,c)}catch(a){s(a),l.unsubscribe()}},error:s,complete:o})})},t.map=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var o=ac(this);return new o(function(s){return i.subscribe({next:function(c){try{c=r(c)}catch(l){return s.error(l)}s.next(c)},error:function(c){s.error(c)},complete:function(){s.complete()}})})},t.filter=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var o=ac(this);return new o(function(s){return i.subscribe({next:function(c){try{if(!r(c))return}catch(l){return s.error(l)}s.next(c)},error:function(c){s.error(c)},complete:function(){s.complete()}})})},t.reduce=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var o=ac(this),s=arguments.length>1,c=!1,l=arguments[1],u=l;return new o(function(a){return i.subscribe({next:function(d){var h=!c;if(c=!0,!h||s)try{u=r(u,d)}catch(m){return a.error(m)}else u=d},error:function(d){a.error(d)},complete:function(){if(!c&&!s)return a.error(new TypeError("Cannot reduce an empty sequence"));a.next(u),a.complete()}})})},t.concat=function(){for(var r=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var c=ac(this);return new c(function(l){var u,a=0;function d(h){u=h.subscribe({next:function(m){l.next(m)},error:function(m){l.error(m)},complete:function(){a===o.length?(u=void 0,l.complete()):d(c.from(o[a++]))}})}return d(r),function(){u&&(u.unsubscribe(),u=void 0)}})},t.flatMap=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var o=ac(this);return new o(function(s){var c=[],l=i.subscribe({next:function(a){if(r)try{a=r(a)}catch(h){return s.error(h)}var d=o.from(a).subscribe({next:function(h){s.next(h)},error:function(h){s.error(h)},complete:function(){var h=c.indexOf(d);h>=0&&c.splice(h,1),u()}});c.push(d)},error:function(a){s.error(a)},complete:function(){u()}});function u(){l.closed&&c.length===0&&s.complete()}return function(){c.forEach(function(a){return a.unsubscribe()}),l.unsubscribe()}})},t[Iy]=function(){return this},e.from=function(r){var i=typeof this=="function"?this:e;if(r==null)throw new TypeError(r+" is not an object");var o=mp(r,Iy);if(o){var s=o.call(r);if(Object(s)!==s)throw new TypeError(s+" is not an object");return x9(s)&&s.constructor===i?s:new i(function(c){return s.subscribe(c)})}if(Lw("iterator")&&(o=mp(r,b9),o))return new i(function(c){Dh(function(){if(!c.closed){for(var l=_9(o.call(r)),u;!(u=l()).done;){var a=u.value;if(c.next(a),c.closed)return}c.complete()}})});if(Array.isArray(r))return new i(function(c){Dh(function(){if(!c.closed){for(var l=0;l<r.length;++l)if(c.next(r[l]),c.closed)return;c.complete()}})});throw new TypeError(r+" is not observable")},e.of=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=typeof this=="function"?this:e;return new s(function(c){Dh(function(){if(!c.closed){for(var l=0;l<i.length;++l)if(c.next(i[l]),c.closed)return;c.complete()}})})},Mw(e,null,[{key:zI,get:function(){return this}}]),e}();Pw()&&Object.defineProperty(St,Symbol("extensions"),{value:{symbol:Iy,hostReportError:tl},configurable:!0});function O9(e){var t,n=e.Symbol;if(typeof n=="function")if(n.observable)t=n.observable;else{typeof n.for=="function"?t=n.for("https://github.com/benlesh/symbol-observable"):t=n("https://github.com/benlesh/symbol-observable");try{n.observable=t}catch{}}else t="@@observable";return t}var Ou;typeof self<"u"?Ou=self:typeof window<"u"?Ou=window:typeof global<"u"?Ou=global:typeof module<"u"?Ou=module:Ou=Function("return this")();O9(Ou);var yb=St.prototype,Eb="@@observable";yb[Eb]||(yb[Eb]=function(){return this});function I9(e){return e.catch(function(){}),e}var C9=Object.prototype.toString;function HI(e){return ky(e)}function ky(e,t){switch(C9.call(e)){case"[object Array]":{if(t=t||new Map,t.has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach(function(i,o){n[o]=ky(i,t)}),n}case"[object Object]":{if(t=t||new Map,t.has(e))return t.get(e);var r=Object.create(Object.getPrototypeOf(e));return t.set(e,r),Object.keys(e).forEach(function(i){r[i]=ky(e[i],t)}),r}default:return e}}function k9(e){var t=new Set([e]);return t.forEach(function(n){Yt(n)&&M9(n)===n&&Object.getOwnPropertyNames(n).forEach(function(r){Yt(n[r])&&t.add(n[r])})}),e}function M9(e){if(globalThis.__DEV__!==!1&&!Object.isFrozen(e))try{Object.freeze(e)}catch(t){if(t instanceof TypeError)return null;throw t}return e}function nl(e){return globalThis.__DEV__!==!1&&k9(e),e}function Dc(e,t,n){var r=[];e.forEach(function(i){return i[t]&&r.push(i)}),r.forEach(function(i){return i[t](n)})}function Hv(e,t,n){return new St(function(r){var i={then:function(l){return new Promise(function(u){return u(l())})}};function o(l,u){return function(a){if(l){var d=function(){return r.closed?0:l(a)};i=i.then(d,d).then(function(h){return r.next(h)},function(h){return r.error(h)})}else r[u](a)}}var s={next:o(t,"next"),error:o(n,"error"),complete:function(){i.then(function(){return r.complete()})}},c=e.subscribe(s);return function(){return c.unsubscribe()}})}function GI(e){function t(n){Object.defineProperty(e,n,{value:St})}return xw&&Symbol.species&&t(Symbol.species),t("@@species"),e}function wb(e){return e&&typeof e.then=="function"}var Iu=function(e){zi(t,e);function t(n){var r=e.call(this,function(i){return r.addObserver(i),function(){return r.removeObserver(i)}})||this;return r.observers=new Set,r.promise=new Promise(function(i,o){r.resolve=i,r.reject=o}),r.handlers={next:function(i){r.sub!==null&&(r.latest=["next",i],r.notify("next",i),Dc(r.observers,"next",i))},error:function(i){var o=r.sub;o!==null&&(o&&setTimeout(function(){return o.unsubscribe()}),r.sub=null,r.latest=["error",i],r.reject(i),r.notify("error",i),Dc(r.observers,"error",i))},complete:function(){var i=r,o=i.sub,s=i.sources,c=s===void 0?[]:s;if(o!==null){var l=c.shift();l?wb(l)?l.then(function(u){return r.sub=u.subscribe(r.handlers)},r.handlers.error):r.sub=l.subscribe(r.handlers):(o&&setTimeout(function(){return o.unsubscribe()}),r.sub=null,r.latest&&r.latest[0]==="next"?r.resolve(r.latest[1]):r.resolve(),r.notify("complete"),Dc(r.observers,"complete"))}}},r.nextResultListeners=new Set,r.cancel=function(i){r.reject(i),r.sources=[],r.handlers.error(i)},r.promise.catch(function(i){}),typeof n=="function"&&(n=[new St(n)]),wb(n)?n.then(function(i){return r.start(i)},r.handlers.error):r.start(n),r}return t.prototype.start=function(n){this.sub===void 0&&(this.sources=Array.from(n),this.handlers.complete())},t.prototype.deliverLastMessage=function(n){if(this.latest){var r=this.latest[0],i=n[r];i&&i.call(n,this.latest[1]),this.sub===null&&r==="next"&&n.complete&&n.complete()}},t.prototype.addObserver=function(n){this.observers.has(n)||(this.deliverLastMessage(n),this.observers.add(n))},t.prototype.removeObserver=function(n){this.observers.delete(n)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(n,r){var i=this.nextResultListeners;i.size&&(this.nextResultListeners=new Set,i.forEach(function(o){return o(n,r)}))},t.prototype.beforeNext=function(n){var r=!1;this.nextResultListeners.add(function(i,o){r||(r=!0,n(i,o))})},t}(St);GI(Iu);function Vu(e){return"incremental"in e}function P9(e){return"hasNext"in e&&"data"in e}function L9(e){return Vu(e)||P9(e)}function D9(e){return Yt(e)&&"payload"in e}function YI(e,t){var n=e,r=new Ns;return Vu(t)&&Ur(t.incremental)&&t.incremental.forEach(function(i){for(var o=i.data,s=i.path,c=s.length-1;c>=0;--c){var l=s[c],u=!isNaN(+l),a=u?[]:{};a[l]=o,o=a}n=r.merge(n,o)}),n}function Fh(e){var t=My(e);return Ur(t)}function My(e){var t=Ur(e.errors)?e.errors.slice(0):[];return Vu(e)&&Ur(e.incremental)&&e.incremental.forEach(function(n){n.errors&&t.push.apply(t,n.errors)}),t}function xa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach(function(r){r&&Object.keys(r).forEach(function(i){var o=r[i];o!==void 0&&(n[i]=o)})}),n}function Uh(e,t){return xa(e,t,t.variables&&{variables:xa(ie(ie({},e&&e.variables),t.variables))})}function Gv(e){return new St(function(t){t.error(e)})}var QI=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r};function F9(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(t.indexOf(i)<0)throw Qn(46,i)}return e}function U9(e,t){var n=ie({},e),r=function(o){typeof o=="function"?n=ie(ie({},n),o(n)):n=ie(ie({},n),o)},i=function(){return ie({},n)};return Object.defineProperty(t,"setContext",{enumerable:!1,value:r}),Object.defineProperty(t,"getContext",{enumerable:!1,value:i}),t}function B9(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName=typeof t.query!="string"?xc(t.query)||void 0:""),t}function $9(e,t){var n=ie({},e),r=new Set(Object.keys(e));return Tr(t,{Variable:function(i,o,s){s&&s.kind!=="VariableDefinition"&&r.delete(i.name.value)}}),r.forEach(function(i){delete n[i]}),n}function Tb(e,t){return t?t(e):St.of()}function uc(e){return typeof e=="function"?new ka(e):e}function fh(e){return e.request.length<=1}var ka=function(){function e(t){t&&(this.request=t)}return e.empty=function(){return new e(function(){return St.of()})},e.from=function(t){return t.length===0?e.empty():t.map(uc).reduce(function(n,r){return n.concat(r)})},e.split=function(t,n,r){var i=uc(n),o=uc(r||new e(Tb)),s;return fh(i)&&fh(o)?s=new e(function(c){return t(c)?i.request(c)||St.of():o.request(c)||St.of()}):s=new e(function(c,l){return t(c)?i.request(c,l)||St.of():o.request(c,l)||St.of()}),Object.assign(s,{left:i,right:o})},e.execute=function(t,n){return t.request(U9(n.context,B9(F9(n))))||St.of()},e.concat=function(t,n){var r=uc(t);if(fh(r))return globalThis.__DEV__!==!1&&Oe.warn(38,r),r;var i=uc(n),o;return fh(i)?o=new e(function(s){return r.request(s,function(c){return i.request(c)||St.of()})||St.of()}):o=new e(function(s,c){return r.request(s,function(l){return i.request(l,c)||St.of()})||St.of()}),Object.assign(o,{left:r,right:i})},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(Tb)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(t,n){throw Qn(39)},e.prototype.onError=function(t,n){if(n&&n.error)return n.error(t),!1;throw t},e.prototype.setOnError=function(t){return this.onError=t,this},e}(),V9=ka.from,Py=ka.execute;function j9(e){var t,n=e[Symbol.asyncIterator]();return t={next:function(){return n.next()}},t[Symbol.asyncIterator]=function(){return this},t}function z9(e){var t=null,n=null,r=!1,i=[],o=[];function s(d){if(!n){if(o.length){var h=o.shift();if(Array.isArray(h)&&h[0])return h[0]({value:d,done:!1})}i.push(d)}}function c(d){n=d;var h=o.slice();h.forEach(function(m){m[1](d)}),!t||t()}function l(){r=!0;var d=o.slice();d.forEach(function(h){h[0]({value:void 0,done:!0})}),!t||t()}t=function(){t=null,e.removeListener("data",s),e.removeListener("error",c),e.removeListener("end",l),e.removeListener("finish",l),e.removeListener("close",l)},e.on("data",s),e.on("error",c),e.on("end",l),e.on("finish",l),e.on("close",l);function u(){return new Promise(function(d,h){if(n)return h(n);if(i.length)return d({value:i.shift(),done:!1});if(r)return d({value:void 0,done:!0});o.push([d,h])})}var a={next:function(){return u()}};return nm&&(a[Symbol.asyncIterator]=function(){return this}),a}function q9(e){var t=!1,n={next:function(){return t?Promise.resolve({value:void 0,done:!0}):(t=!0,new Promise(function(r,i){e.then(function(o){r({value:o,done:!1})}).catch(i)}))}};return nm&&(n[Symbol.asyncIterator]=function(){return this}),n}function _b(e){var t={next:function(){return e.read()}};return nm&&(t[Symbol.asyncIterator]=function(){return this}),t}function W9(e){return!!e.body}function H9(e){return!!e.getReader}function G9(e){return!!(nm&&e[Symbol.asyncIterator])}function Y9(e){return!!e.stream}function Q9(e){return!!e.arrayBuffer}function K9(e){return!!e.pipe}function X9(e){var t=e;if(W9(e)&&(t=e.body),G9(t))return j9(t);if(H9(t))return _b(t.getReader());if(Y9(t))return _b(t.stream().getReader());if(Q9(t))return q9(t.arrayBuffer());if(K9(t))return z9(t);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var Fw=Symbol();function J9(e){return e.extensions?Array.isArray(e.extensions[Fw]):!1}function KI(e){return e.hasOwnProperty("graphQLErrors")}var Z9=function(e){var t=Mn(Mn(Mn([],e.graphQLErrors,!0),e.clientErrors,!0),e.protocolErrors,!0);return e.networkError&&t.push(e.networkError),t.map(function(n){return Yt(n)&&n.message||"Error message not found."}).join(`
`)},oo=function(e){zi(t,e);function t(n){var r=n.graphQLErrors,i=n.protocolErrors,o=n.clientErrors,s=n.networkError,c=n.errorMessage,l=n.extraInfo,u=e.call(this,c)||this;return u.name="ApolloError",u.graphQLErrors=r||[],u.protocolErrors=i||[],u.clientErrors=o||[],u.networkError=s||null,u.message=c||Z9(u),u.extraInfo=l,u.cause=Mn(Mn(Mn([s],r||[],!0),i||[],!0),o||[],!0).find(function(a){return!!a})||null,u.__proto__=t.prototype,u}return t}(Error),Nb=Object.prototype.hasOwnProperty;function e7(e,t){return ts(this,void 0,void 0,function(){var n,r,i,o,s,c,l,u,a,d,h,m,y,g,v,w,T,N,b,S,x,O,M,U;return ns(this,function(z){switch(z.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");n=new TextDecoder("utf-8"),r=(U=e.headers)===null||U===void 0?void 0:U.get("content-type"),i="boundary=",o=r!=null&&r.includes(i)?r==null?void 0:r.substring((r==null?void 0:r.indexOf(i))+i.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",s=`\r
--`.concat(o),c="",l=X9(e),u=!0,z.label=1;case 1:return u?[4,l.next()]:[3,3];case 2:for(a=z.sent(),d=a.value,h=a.done,m=typeof d=="string"?d:n.decode(d),y=c.length-s.length+1,u=!h,c+=m,g=c.indexOf(s,y);g>-1;){if(v=void 0,O=[c.slice(0,g),c.slice(g+s.length)],v=O[0],c=O[1],w=v.indexOf(`\r
\r
`),T=t7(v.slice(0,w)),N=T["content-type"],N&&N.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");if(b=v.slice(w),b){if(S=XI(e,b),Object.keys(S).length>1||"data"in S||"incremental"in S||"errors"in S||"payload"in S)if(D9(S)){if(x={},"payload"in S){if(Object.keys(S).length===1&&S.payload===null)return[2];x=ie({},S.payload)}"errors"in S&&(x=ie(ie({},x),{extensions:ie(ie({},"extensions"in x?x.extensions:null),(M={},M[Fw]=S.errors,M))})),t(x)}else t(S);else if(Object.keys(S).length===1&&"hasNext"in S&&!S.hasNext)return[2]}g=c.indexOf(s)}return[3,1];case 3:return[2]}})})}function t7(e){var t={};return e.split(`
`).forEach(function(n){var r=n.indexOf(":");if(r>-1){var i=n.slice(0,r).trim().toLowerCase(),o=n.slice(r+1).trim();t[i]=o}}),t}function XI(e,t){if(e.status>=300){var n=function(){try{return JSON.parse(t)}catch{return t}};QI(e,n(),"Response not successful: Received status code ".concat(e.status))}try{return JSON.parse(t)}catch(i){var r=i;throw r.name="ServerParseError",r.response=e,r.statusCode=e.status,r.bodyText=t,r}}function n7(e,t){e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e)}function r7(e){return function(t){return t.text().then(function(n){return XI(t,n)}).then(function(n){return!Array.isArray(n)&&!Nb.call(n,"data")&&!Nb.call(n,"errors")&&QI(t,n,"Server response was missing for query '".concat(Array.isArray(e)?e.map(function(r){return r.operationName}):e.operationName,"'.")),n})}}var Ly=function(e,t){var n;try{n=JSON.stringify(e)}catch(i){var r=Qn(42,t,i.message);throw r.parseError=i,r}return n},i7={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},o7={accept:"*/*","content-type":"application/json"},s7={method:"POST"},a7={http:i7,headers:o7,options:s7},u7=function(e,t){return t(e)};function l7(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={},o={};n.forEach(function(d){i=ie(ie(ie({},i),d.options),{headers:ie(ie({},i.headers),d.headers)}),d.credentials&&(i.credentials=d.credentials),o=ie(ie({},o),d.http)}),i.headers&&(i.headers=c7(i.headers,o.preserveHeaderCase));var s=e.operationName,c=e.extensions,l=e.variables,u=e.query,a={operationName:s,variables:l};return o.includeExtensions&&(a.extensions=c),o.includeQuery&&(a.query=t(u,sa)),{options:i,body:a}}function c7(e,t){if(!t){var n={};return Object.keys(Object(e)).forEach(function(o){n[o.toLowerCase()]=e[o]}),n}var r={};Object.keys(Object(e)).forEach(function(o){r[o.toLowerCase()]={originalName:o,value:e[o]}});var i={};return Object.keys(r).forEach(function(o){i[r[o].originalName]=r[o].value}),i}var f7=function(e){if(!e&&typeof fetch>"u")throw Qn(40)},d7=function(e,t){var n=e.getContext(),r=n.uri;return r||(typeof t=="function"?t(e):t||"/graphql")};function h7(e,t){var n=[],r=function(d,h){n.push("".concat(d,"=").concat(encodeURIComponent(h)))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var i=void 0;try{i=Ly(t.variables,"Variables map")}catch(d){return{parseError:d}}r("variables",i)}if(t.extensions){var o=void 0;try{o=Ly(t.extensions,"Extensions map")}catch(d){return{parseError:d}}r("extensions",o)}var s="",c=e,l=e.indexOf("#");l!==-1&&(s=e.substr(l),c=e.substr(0,l));var u=c.indexOf("?")===-1?"?":"&",a=c+u+n.join("&")+s;return{newURI:a}}var bb=ni(function(){return fetch}),JI=function(e){e===void 0&&(e={});var t=e.uri,n=t===void 0?"/graphql":t,r=e.fetch,i=e.print,o=i===void 0?u7:i,s=e.includeExtensions,c=e.preserveHeaderCase,l=e.useGETForQueries,u=e.includeUnusedVariables,a=u===void 0?!1:u,d=lr(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);globalThis.__DEV__!==!1&&f7(r||bb);var h={http:{includeExtensions:s,preserveHeaderCase:c},options:d.fetchOptions,credentials:d.credentials,headers:d.headers};return new ka(function(m){var y=d7(m,n),g=m.getContext(),v={};if(g.clientAwareness){var w=g.clientAwareness,T=w.name,N=w.version;T&&(v["apollographql-client-name"]=T),N&&(v["apollographql-client-version"]=N)}var b=ie(ie({},v),g.headers),S={http:g.http,options:g.fetchOptions,credentials:g.credentials,headers:b};if(Xc(["client"],m.query)){var x=jI(m.query);if(!x)return Gv(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));m.query=x}var O=l7(m,o,a7,h,S),M=O.options,U=O.body;U.variables&&!a&&(U.variables=$9(U.variables,m.query));var z;!M.signal&&typeof AbortController<"u"&&(z=new AbortController,M.signal=z.signal);var Q=function(H){return H.kind==="OperationDefinition"&&H.operation==="mutation"},ee=function(H){return H.kind==="OperationDefinition"&&H.operation==="subscription"},X=ee(Tf(m.query)),F=Xc(["defer"],m.query);if(l&&!m.query.definitions.some(Q)&&(M.method="GET"),F||X){M.headers=M.headers||{};var J="multipart/mixed;";X&&F&&globalThis.__DEV__!==!1&&Oe.warn(41),X?J+="boundary=graphql;subscriptionSpec=1.0,application/json":F&&(J+="deferSpec=20220824,application/json"),M.headers.accept=J}if(M.method==="GET"){var K=h7(y,U),te=K.newURI,G=K.parseError;if(G)return Gv(G);y=te}else try{M.body=Ly(U,"Payload")}catch(H){return Gv(H)}return new St(function(H){var W=r||ni(function(){return fetch})||bb,V=H.next.bind(H);return W(y,M).then(function(C){var L;m.setContext({response:C});var I=(L=C.headers)===null||L===void 0?void 0:L.get("content-type");return I!==null&&/^multipart\/mixed/i.test(I)?e7(C,V):r7(m)(C).then(V)}).then(function(){z=void 0,H.complete()}).catch(function(C){z=void 0,n7(C,H)}),function(){z&&z.abort()}})})},p7=function(e){zi(t,e);function t(n){n===void 0&&(n={});var r=e.call(this,JI(n).request)||this;return r.options=n,r}return t}(ka);const{toString:xb,hasOwnProperty:m7}=Object.prototype,Rb=Function.prototype.toString,Dy=new Map;function bt(e,t){try{return Fy(e,t)}finally{Dy.clear()}}function Fy(e,t){if(e===t)return!0;const n=xb.call(e),r=xb.call(t);if(n!==r)return!1;switch(n){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(Ab(e,t))return!0;const i=Sb(e),o=Sb(t),s=i.length;if(s!==o.length)return!1;for(let c=0;c<s;++c)if(!m7.call(t,i[c]))return!1;for(let c=0;c<s;++c){const l=i[c];if(!Fy(e[l],t[l]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(Ab(e,t))return!0;const i=e.entries(),o=n==="[object Map]";for(;;){const s=i.next();if(s.done)break;const[c,l]=s.value;if(!t.has(c)||o&&!Fy(l,t.get(c)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let i=e.byteLength;if(i===t.byteLength)for(;i--&&e[i]===t[i];);return i===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const i=Rb.call(e);return i!==Rb.call(t)?!1:!y7(i,v7)}}return!1}function Sb(e){return Object.keys(e).filter(g7,e)}function g7(e){return this[e]!==void 0}const v7="{ [native code] }";function y7(e,t){const n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}function Ab(e,t){let n=Dy.get(e);if(n){if(n.has(t))return!0}else Dy.set(e,n=new Set);return n.add(t),!1}function ZI(e,t,n,r){var i=t.data,o=lr(t,["data"]),s=n.data,c=lr(n,["data"]);return bt(o,c)&&Bh(Tf(e).selectionSet,i,s,{fragmentMap:gl(yl(e)),variables:r})}function Bh(e,t,n,r){if(t===n)return!0;var i=new Set;return e.selections.every(function(o){if(i.has(o)||(i.add(o),!wf(o,r.variables))||Ob(o))return!0;if(Ts(o)){var s=yo(o),c=t&&t[s],l=n&&n[s],u=o.selectionSet;if(!u)return bt(c,l);var a=Array.isArray(c),d=Array.isArray(l);if(a!==d)return!1;if(a&&d){var h=c.length;if(l.length!==h)return!1;for(var m=0;m<h;++m)if(!Bh(u,c[m],l[m],r))return!1;return!0}return Bh(u,c,l,r)}else{var y=rm(o,r.fragmentMap);if(y)return Ob(y)?!0:Bh(y.selectionSet,t,n,r)}})}function Ob(e){return!!e.directives&&e.directives.some(E7)}function E7(e){return e.name.value==="nonreactive"}var eC=Ca?WeakMap:Map,tC=bw?WeakSet:Set,Uw=new om,Ib=!1;function nC(){Ib||(Ib=!0,globalThis.__DEV__!==!1&&Oe.warn(52))}function rC(e,t,n){return Uw.withValue(!0,function(){var r=Rc(e,t,n,!1);return Object.isFrozen(e)&&nl(r),r})}function w7(e,t){if(t.has(e))return t.get(e);var n=Array.isArray(e)?[]:Object.create(null);return t.set(e,n),n}function Rc(e,t,n,r,i){var o,s=n.knownChanged,c=w7(e,n.mutableTargets);if(Array.isArray(e)){for(var l=0,u=Array.from(e.entries());l<u.length;l++){var a=u[l],d=a[0],h=a[1];if(h===null){c[d]=null;continue}var m=Rc(h,t,n,r,globalThis.__DEV__!==!1?"".concat(i||"","[").concat(d,"]"):void 0);s.has(m)&&s.add(c),c[d]=m}return s.has(c)?c:e}for(var y=0,g=t.selections;y<g.length;y++){var v=g[y],w=void 0;if(r&&s.add(c),v.kind===B.FIELD){var T=yo(v),N=v.selectionSet;if(w=c[T]||e[T],w===void 0)continue;if(N&&w!==null){var m=Rc(e[T],N,n,r,globalThis.__DEV__!==!1?"".concat(i||"",".").concat(T):void 0);s.has(m)&&(w=m)}globalThis.__DEV__===!1&&(c[T]=w),globalThis.__DEV__!==!1&&(r&&T!=="__typename"&&!(!((o=Object.getOwnPropertyDescriptor(c,T))===null||o===void 0)&&o.value)?Object.defineProperty(c,T,T7(T,w,i||"",n.operationName,n.operationType)):(delete c[T],c[T]=w))}if(v.kind===B.INLINE_FRAGMENT&&(!v.typeCondition||n.cache.fragmentMatches(v,e.__typename))&&(w=Rc(e,v.selectionSet,n,r,i)),v.kind===B.FRAGMENT_SPREAD){var b=v.name.value,S=n.fragmentMap[b]||(n.fragmentMap[b]=n.cache.lookupFragment(b));Oe(S,47,b);var x=y6(v);x!=="mask"&&(w=Rc(e,S.selectionSet,n,x==="migrate",i))}s.has(w)&&s.add(c)}return"__typename"in e&&!("__typename"in c)&&(c.__typename=e.__typename),Object.keys(c).length!==Object.keys(e).length&&s.add(c),s.has(c)?c:e}function T7(e,t,n,r,i){var o=function(){return Uw.getValue()||(globalThis.__DEV__!==!1&&Oe.warn(48,r?"".concat(i," '").concat(r,"'"):"anonymous ".concat(i),"".concat(n,".").concat(e).replace(/^\./,"")),o=function(){return t}),t};return{get:function(){return o()},set:function(s){o=function(){return s}},enumerable:!0,configurable:!0}}function iC(e,t,n,r){if(!n.fragmentMatches)return globalThis.__DEV__!==!1&&nC(),e;var i=t.definitions.filter(function(s){return s.kind===B.FRAGMENT_DEFINITION});typeof r>"u"&&(Oe(i.length===1,49,i.length),r=i[0].name.value);var o=i.find(function(s){return s.name.value===r});return Oe(!!o,50,r),e==null||bt(e,{})?e:rC(e,o.selectionSet,{operationType:"fragment",operationName:o.name.value,fragmentMap:gl(yl(t)),cache:n,mutableTargets:new eC,knownChanged:new tC})}function _7(e,t,n){var r;if(!n.fragmentMatches)return globalThis.__DEV__!==!1&&nC(),e;var i=ba(t);return Oe(i,51),e==null?e:rC(e,i.selectionSet,{operationType:i.operation,operationName:(r=i.name)===null||r===void 0?void 0:r.value,fragmentMap:gl(yl(t)),cache:n,mutableTargets:new eC,knownChanged:new tC})}var oC=function(){function e(){this.assumeImmutableResults=!1,this.getFragmentDoc=Zc(R6,{max:$i["cache.fragmentQueryDocuments"]||1e3,cache:pp})}return e.prototype.lookupFragment=function(t){return null},e.prototype.batch=function(t){var n=this,r=typeof t.optimistic=="string"?t.optimistic:t.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=t.update(n)},r),i},e.prototype.recordOptimisticTransaction=function(t,n){this.performTransaction(t,n)},e.prototype.transformDocument=function(t){return t},e.prototype.transformForLink=function(t){return t},e.prototype.identify=function(t){},e.prototype.gc=function(){return[]},e.prototype.modify=function(t){return!1},e.prototype.readQuery=function(t,n){return n===void 0&&(n=!!t.optimistic),this.read(ie(ie({},t),{rootId:t.id||"ROOT_QUERY",optimistic:n}))},e.prototype.watchFragment=function(t){var n=this,r=t.fragment,i=t.fragmentName,o=t.from,s=t.optimistic,c=s===void 0?!0:s,l=lr(t,["fragment","fragmentName","from","optimistic"]),u=this.getFragmentDoc(r,i),a=typeof o>"u"||typeof o=="string"?o:this.identify(o),d=!!t[Symbol.for("apollo.dataMasking")];if(globalThis.__DEV__!==!1){var h=i||SI(r).name.value;a||globalThis.__DEV__!==!1&&Oe.warn(1,h)}var m=ie(ie({},l),{returnPartialData:!0,id:a,query:u,optimistic:c}),y;return new St(function(g){return n.watch(ie(ie({},m),{immediate:!0,callback:function(v){var w=d?iC(v.result,r,n,i):v.result;if(!(y&&ZI(u,{data:y.result},{data:w},t.variables))){var T={data:w,complete:!!v.complete};v.missing&&(T.missing=um(v.missing.map(function(N){return N.missing}))),y=ie(ie({},v),{result:w}),g.next(T)}}}))})},e.prototype.readFragment=function(t,n){return n===void 0&&(n=!!t.optimistic),this.read(ie(ie({},t),{query:this.getFragmentDoc(t.fragment,t.fragmentName),rootId:t.id,optimistic:n}))},e.prototype.writeQuery=function(t){var n=t.id,r=t.data,i=lr(t,["id","data"]);return this.write(Object.assign(i,{dataId:n||"ROOT_QUERY",result:r}))},e.prototype.writeFragment=function(t){var n=t.id,r=t.data,i=t.fragment,o=t.fragmentName,s=lr(t,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(i,o),dataId:n,result:r}))},e.prototype.updateQuery=function(t,n){return this.batch({update:function(r){var i=r.readQuery(t),o=n(i);return o==null?i:(r.writeQuery(ie(ie({},t),{data:o})),o)}})},e.prototype.updateFragment=function(t,n){return this.batch({update:function(r){var i=r.readFragment(t),o=n(i);return o==null?i:(r.writeFragment(ie(ie({},t),{data:o})),o)}})},e}();globalThis.__DEV__!==!1&&(oC.prototype.getMemoryInternals=U6);var sC=function(e){zi(t,e);function t(n,r,i,o){var s,c=e.call(this,n)||this;if(c.message=n,c.path=r,c.query=i,c.variables=o,Array.isArray(c.path)){c.missing=c.message;for(var l=c.path.length-1;l>=0;--l)c.missing=(s={},s[c.path[l]]=c.missing,s)}else c.missing=c.path;return c.__proto__=t.prototype,c}return t}(Error),wn=Object.prototype.hasOwnProperty;function lc(e){return e==null}function aC(e,t){var n=e.__typename,r=e.id,i=e._id;if(typeof n=="string"&&(t&&(t.keyObject=lc(r)?lc(i)?void 0:{_id:i}:{id:r}),lc(r)&&!lc(i)&&(r=i),!lc(r)))return"".concat(n,":").concat(typeof r=="number"||typeof r=="string"?r:JSON.stringify(r))}var uC={dataIdFromObject:aC,addTypename:!0,resultCaching:!0,canonizeResults:!1};function N7(e){return xa(uC,e)}function lC(e){var t=e.canonizeResults;return t===void 0?uC.canonizeResults:t}function b7(e,t){return Tt(t)?e.get(t.__ref,"__typename"):t&&t.__typename}var cC=/^[_a-z][_0-9a-z]*/i;function bs(e){var t=e.match(cC);return t?t[0]:e}function Uy(e,t,n){return Yt(t)?Qt(t)?t.every(function(r){return Uy(e,r,n)}):e.selections.every(function(r){if(Ts(r)&&wf(r,n)){var i=yo(r);return wn.call(t,i)&&(!r.selectionSet||Uy(r.selectionSet,t[i],n))}return!0}):!1}function Mu(e){return Yt(e)&&!Tt(e)&&!Qt(e)}function x7(){return new Ns}function fC(e,t){var n=gl(yl(e));return{fragmentMap:n,lookupFragment:function(r){var i=n[r];return!i&&t&&(i=t.lookup(r)),i||null}}}var $h=Object.create(null),Yv=function(){return $h},Cb=Object.create(null),ef=function(){function e(t,n){var r=this;this.policies=t,this.group=n,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,o){return nl(Tt(i)?r.get(i.__ref,o):i&&i[o])},this.canRead=function(i){return Tt(i)?r.has(i.__ref):typeof i=="object"},this.toReference=function(i,o){if(typeof i=="string")return $u(i);if(Tt(i))return i;var s=r.policies.identify(i)[0];if(s){var c=$u(s);return o&&r.merge(s,i),c}}}return e.prototype.toObject=function(){return ie({},this.data)},e.prototype.has=function(t){return this.lookup(t,!0)!==void 0},e.prototype.get=function(t,n){if(this.group.depend(t,n),wn.call(this.data,t)){var r=this.data[t];if(r&&wn.call(r,n))return r[n]}if(n==="__typename"&&wn.call(this.policies.rootTypenamesById,t))return this.policies.rootTypenamesById[t];if(this instanceof Jo)return this.parent.get(t,n)},e.prototype.lookup=function(t,n){if(n&&this.group.depend(t,"__exists"),wn.call(this.data,t))return this.data[t];if(this instanceof Jo)return this.parent.lookup(t,n);if(this.policies.rootTypenamesById[t])return Object.create(null)},e.prototype.merge=function(t,n){var r=this,i;Tt(t)&&(t=t.__ref),Tt(n)&&(n=n.__ref);var o=typeof t=="string"?this.lookup(i=t):t,s=typeof n=="string"?this.lookup(i=n):n;if(s){Oe(typeof i=="string",2);var c=new Ns(S7).merge(o,s);if(this.data[i]=c,c!==o&&(delete this.refs[i],this.group.caching)){var l=Object.create(null);o||(l.__exists=1),Object.keys(s).forEach(function(u){if(!o||o[u]!==c[u]){l[u]=1;var a=bs(u);a!==u&&!r.policies.hasKeyArgs(c.__typename,a)&&(l[a]=1),c[u]===void 0&&!(r instanceof Jo)&&delete c[u]}}),l.__typename&&!(o&&o.__typename)&&this.policies.rootTypenamesById[i]===c.__typename&&delete l.__typename,Object.keys(l).forEach(function(u){return r.group.dirty(i,u)})}}},e.prototype.modify=function(t,n){var r=this,i=this.lookup(t);if(i){var o=Object.create(null),s=!1,c=!0,l={DELETE:$h,INVALIDATE:Cb,isReference:Tt,toReference:this.toReference,canRead:this.canRead,readField:function(u,a){return r.policies.readField(typeof u=="string"?{fieldName:u,from:a||$u(t)}:u,{store:r})}};if(Object.keys(i).forEach(function(u){var a=bs(u),d=i[u];if(d!==void 0){var h=typeof n=="function"?n:n[u]||n[a];if(h){var m=h===Yv?$h:h(nl(d),ie(ie({},l),{fieldName:a,storeFieldName:u,storage:r.getStorage(t,u)}));if(m===Cb)r.group.dirty(t,u);else if(m===$h&&(m=void 0),m!==d&&(o[u]=m,s=!0,d=m,globalThis.__DEV__!==!1)){var y=function(S){if(r.lookup(S.__ref)===void 0)return globalThis.__DEV__!==!1&&Oe.warn(3,S),!0};if(Tt(m))y(m);else if(Array.isArray(m))for(var g=!1,v=void 0,w=0,T=m;w<T.length;w++){var N=T[w];if(Tt(N)){if(g=!0,y(N))break}else if(typeof N=="object"&&N){var b=r.policies.identify(N)[0];b&&(v=N)}if(g&&v!==void 0){globalThis.__DEV__!==!1&&Oe.warn(4,v);break}}}}d!==void 0&&(c=!1)}}),s)return this.merge(t,o),c&&(this instanceof Jo?this.data[t]=void 0:delete this.data[t],this.group.dirty(t,"__exists")),!0}return!1},e.prototype.delete=function(t,n,r){var i,o=this.lookup(t);if(o){var s=this.getFieldValue(o,"__typename"),c=n&&r?this.policies.getStoreFieldName({typename:s,fieldName:n,args:r}):n;return this.modify(t,c?(i={},i[c]=Yv,i):Yv)}return!1},e.prototype.evict=function(t,n){var r=!1;return t.id&&(wn.call(this.data,t.id)&&(r=this.delete(t.id,t.fieldName,t.args)),this instanceof Jo&&this!==n&&(r=this.parent.evict(t,n)||r),(t.fieldName||r)&&this.group.dirty(t.id,t.fieldName||"__exists")),r},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var t=this,n=this.toObject(),r=[];return this.getRootIdSet().forEach(function(i){wn.call(t.policies.rootTypenamesById,i)||r.push(i)}),r.length&&(n.__META={extraRootIds:r.sort()}),n},e.prototype.replace=function(t){var n=this;if(Object.keys(this.data).forEach(function(o){t&&wn.call(t,o)||n.delete(o)}),t){var r=t.__META,i=lr(t,["__META"]);Object.keys(i).forEach(function(o){n.merge(o,i[o])}),r&&r.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(t){return this.rootIds[t]=(this.rootIds[t]||0)+1},e.prototype.release=function(t){if(this.rootIds[t]>0){var n=--this.rootIds[t];return n||delete this.rootIds[t],n}return 0},e.prototype.getRootIdSet=function(t){return t===void 0&&(t=new Set),Object.keys(this.rootIds).forEach(t.add,t),this instanceof Jo?this.parent.getRootIdSet(t):Object.keys(this.policies.rootTypenamesById).forEach(t.add,t),t},e.prototype.gc=function(){var t=this,n=this.getRootIdSet(),r=this.toObject();n.forEach(function(s){wn.call(r,s)&&(Object.keys(t.findChildRefIds(s)).forEach(n.add,n),delete r[s])});var i=Object.keys(r);if(i.length){for(var o=this;o instanceof Jo;)o=o.parent;i.forEach(function(s){return o.delete(s)})}return i},e.prototype.findChildRefIds=function(t){if(!wn.call(this.refs,t)){var n=this.refs[t]=Object.create(null),r=this.data[t];if(!r)return n;var i=new Set([r]);i.forEach(function(o){Tt(o)&&(n[o.__ref]=!0),Yt(o)&&Object.keys(o).forEach(function(s){var c=o[s];Yt(c)&&i.add(c)})})}return this.refs[t]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),dC=function(){function e(t,n){n===void 0&&(n=null),this.caching=t,this.parent=n,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?UI():null,this.keyMaker=new Ro(Ca)},e.prototype.depend=function(t,n){if(this.d){this.d(Qv(t,n));var r=bs(n);r!==n&&this.d(Qv(t,r)),this.parent&&this.parent.depend(t,n)}},e.prototype.dirty=function(t,n){this.d&&this.d.dirty(Qv(t,n),n==="__exists"?"forget":"setDirty")},e}();function Qv(e,t){return t+"#"+e}function kb(e,t){Fc(e)&&e.group.depend(t,"__exists")}(function(e){var t=function(n){zi(r,n);function r(i){var o=i.policies,s=i.resultCaching,c=s===void 0?!0:s,l=i.seed,u=n.call(this,o,new dC(c))||this;return u.stump=new R7(u),u.storageTrie=new Ro(Ca),l&&u.replace(l),u}return r.prototype.addLayer=function(i,o){return this.stump.addLayer(i,o)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},r}(e);e.Root=t})(ef||(ef={}));var Jo=function(e){zi(t,e);function t(n,r,i,o){var s=e.call(this,r.policies,o)||this;return s.id=n,s.parent=r,s.replay=i,s.group=o,i(s),s}return t.prototype.addLayer=function(n,r){return new t(n,this,r,this.group)},t.prototype.removeLayer=function(n){var r=this,i=this.parent.removeLayer(n);return n===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(o){var s=r.data[o],c=i.lookup(o);c?s?s!==c&&Object.keys(s).forEach(function(l){bt(s[l],c[l])||r.group.dirty(o,l)}):(r.group.dirty(o,"__exists"),Object.keys(c).forEach(function(l){r.group.dirty(o,l)})):r.delete(o)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return ie(ie({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(n){var r=this.parent.findChildRefIds(n);return wn.call(this.data,n)?ie(ie({},r),e.prototype.findChildRefIds.call(this,n)):r},t.prototype.getStorage=function(){for(var n=this.parent;n.parent;)n=n.parent;return n.getStorage.apply(n,arguments)},t}(ef),R7=function(e){zi(t,e);function t(n){return e.call(this,"EntityStore.Stump",n,function(){},new dC(n.group.caching,n.group))||this}return t.prototype.removeLayer=function(){return this},t.prototype.merge=function(n,r){return this.parent.merge(n,r)},t}(Jo);function S7(e,t,n){var r=e[n],i=t[n];return bt(r,i)?r:i}function Fc(e){return!!(e instanceof ef&&e.group.caching)}function A7(e){return Yt(e)?Qt(e)?e.slice(0):ie({__proto__:Object.getPrototypeOf(e)},e):e}var Mb=function(){function e(){this.known=new(bw?WeakSet:Set),this.pool=new Ro(Ca),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(t){return Yt(t)&&this.known.has(t)},e.prototype.pass=function(t){if(Yt(t)){var n=A7(t);return this.passes.set(n,t),n}return t},e.prototype.admit=function(t){var n=this;if(Yt(t)){var r=this.passes.get(t);if(r)return r;var i=Object.getPrototypeOf(t);switch(i){case Array.prototype:{if(this.known.has(t))return t;var o=t.map(this.admit,this),s=this.pool.lookupArray(o);return s.array||(this.known.add(s.array=o),globalThis.__DEV__!==!1&&Object.freeze(o)),s.array}case null:case Object.prototype:{if(this.known.has(t))return t;var c=Object.getPrototypeOf(t),l=[c],u=this.sortedKeys(t);l.push(u.json);var a=l.length;u.sorted.forEach(function(m){l.push(n.admit(t[m]))});var s=this.pool.lookupArray(l);if(!s.object){var d=s.object=Object.create(c);this.known.add(d),u.sorted.forEach(function(m,y){d[m]=l[a+y]}),globalThis.__DEV__!==!1&&Object.freeze(d)}return s.object}}}return t},e.prototype.sortedKeys=function(t){var n=Object.keys(t),r=this.pool.lookupArray(n);if(!r.keys){n.sort();var i=JSON.stringify(n);(r.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,r.keys={sorted:n,json:i})}return r.keys},e}();function Pb(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var O7=function(){function e(t){var n=this;this.knownResults=new(Ca?WeakMap:Map),this.config=xa(t,{addTypename:t.addTypename!==!1,canonizeResults:lC(t)}),this.canon=t.canon||new Mb,this.executeSelectionSet=Zc(function(r){var i,o=r.context.canonizeResults,s=Pb(r);s[3]=!o;var c=(i=n.executeSelectionSet).peek.apply(i,s);return c?o?ie(ie({},c),{result:n.canon.admit(c.result)}):c:(kb(r.context.store,r.enclosingRef.__ref),n.execSelectionSetImpl(r))},{max:this.config.resultCacheMaxSize||$i["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:Pb,makeCacheKey:function(r,i,o,s){if(Fc(o.store))return o.store.makeCacheKey(r,Tt(i)?i.__ref:i,o.varString,s)}}),this.executeSubSelectedArray=Zc(function(r){return kb(r.context.store,r.enclosingRef.__ref),n.execSubSelectedArrayImpl(r)},{max:this.config.resultCacheMaxSize||$i["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(r){var i=r.field,o=r.array,s=r.context;if(Fc(s.store))return s.store.makeCacheKey(i,o,s.varString)}})}return e.prototype.resetCanon=function(){this.canon=new Mb},e.prototype.diffQueryAgainstStore=function(t){var n=t.store,r=t.query,i=t.rootId,o=i===void 0?"ROOT_QUERY":i,s=t.variables,c=t.returnPartialData,l=c===void 0?!0:c,u=t.canonizeResults,a=u===void 0?this.config.canonizeResults:u,d=this.config.cache.policies;s=ie(ie({},Aw(RI(r))),s);var h=$u(o),m=this.executeSelectionSet({selectionSet:Tf(r).selectionSet,objectOrReference:h,enclosingRef:h,context:ie({store:n,query:r,policies:d,variables:s,varString:ds(s),canonizeResults:a},fC(r,this.config.fragments))}),y;if(m.missing&&(y=[new sC(I7(m.missing),m.missing,r,s)],!l))throw y[0];return{result:m.result,complete:!y,missing:y}},e.prototype.isFresh=function(t,n,r,i){if(Fc(i.store)&&this.knownResults.get(t)===r){var o=this.executeSelectionSet.peek(r,n,i,this.canon.isKnown(t));if(o&&t===o.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(t){var n=this,r=t.selectionSet,i=t.objectOrReference,o=t.enclosingRef,s=t.context;if(Tt(i)&&!s.policies.rootTypenamesById[i.__ref]&&!s.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var c=s.variables,l=s.policies,u=s.store,a=u.getFieldValue(i,"__typename"),d=[],h,m=new Ns;this.config.addTypename&&typeof a=="string"&&!l.rootIdsByTypename[a]&&d.push({__typename:a});function y(N,b){var S;return N.missing&&(h=m.merge(h,(S={},S[b]=N.missing,S))),N.result}var g=new Set(r.selections);g.forEach(function(N){var b,S;if(wf(N,c))if(Ts(N)){var x=l.readField({fieldName:N.name.value,field:N,variables:s.variables,from:i},s),O=yo(N);x===void 0?kw.added(N)||(h=m.merge(h,(b={},b[O]="Can't find field '".concat(N.name.value,"' on ").concat(Tt(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),b))):Qt(x)?x.length>0&&(x=y(n.executeSubSelectedArray({field:N,array:x,enclosingRef:o,context:s}),O)):N.selectionSet?x!=null&&(x=y(n.executeSelectionSet({selectionSet:N.selectionSet,objectOrReference:x,enclosingRef:Tt(x)?x:o,context:s}),O)):s.canonizeResults&&(x=n.canon.pass(x)),x!==void 0&&d.push((S={},S[O]=x,S))}else{var M=rm(N,s.lookupFragment);if(!M&&N.kind===B.FRAGMENT_SPREAD)throw Qn(10,N.name.value);M&&l.fragmentMatches(M,a)&&M.selectionSet.selections.forEach(g.add,g)}});var v=um(d),w={result:v,missing:h},T=s.canonizeResults?this.canon.admit(w):nl(w);return T.result&&this.knownResults.set(T.result,r),T},e.prototype.execSubSelectedArrayImpl=function(t){var n=this,r=t.field,i=t.array,o=t.enclosingRef,s=t.context,c,l=new Ns;function u(a,d){var h;return a.missing&&(c=l.merge(c,(h={},h[d]=a.missing,h))),a.result}return r.selectionSet&&(i=i.filter(s.store.canRead)),i=i.map(function(a,d){return a===null?null:Qt(a)?u(n.executeSubSelectedArray({field:r,array:a,enclosingRef:o,context:s}),d):r.selectionSet?u(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:a,enclosingRef:Tt(a)?a:o,context:s}),d):(globalThis.__DEV__!==!1&&C7(s.store,r,a),a)}),{result:s.canonizeResults?this.canon.admit(i):i,missing:c}},e}();function I7(e){try{JSON.stringify(e,function(t,n){if(typeof n=="string")throw n;return n})}catch(t){return t}}function C7(e,t,n){if(!t.selectionSet){var r=new Set([n]);r.forEach(function(i){Yt(i)&&(Oe(!Tt(i),11,b7(e,i),t.name.value),Object.values(i).forEach(r.add,r))})}}var Bw=new om,Lb=new WeakMap;function Uc(e){var t=Lb.get(e);return t||Lb.set(e,t={vars:new Set,dep:UI()}),t}function Db(e){Uc(e).vars.forEach(function(t){return t.forgetCache(e)})}function k7(e){Uc(e).vars.forEach(function(t){return t.attachCache(e)})}function M7(e){var t=new Set,n=new Set,r=function(o){if(arguments.length>0){if(e!==o){e=o,t.forEach(function(l){Uc(l).dep.dirty(r),P7(l)});var s=Array.from(n);n.clear(),s.forEach(function(l){return l(e)})}}else{var c=Bw.getValue();c&&(i(c),Uc(c).dep(r))}return e};r.onNextChange=function(o){return n.add(o),function(){n.delete(o)}};var i=r.attachCache=function(o){return t.add(o),Uc(o).vars.add(r),r};return r.forgetCache=function(o){return t.delete(o)},r}function P7(e){e.broadcastWatches&&e.broadcastWatches()}var Fb=Object.create(null);function $w(e){var t=JSON.stringify(e);return Fb[t]||(Fb[t]=Object.create(null))}function Ub(e){var t=$w(e);return t.keyFieldsFn||(t.keyFieldsFn=function(n,r){var i=function(s,c){return r.readField(c,s)},o=r.keyObject=Vw(e,function(s){var c=ju(r.storeObject,s,i);return c===void 0&&n!==r.storeObject&&wn.call(n,s[0])&&(c=ju(n,s,pC)),Oe(c!==void 0,5,s.join("."),n),c});return"".concat(r.typename,":").concat(JSON.stringify(o))})}function Bb(e){var t=$w(e);return t.keyArgsFn||(t.keyArgsFn=function(n,r){var i=r.field,o=r.variables,s=r.fieldName,c=Vw(e,function(u){var a=u[0],d=a.charAt(0);if(d==="@"){if(i&&Ur(i.directives)){var h=a.slice(1),m=i.directives.find(function(w){return w.name.value===h}),y=m&&im(m,o);return y&&ju(y,u.slice(1))}return}if(d==="$"){var g=a.slice(1);if(o&&wn.call(o,g)){var v=u.slice(0);return v[0]=g,ju(o,v)}return}if(n)return ju(n,u)}),l=JSON.stringify(c);return(n||l!=="{}")&&(s+=":"+l),s})}function Vw(e,t){var n=new Ns;return hC(e).reduce(function(r,i){var o,s=t(i);if(s!==void 0){for(var c=i.length-1;c>=0;--c)s=(o={},o[i[c]]=s,o);r=n.merge(r,s)}return r},Object.create(null))}function hC(e){var t=$w(e);if(!t.paths){var n=t.paths=[],r=[];e.forEach(function(i,o){Qt(i)?(hC(i).forEach(function(s){return n.push(r.concat(s))}),r.length=0):(r.push(i),Qt(e[o+1])||(n.push(r.slice(0)),r.length=0))})}return t.paths}function pC(e,t){return e[t]}function ju(e,t,n){return n=n||pC,mC(t.reduce(function r(i,o){return Qt(i)?i.map(function(s){return r(s,o)}):i&&n(i,o)},e))}function mC(e){return Yt(e)?Qt(e)?e.map(mC):Vw(Object.keys(e).sort(),function(t){return ju(e,t)}):e}function By(e){return e.args!==void 0?e.args:e.field?im(e.field,e.variables):null}var L7=function(){},$b=function(e,t){return t.fieldName},Vb=function(e,t,n){var r=n.mergeObjects;return r(e,t)},jb=function(e,t){return t},D7=function(){function e(t){this.config=t,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=ie({dataIdFromObject:aC},t),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),t.possibleTypes&&this.addPossibleTypes(t.possibleTypes),t.typePolicies&&this.addTypePolicies(t.typePolicies)}return e.prototype.identify=function(t,n){var r,i=this,o=n&&(n.typename||((r=n.storeObject)===null||r===void 0?void 0:r.__typename))||t.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];var s=n&&n.storeObject||t,c=ie(ie({},n),{typename:o,storeObject:s,readField:n&&n.readField||function(){var d=jw(arguments,s);return i.readField(d,{store:i.cache.data,variables:d.variables})}}),l,u=o&&this.getTypePolicy(o),a=u&&u.keyFn||this.config.dataIdFromObject;return Uw.withValue(!0,function(){for(;a;){var d=a(ie(ie({},t),s),c);if(Qt(d))a=Ub(d);else{l=d;break}}}),l=l?String(l):void 0,c.keyObject?[l,c.keyObject]:[l]},e.prototype.addTypePolicies=function(t){var n=this;Object.keys(t).forEach(function(r){var i=t[r],o=i.queryType,s=i.mutationType,c=i.subscriptionType,l=lr(i,["queryType","mutationType","subscriptionType"]);o&&n.setRootTypename("Query",r),s&&n.setRootTypename("Mutation",r),c&&n.setRootTypename("Subscription",r),wn.call(n.toBeAdded,r)?n.toBeAdded[r].push(l):n.toBeAdded[r]=[l]})},e.prototype.updateTypePolicy=function(t,n){var r=this,i=this.getTypePolicy(t),o=n.keyFields,s=n.fields;function c(l,u){l.merge=typeof u=="function"?u:u===!0?Vb:u===!1?jb:l.merge}c(i,n.merge),i.keyFn=o===!1?L7:Qt(o)?Ub(o):typeof o=="function"?o:i.keyFn,s&&Object.keys(s).forEach(function(l){var u=r.getFieldPolicy(t,l,!0),a=s[l];if(typeof a=="function")u.read=a;else{var d=a.keyArgs,h=a.read,m=a.merge;u.keyFn=d===!1?$b:Qt(d)?Bb(d):typeof d=="function"?d:u.keyFn,typeof h=="function"&&(u.read=h),c(u,m)}u.read&&u.merge&&(u.keyFn=u.keyFn||$b)})},e.prototype.setRootTypename=function(t,n){n===void 0&&(n=t);var r="ROOT_"+t.toUpperCase(),i=this.rootTypenamesById[r];n!==i&&(Oe(!i||i===t,6,t),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[n]=r,this.rootTypenamesById[r]=n)},e.prototype.addPossibleTypes=function(t){var n=this;this.usingPossibleTypes=!0,Object.keys(t).forEach(function(r){n.getSupertypeSet(r,!0),t[r].forEach(function(i){n.getSupertypeSet(i,!0).add(r);var o=i.match(cC);(!o||o[0]!==i)&&n.fuzzySubtypes.set(i,new RegExp(i))})})},e.prototype.getTypePolicy=function(t){var n=this;if(!wn.call(this.typePolicies,t)){var r=this.typePolicies[t]=Object.create(null);r.fields=Object.create(null);var i=this.supertypeMap.get(t);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(t,!0),this.fuzzySubtypes.forEach(function(s,c){if(s.test(t)){var l=n.supertypeMap.get(c);l&&l.forEach(function(u){return i.add(u)})}})),i&&i.size&&i.forEach(function(s){var c=n.getTypePolicy(s),l=c.fields,u=lr(c,["fields"]);Object.assign(r,u),Object.assign(r.fields,l)})}var o=this.toBeAdded[t];return o&&o.length&&o.splice(0).forEach(function(s){n.updateTypePolicy(t,s)}),this.typePolicies[t]},e.prototype.getFieldPolicy=function(t,n,r){if(t){var i=this.getTypePolicy(t).fields;return i[n]||r&&(i[n]=Object.create(null))}},e.prototype.getSupertypeSet=function(t,n){var r=this.supertypeMap.get(t);return!r&&n&&this.supertypeMap.set(t,r=new Set),r},e.prototype.fragmentMatches=function(t,n,r,i){var o=this;if(!t.typeCondition)return!0;if(!n)return!1;var s=t.typeCondition.name.value;if(n===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s))for(var c=this.getSupertypeSet(n,!0),l=[c],u=function(y){var g=o.getSupertypeSet(y,!1);g&&g.size&&l.indexOf(g)<0&&l.push(g)},a=!!(r&&this.fuzzySubtypes.size),d=!1,h=0;h<l.length;++h){var m=l[h];if(m.has(s))return c.has(s)||(d&&globalThis.__DEV__!==!1&&Oe.warn(7,n,s),c.add(s)),!0;m.forEach(u),a&&h===l.length-1&&Uy(t.selectionSet,r,i)&&(a=!1,d=!0,this.fuzzySubtypes.forEach(function(y,g){var v=n.match(y);v&&v[0]===n&&u(g)}))}return!1},e.prototype.hasKeyArgs=function(t,n){var r=this.getFieldPolicy(t,n,!1);return!!(r&&r.keyFn)},e.prototype.getStoreFieldName=function(t){var n=t.typename,r=t.fieldName,i=this.getFieldPolicy(n,r,!1),o,s=i&&i.keyFn;if(s&&n)for(var c={typename:n,fieldName:r,field:t.field||null,variables:t.variables},l=By(t);s;){var u=s(l,c);if(Qt(u))s=Bb(u);else{o=u||r;break}}return o===void 0&&(o=t.field?t9(t.field,t.variables):xI(r,By(t))),o===!1?r:r===bs(o)?o:r+":"+o},e.prototype.readField=function(t,n){var r=t.from;if(r){var i=t.field||t.fieldName;if(i){if(t.typename===void 0){var o=n.store.getFieldValue(r,"__typename");o&&(t.typename=o)}var s=this.getStoreFieldName(t),c=bs(s),l=n.store.getFieldValue(r,s),u=this.getFieldPolicy(t.typename,c,!1),a=u&&u.read;if(a){var d=zb(this,r,t,n,n.store.getStorage(Tt(r)?r.__ref:r,s));return Bw.withValue(this.cache,a,[l,d])}return l}}},e.prototype.getReadFunction=function(t,n){var r=this.getFieldPolicy(t,n,!1);return r&&r.read},e.prototype.getMergeFunction=function(t,n,r){var i=this.getFieldPolicy(t,n,!1),o=i&&i.merge;return!o&&r&&(i=this.getTypePolicy(r),o=i&&i.merge),o},e.prototype.runMergeFunction=function(t,n,r,i,o){var s=r.field,c=r.typename,l=r.merge;return l===Vb?gC(i.store)(t,n):l===jb?n:(i.overwrite&&(t=void 0),l(t,n,zb(this,void 0,{typename:c,fieldName:s.name.value,field:s,variables:i.variables},i,o||Object.create(null))))},e}();function zb(e,t,n,r,i){var o=e.getStoreFieldName(n),s=bs(o),c=n.variables||r.variables,l=r.store,u=l.toReference,a=l.canRead;return{args:By(n),field:n.field||null,fieldName:s,storeFieldName:o,variables:c,isReference:Tt,toReference:u,storage:i,cache:e.cache,canRead:a,readField:function(){return e.readField(jw(arguments,t,c),r)},mergeObjects:gC(r.store)}}function jw(e,t,n){var r=e[0],i=e[1],o=e.length,s;return typeof r=="string"?s={fieldName:r,from:o>1?i:t}:(s=ie({},r),wn.call(s,"from")||(s.from=t)),globalThis.__DEV__!==!1&&s.from===void 0&&globalThis.__DEV__!==!1&&Oe.warn(8,bO(Array.from(e))),s.variables===void 0&&(s.variables=n),s}function gC(e){return function(n,r){if(Qt(n)||Qt(r))throw Qn(9);if(Yt(n)&&Yt(r)){var i=e.getFieldValue(n,"__typename"),o=e.getFieldValue(r,"__typename"),s=i&&o&&i!==o;if(s)return r;if(Tt(n)&&Mu(r))return e.merge(n.__ref,r),n;if(Mu(n)&&Tt(r))return e.merge(n,r.__ref),r;if(Mu(n)&&Mu(r))return ie(ie({},n),r)}return r}}function Kv(e,t,n){var r="".concat(t).concat(n),i=e.flavors.get(r);return i||e.flavors.set(r,i=e.clientOnly===t&&e.deferred===n?e:ie(ie({},e),{clientOnly:t,deferred:n})),i}var F7=function(){function e(t,n,r){this.cache=t,this.reader=n,this.fragments=r}return e.prototype.writeToStore=function(t,n){var r=this,i=n.query,o=n.result,s=n.dataId,c=n.variables,l=n.overwrite,u=ba(i),a=x7();c=ie(ie({},Aw(u)),c);var d=ie(ie({store:t,written:Object.create(null),merge:function(m,y){return a.merge(m,y)},variables:c,varString:ds(c)},fC(i,this.fragments)),{overwrite:!!l,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),h=this.processSelectionSet({result:o||Object.create(null),dataId:s,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:d});if(!Tt(h))throw Qn(12,o);return d.incomingById.forEach(function(m,y){var g=m.storeObject,v=m.mergeTree,w=m.fieldNodeSet,T=$u(y);if(v&&v.map.size){var N=r.applyMerges(v,T,g,d);if(Tt(N))return;g=N}if(globalThis.__DEV__!==!1&&!d.overwrite){var b=Object.create(null);w.forEach(function(O){O.selectionSet&&(b[O.name.value]=!0)});var S=function(O){return b[bs(O)]===!0},x=function(O){var M=v&&v.map.get(O);return!!(M&&M.info&&M.info.merge)};Object.keys(g).forEach(function(O){S(O)&&!x(O)&&U7(T,g,O,d.store)})}t.merge(y,g)}),t.retain(h.__ref),h},e.prototype.processSelectionSet=function(t){var n=this,r=t.dataId,i=t.result,o=t.selectionSet,s=t.context,c=t.mergeTree,l=this.cache.policies,u=Object.create(null),a=r&&l.rootTypenamesById[r]||Oy(i,o,s.fragmentMap)||r&&s.store.get(r,"__typename");typeof a=="string"&&(u.__typename=a);var d=function(){var N=jw(arguments,u,s.variables);if(Tt(N.from)){var b=s.incomingById.get(N.from.__ref);if(b){var S=l.readField(ie(ie({},N),{from:b.storeObject}),s);if(S!==void 0)return S}}return l.readField(N,s)},h=new Set;this.flattenFields(o,i,s,a).forEach(function(N,b){var S,x=yo(b),O=i[x];if(h.add(b),O!==void 0){var M=l.getStoreFieldName({typename:a,fieldName:b.name.value,field:b,variables:N.variables}),U=qb(c,M),z=n.processFieldValue(O,b,b.selectionSet?Kv(N,!1,!1):N,U),Q=void 0;b.selectionSet&&(Tt(z)||Mu(z))&&(Q=d("__typename",z));var ee=l.getMergeFunction(a,b.name.value,Q);ee?U.info={field:b,typename:a,merge:ee}:Wb(c,M),u=N.merge(u,(S={},S[M]=z,S))}else globalThis.__DEV__!==!1&&!N.clientOnly&&!N.deferred&&!kw.added(b)&&!l.getReadFunction(a,b.name.value)&&globalThis.__DEV__!==!1&&Oe.error(13,yo(b),i)});try{var m=l.identify(i,{typename:a,selectionSet:o,fragmentMap:s.fragmentMap,storeObject:u,readField:d}),y=m[0],g=m[1];r=r||y,g&&(u=s.merge(u,g))}catch(N){if(!r)throw N}if(typeof r=="string"){var v=$u(r),w=s.written[r]||(s.written[r]=[]);if(w.indexOf(o)>=0||(w.push(o),this.reader&&this.reader.isFresh(i,v,o,s)))return v;var T=s.incomingById.get(r);return T?(T.storeObject=s.merge(T.storeObject,u),T.mergeTree=$y(T.mergeTree,c),h.forEach(function(N){return T.fieldNodeSet.add(N)})):s.incomingById.set(r,{storeObject:u,mergeTree:gp(c)?void 0:c,fieldNodeSet:h}),v}return u},e.prototype.processFieldValue=function(t,n,r,i){var o=this;return!n.selectionSet||t===null?globalThis.__DEV__!==!1?HI(t):t:Qt(t)?t.map(function(s,c){var l=o.processFieldValue(s,n,r,qb(i,c));return Wb(i,c),l}):this.processSelectionSet({result:t,selectionSet:n.selectionSet,context:r,mergeTree:i})},e.prototype.flattenFields=function(t,n,r,i){i===void 0&&(i=Oy(n,t,r.fragmentMap));var o=new Map,s=this.cache.policies,c=new Ro(!1);return function l(u,a){var d=c.lookup(u,a.clientOnly,a.deferred);d.visited||(d.visited=!0,u.selections.forEach(function(h){if(wf(h,r.variables)){var m=a.clientOnly,y=a.deferred;if(!(m&&y)&&Ur(h.directives)&&h.directives.forEach(function(w){var T=w.name.value;if(T==="client"&&(m=!0),T==="defer"){var N=im(w,r.variables);(!N||N.if!==!1)&&(y=!0)}}),Ts(h)){var g=o.get(h);g&&(m=m&&g.clientOnly,y=y&&g.deferred),o.set(h,Kv(r,m,y))}else{var v=rm(h,r.lookupFragment);if(!v&&h.kind===B.FRAGMENT_SPREAD)throw Qn(14,h.name.value);v&&s.fragmentMatches(v,i,n,r.variables)&&l(v.selectionSet,Kv(r,m,y))}}}))}(t,r),o},e.prototype.applyMerges=function(t,n,r,i,o){var s,c=this;if(t.map.size&&!Tt(r)){var l=!Qt(r)&&(Tt(n)||Mu(n))?n:void 0,u=r;l&&!o&&(o=[Tt(l)?l.__ref:l]);var a,d=function(h,m){return Qt(h)?typeof m=="number"?h[m]:void 0:i.store.getFieldValue(h,String(m))};t.map.forEach(function(h,m){var y=d(l,m),g=d(u,m);if(g!==void 0){o&&o.push(m);var v=c.applyMerges(h,y,g,i,o);v!==g&&(a=a||new Map,a.set(m,v)),o&&Oe(o.pop()===m)}}),a&&(r=Qt(u)?u.slice(0):ie({},u),a.forEach(function(h,m){r[m]=h}))}return t.info?this.cache.policies.runMergeFunction(n,r,t.info,i,o&&(s=i.store).getStorage.apply(s,o)):r},e}(),vC=[];function qb(e,t){var n=e.map;return n.has(t)||n.set(t,vC.pop()||{map:new Map}),n.get(t)}function $y(e,t){if(e===t||!t||gp(t))return e;if(!e||gp(e))return t;var n=e.info&&t.info?ie(ie({},e.info),t.info):e.info||t.info,r=e.map.size&&t.map.size,i=r?new Map:e.map.size?e.map:t.map,o={info:n,map:i};if(r){var s=new Set(t.map.keys());e.map.forEach(function(c,l){o.map.set(l,$y(c,t.map.get(l))),s.delete(l)}),s.forEach(function(c){o.map.set(c,$y(t.map.get(c),e.map.get(c)))})}return o}function gp(e){return!e||!(e.info||e.map.size)}function Wb(e,t){var n=e.map,r=n.get(t);r&&gp(r)&&(vC.push(r),n.delete(t))}var Hb=new Set;function U7(e,t,n,r){var i=function(d){var h=r.getFieldValue(d,n);return typeof h=="object"&&h},o=i(e);if(o){var s=i(t);if(s&&!Tt(o)&&!bt(o,s)&&!Object.keys(o).every(function(d){return r.getFieldValue(s,d)!==void 0})){var c=r.getFieldValue(e,"__typename")||r.getFieldValue(t,"__typename"),l=bs(n),u="".concat(c,".").concat(l);if(!Hb.has(u)){Hb.add(u);var a=[];!Qt(o)&&!Qt(s)&&[o,s].forEach(function(d){var h=r.getFieldValue(d,"__typename");typeof h=="string"&&!a.includes(h)&&a.push(h)}),globalThis.__DEV__!==!1&&Oe.warn(15,l,c,a.length?"either ensure all objects of type "+a.join(" and ")+" have an ID or a custom merge function, or ":"",u,ie({},o),ie({},s))}}}}var yC=function(e){zi(t,e);function t(n){n===void 0&&(n={});var r=e.call(this)||this;return r.watches=new Set,r.addTypenameTransform=new BI(kw),r.assumeImmutableResults=!0,r.makeVar=M7,r.txCount=0,r.config=N7(n),r.addTypename=!!r.config.addTypename,r.policies=new D7({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return t.prototype.init=function(){var n=this.data=new ef.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=n.stump,this.resetResultCache()},t.prototype.resetResultCache=function(n){var r=this,i=this.storeReader,o=this.config.fragments;this.storeWriter=new F7(this,this.storeReader=new O7({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:lC(this.config),canon:n?void 0:i&&i.canon,fragments:o}),o),this.maybeBroadcastWatch=Zc(function(s,c){return r.broadcastWatch(s,c)},{max:this.config.resultCacheMaxSize||$i["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(s){var c=s.optimistic?r.optimisticData:r.data;if(Fc(c)){var l=s.optimistic,u=s.id,a=s.variables;return c.makeCacheKey(s.query,s.callback,ds({optimistic:l,id:u,variables:a}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(s){return s.resetCaching()})},t.prototype.restore=function(n){return this.init(),n&&this.data.replace(n),this},t.prototype.extract=function(n){return n===void 0&&(n=!1),(n?this.optimisticData:this.data).extract()},t.prototype.read=function(n){var r=n.returnPartialData,i=r===void 0?!1:r;try{return this.storeReader.diffQueryAgainstStore(ie(ie({},n),{store:n.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(o){if(o instanceof sC)return null;throw o}},t.prototype.write=function(n){try{return++this.txCount,this.storeWriter.writeToStore(this.data,n)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},t.prototype.modify=function(n){if(wn.call(n,"id")&&!n.id)return!1;var r=n.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(n.id||"ROOT_QUERY",n.fields)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},t.prototype.diff=function(n){return this.storeReader.diffQueryAgainstStore(ie(ie({},n),{store:n.optimistic?this.optimisticData:this.data,rootId:n.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(n){var r=this;return this.watches.size||k7(this),this.watches.add(n),n.immediate&&this.maybeBroadcastWatch(n),function(){r.watches.delete(n)&&!r.watches.size&&Db(r),r.maybeBroadcastWatch.forget(n)}},t.prototype.gc=function(n){var r;ds.reset(),sa.reset(),this.addTypenameTransform.resetCache(),(r=this.config.fragments)===null||r===void 0||r.resetCaches();var i=this.optimisticData.gc();return n&&!this.txCount&&(n.resetResultCache?this.resetResultCache(n.resetResultIdentities):n.resetResultIdentities&&this.storeReader.resetCanon()),i},t.prototype.retain=function(n,r){return(r?this.optimisticData:this.data).retain(n)},t.prototype.release=function(n,r){return(r?this.optimisticData:this.data).release(n)},t.prototype.identify=function(n){if(Tt(n))return n.__ref;try{return this.policies.identify(n)[0]}catch(r){globalThis.__DEV__!==!1&&Oe.warn(r)}},t.prototype.evict=function(n){if(!n.id){if(wn.call(n,"id"))return!1;n=ie(ie({},n),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(n,this.data)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},t.prototype.reset=function(n){var r=this;return this.init(),ds.reset(),n&&n.discardWatches?(this.watches.forEach(function(i){return r.maybeBroadcastWatch.forget(i)}),this.watches.clear(),Db(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(n){var r=this.optimisticData.removeLayer(n);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())},t.prototype.batch=function(n){var r=this,i=n.update,o=n.optimistic,s=o===void 0?!0:o,c=n.removeOptimistic,l=n.onWatchUpdated,u,a=function(h){var m=r,y=m.data,g=m.optimisticData;++r.txCount,h&&(r.data=r.optimisticData=h);try{return u=i(r)}finally{--r.txCount,r.data=y,r.optimisticData=g}},d=new Set;return l&&!this.txCount&&this.broadcastWatches(ie(ie({},n),{onWatchUpdated:function(h){return d.add(h),!1}})),typeof s=="string"?this.optimisticData=this.optimisticData.addLayer(s,a):s===!1?a(this.data):a(),typeof c=="string"&&(this.optimisticData=this.optimisticData.removeLayer(c)),l&&d.size?(this.broadcastWatches(ie(ie({},n),{onWatchUpdated:function(h,m){var y=l.call(this,h,m);return y!==!1&&d.delete(h),y}})),d.size&&d.forEach(function(h){return r.maybeBroadcastWatch.dirty(h)})):this.broadcastWatches(n),u},t.prototype.performTransaction=function(n,r){return this.batch({update:n,optimistic:r||r!==null})},t.prototype.transformDocument=function(n){return this.addTypenameToDocument(this.addFragmentsToDocument(n))},t.prototype.fragmentMatches=function(n,r){return this.policies.fragmentMatches(n,r)},t.prototype.lookupFragment=function(n){var r;return((r=this.config.fragments)===null||r===void 0?void 0:r.lookup(n))||null},t.prototype.broadcastWatches=function(n){var r=this;this.txCount||this.watches.forEach(function(i){return r.maybeBroadcastWatch(i,n)})},t.prototype.addFragmentsToDocument=function(n){var r=this.config.fragments;return r?r.transform(n):n},t.prototype.addTypenameToDocument=function(n){return this.addTypename?this.addTypenameTransform.transformDocument(n):n},t.prototype.broadcastWatch=function(n,r){var i=n.lastDiff,o=this.diff(n);r&&(n.optimistic&&typeof r.optimistic=="string"&&(o.fromOptimisticTransaction=!0),r.onWatchUpdated&&r.onWatchUpdated.call(this,n,o,i)===!1)||(!i||!bt(i.result,o.result))&&n.callback(n.lastDiff=o,i)},t}(oC);globalThis.__DEV__!==!1&&(yC.prototype.getMemoryInternals=F6);var pt;(function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"})(pt||(pt={}));function zu(e){return e?e<7:!1}var Gb=Object.assign,B7=Object.hasOwnProperty,Vy=function(e){zi(t,e);function t(n){var r=n.queryManager,i=n.queryInfo,o=n.options,s=e.call(this,function(v){try{var w=v._subscription._observer;w&&!w.error&&(w.error=$7)}catch{}var T=!s.observers.size;s.observers.add(v);var N=s.last;return N&&N.error?v.error&&v.error(N.error):N&&N.result&&v.next&&v.next(s.maskResult(N.result)),T&&s.reobserve().catch(function(){}),function(){s.observers.delete(v)&&!s.observers.size&&s.tearDownQuery()}})||this;s.observers=new Set,s.subscriptions=new Set,s.queryInfo=i,s.queryManager=r,s.waitForOwnResult=Xv(o.fetchPolicy),s.isTornDown=!1,s.subscribeToMore=s.subscribeToMore.bind(s),s.maskResult=s.maskResult.bind(s);var c=r.defaultOptions.watchQuery,l=c===void 0?{}:c,u=l.fetchPolicy,a=u===void 0?"cache-first":u,d=o.fetchPolicy,h=d===void 0?a:d,m=o.initialFetchPolicy,y=m===void 0?h==="standby"?a:h:m;s.options=ie(ie({},o),{initialFetchPolicy:y,fetchPolicy:h}),s.queryId=i.queryId||r.generateQueryId();var g=ba(s.query);return s.queryName=g&&g.name&&g.name.value,s}return Object.defineProperty(t.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var n=this;return new Promise(function(r,i){var o={next:function(c){r(c),n.observers.delete(o),n.observers.size||n.queryManager.removeQuery(n.queryId),setTimeout(function(){s.unsubscribe()},0)},error:i},s=n.subscribe(o)})},t.prototype.resetDiff=function(){this.queryInfo.resetDiff()},t.prototype.getCurrentFullResult=function(n){n===void 0&&(n=!0);var r=this.getLastResult(!0),i=this.queryInfo.networkStatus||r&&r.networkStatus||pt.ready,o=ie(ie({},r),{loading:zu(i),networkStatus:i}),s=this.options.fetchPolicy,c=s===void 0?"cache-first":s;if(!(Xv(c)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers))if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var l=this.queryInfo.getDiff();(l.complete||this.options.returnPartialData)&&(o.data=l.result),bt(o.data,{})&&(o.data=void 0),l.complete?(delete o.partial,l.complete&&o.networkStatus===pt.loading&&(c==="cache-first"||c==="cache-only")&&(o.networkStatus=pt.ready,o.loading=!1)):o.partial=!0,globalThis.__DEV__!==!1&&!l.complete&&!this.options.partialRefetch&&!o.loading&&!o.data&&!o.error&&wC(l.missing)}return n&&this.updateLastResult(o),o},t.prototype.getCurrentResult=function(n){return n===void 0&&(n=!0),this.maskResult(this.getCurrentFullResult(n))},t.prototype.isDifferentFromLastResult=function(n,r){if(!this.last)return!0;var i=this.queryManager.getDocumentInfo(this.query),o=this.queryManager.dataMasking,s=o?i.nonReactiveQuery:this.query,c=o||i.hasNonreactiveDirective?!ZI(s,this.last.result,n,this.variables):!bt(this.last.result,n);return c||r&&!bt(this.last.variables,r)},t.prototype.getLast=function(n,r){var i=this.last;if(i&&i[n]&&(!r||bt(i.variables,this.variables)))return i[n]},t.prototype.getLastResult=function(n){return this.getLast("result",n)},t.prototype.getLastError=function(n){return this.getLast("error",n)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(n){var r,i={pollInterval:0},o=this.options.fetchPolicy;if(o==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",globalThis.__DEV__!==!1&&n&&B7.call(n,"variables")){var s=RI(this.query),c=s.variableDefinitions;(!c||!c.some(function(l){return l.variable.name.value==="variables"}))&&globalThis.__DEV__!==!1&&Oe.warn(21,n,((r=s.name)===null||r===void 0?void 0:r.value)||s)}return n&&!bt(this.options.variables,n)&&(i.variables=this.options.variables=ie(ie({},this.options.variables),n)),this.queryInfo.resetLastWrite(),this.reobserve(i,pt.refetch)},t.prototype.fetchMore=function(n){var r=this,i=ie(ie({},n.query?n:ie(ie(ie(ie({},this.options),{query:this.options.query}),n),{variables:ie(ie({},this.options.variables),n.variables)})),{fetchPolicy:"no-cache"});i.query=this.transformDocument(i.query);var o=this.queryManager.generateQueryId();this.lastQuery=n.query?this.transformDocument(this.options.query):i.query;var s=this.queryInfo,c=s.networkStatus;s.networkStatus=pt.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var l=new Set,u=n==null?void 0:n.updateQuery,a=this.options.fetchPolicy!=="no-cache";return a||Oe(u,22),this.queryManager.fetchQuery(o,i,pt.fetchMore).then(function(d){if(r.queryManager.removeQuery(o),s.networkStatus===pt.fetchMore&&(s.networkStatus=c),a)r.queryManager.cache.batch({update:function(y){var g=n.updateQuery;g?y.updateQuery({query:r.query,variables:r.variables,returnPartialData:!0,optimistic:!1},function(v){return g(v,{fetchMoreResult:d.data,variables:i.variables})}):y.writeQuery({query:i.query,variables:i.variables,data:d.data})},onWatchUpdated:function(y){l.add(y.query)}});else{var h=r.getLast("result"),m=u(h.data,{fetchMoreResult:d.data,variables:i.variables});r.reportResult(ie(ie({},h),{networkStatus:c,loading:zu(c),data:m}),r.variables)}return r.maskResult(d)}).finally(function(){a&&!l.has(r.query)&&EC(r)})},t.prototype.subscribeToMore=function(n){var r=this,i=this.queryManager.startGraphQLSubscription({query:n.document,variables:n.variables,context:n.context}).subscribe({next:function(o){var s=n.updateQuery;s&&r.updateQuery(function(c,l){return s(c,ie({subscriptionData:o},l))})},error:function(o){if(n.onError){n.onError(o);return}globalThis.__DEV__!==!1&&Oe.error(23,o)}});return this.subscriptions.add(i),function(){r.subscriptions.delete(i)&&i.unsubscribe()}},t.prototype.setOptions=function(n){return this.reobserve(n)},t.prototype.silentSetOptions=function(n){var r=xa(this.options,n||{});Gb(this.options,r)},t.prototype.setVariables=function(n){return bt(this.variables,n)?this.observers.size?this.result():Promise.resolve():(this.options.variables=n,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:n},pt.setVariables):Promise.resolve())},t.prototype.updateQuery=function(n){var r=this.queryManager,i=r.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}),o=i.result,s=i.complete,c=n(o,{variables:this.variables,complete:!!s,previousData:o});c&&(r.cache.writeQuery({query:this.options.query,data:c,variables:this.variables}),r.broadcastQueries())},t.prototype.startPolling=function(n){this.options.pollInterval=n,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(n,r){if(r.nextFetchPolicy){var i=r.fetchPolicy,o=i===void 0?"cache-first":i,s=r.initialFetchPolicy,c=s===void 0?o:s;o==="standby"||(typeof r.nextFetchPolicy=="function"?r.fetchPolicy=r.nextFetchPolicy(o,{reason:n,options:r,observable:this,initialFetchPolicy:c}):n==="variables-changed"?r.fetchPolicy=c:r.fetchPolicy=r.nextFetchPolicy)}return r.fetchPolicy},t.prototype.fetch=function(n,r,i){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,n,r,i)},t.prototype.updatePolling=function(){var n=this;if(!this.queryManager.ssrMode){var r=this,i=r.pollingInfo,o=r.options.pollInterval;if(!o||!this.hasObservers()){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===o)){Oe(o,24);var s=i||(this.pollingInfo={});s.interval=o;var c=function(){var u,a;n.pollingInfo&&(!zu(n.queryInfo.networkStatus)&&!(!((a=(u=n.options).skipPollAttempt)===null||a===void 0)&&a.call(u))?n.reobserve({fetchPolicy:n.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},pt.poll).then(l,l):l())},l=function(){var u=n.pollingInfo;u&&(clearTimeout(u.timeout),u.timeout=setTimeout(c,u.interval))};l()}}},t.prototype.updateLastResult=function(n,r){r===void 0&&(r=this.variables);var i=this.getLastError();return i&&this.last&&!bt(r,this.last.variables)&&(i=void 0),this.last=ie({result:this.queryManager.assumeImmutableResults?n:HI(n),variables:r},i?{error:i}:null)},t.prototype.reobserveAsConcast=function(n,r){var i=this;this.isTornDown=!1;var o=r===pt.refetch||r===pt.fetchMore||r===pt.poll,s=this.options.variables,c=this.options.fetchPolicy,l=xa(this.options,n||{}),u=o?l:Gb(this.options,l),a=this.transformDocument(u.query);this.lastQuery=a,o||(this.updatePolling(),n&&n.variables&&!bt(n.variables,s)&&u.fetchPolicy!=="standby"&&(u.fetchPolicy===c||typeof u.nextFetchPolicy=="function")&&(this.applyNextFetchPolicy("variables-changed",u),r===void 0&&(r=pt.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=Xv(u.fetchPolicy));var d=function(){i.concast===y&&(i.waitForOwnResult=!1)},h=u.variables&&ie({},u.variables),m=this.fetch(u,r,a),y=m.concast,g=m.fromLink,v={next:function(w){bt(i.variables,h)&&(d(),i.reportResult(w,h))},error:function(w){bt(i.variables,h)&&(KI(w)||(w=new oo({networkError:w})),d(),i.reportError(w,h))}};return!o&&(g||!this.concast)&&(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=y,this.observer=v),y.addObserver(v),y},t.prototype.reobserve=function(n,r){return I9(this.reobserveAsConcast(n,r).promise.then(this.maskResult))},t.prototype.resubscribeAfterError=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=this.last;this.resetLastResults();var o=this.subscribe.apply(this,n);return this.last=i,o},t.prototype.observe=function(){this.reportResult(this.getCurrentFullResult(!1),this.variables)},t.prototype.reportResult=function(n,r){var i=this.getLastError(),o=this.isDifferentFromLastResult(n,r);(i||!n.partial||this.options.returnPartialData)&&this.updateLastResult(n,r),(i||o)&&Dc(this.observers,"next",this.maskResult(n))},t.prototype.reportError=function(n,r){var i=ie(ie({},this.getLastResult()),{error:n,errors:n.graphQLErrors,networkStatus:pt.error,loading:!1});this.updateLastResult(i,r),Dc(this.observers,"error",this.last.error=n)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(n){return n.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t.prototype.transformDocument=function(n){return this.queryManager.transform(n)},t.prototype.maskResult=function(n){return n&&"data"in n?ie(ie({},n),{data:this.queryManager.maskOperation({document:this.query,data:n.data,fetchPolicy:this.options.fetchPolicy,id:this.queryId})}):n},t}(St);GI(Vy);function EC(e){var t=e.options,n=t.fetchPolicy,r=t.nextFetchPolicy;return n==="cache-and-network"||n==="network-only"?e.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(i,o){return this.nextFetchPolicy=r,typeof this.nextFetchPolicy=="function"?this.nextFetchPolicy(i,o):n}}):e.reobserve()}function $7(e){globalThis.__DEV__!==!1&&Oe.error(25,e.message,e.stack)}function wC(e){globalThis.__DEV__!==!1&&e&&globalThis.__DEV__!==!1&&Oe.debug(26,e)}function Xv(e){return e==="network-only"||e==="no-cache"||e==="standby"}var Pu=new(Ca?WeakMap:Map);function Jv(e,t){var n=e[t];typeof n=="function"&&(e[t]=function(){return Pu.set(e,(Pu.get(e)+1)%1e15),n.apply(this,arguments)})}function Yb(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var Zv=function(){function e(t,n){n===void 0&&(n=t.generateQueryId()),this.queryId=n,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=t.cache;Pu.has(r)||(Pu.set(r,0),Jv(r,"evict"),Jv(r,"modify"),Jv(r,"reset"))}return e.prototype.init=function(t){var n=t.networkStatus||pt.loading;return this.variables&&this.networkStatus!==pt.loading&&!bt(this.variables,t.variables)&&(n=pt.setVariables),bt(t.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:t.document,variables:t.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:n}),t.observableQuery&&this.setObservableQuery(t.observableQuery),t.lastRequestId&&(this.lastRequestId=t.lastRequestId),this},e.prototype.reset=function(){Yb(this),this.dirty=!1},e.prototype.resetDiff=function(){this.lastDiff=void 0},e.prototype.getDiff=function(){var t=this.getDiffOptions();if(this.lastDiff&&bt(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var n=this.observableQuery;if(n&&n.options.fetchPolicy==="no-cache")return{complete:!1};var r=this.cache.diff(t);return this.updateLastDiff(r,t),r},e.prototype.updateLastDiff=function(t,n){this.lastDiff=t?{diff:t,options:n||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(t){var n;return t===void 0&&(t=this.variables),{query:this.document,variables:t,returnPartialData:!0,optimistic:!0,canonizeResults:(n=this.observableQuery)===null||n===void 0?void 0:n.options.canonizeResults}},e.prototype.setDiff=function(t){var n=this,r,i=this.lastDiff&&this.lastDiff.diff;t&&!t.complete&&(!((r=this.observableQuery)===null||r===void 0)&&r.getLastError())||(this.updateLastDiff(t),!this.dirty&&!bt(i&&i.result,t&&t.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return n.notify()},0))))},e.prototype.setObservableQuery=function(t){var n=this;t!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=t,t?(t.queryInfo=this,this.listeners.add(this.oqListener=function(){var r=n.getDiff();r.fromOptimisticTransaction?t.observe():EC(t)})):delete this.oqListener)},e.prototype.notify=function(){var t=this;Yb(this),this.shouldNotify()&&this.listeners.forEach(function(n){return n(t)}),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(zu(this.networkStatus)&&this.observableQuery){var t=this.observableQuery.options.fetchPolicy;if(t!=="cache-only"&&t!=="cache-and-network")return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel;var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(t){var n=this;t===void 0&&(t=this.variables);var r=this.observableQuery;if(!(r&&r.options.fetchPolicy==="no-cache")){var i=ie(ie({},this.getDiffOptions(t)),{watcher:this,callback:function(o){return n.setDiff(o)}});(!this.lastWatch||!bt(i,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(t,n){var r=this.lastWrite;return!(r&&r.dmCount===Pu.get(this.cache)&&bt(n,r.variables)&&bt(t.data,r.result.data))},e.prototype.markResult=function(t,n,r,i){var o=this,s=new Ns,c=Ur(t.errors)?t.errors.slice(0):[];if(this.reset(),"incremental"in t&&Ur(t.incremental)){var l=YI(this.getDiff().result,t);t.data=l}else if("hasNext"in t&&t.hasNext){var u=this.getDiff();t.data=s.merge(u.result,t.data)}this.graphQLErrors=c,r.fetchPolicy==="no-cache"?this.updateLastDiff({result:t.data,complete:!0},this.getDiffOptions(r.variables)):i!==0&&(jy(t,r.errorPolicy)?this.cache.performTransaction(function(a){if(o.shouldWrite(t,r.variables))a.writeQuery({query:n,data:t.data,variables:r.variables,overwrite:i===1}),o.lastWrite={result:t,variables:r.variables,dmCount:Pu.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete){t.data=o.lastDiff.diff.result;return}var d=o.getDiffOptions(r.variables),h=a.diff(d);!o.stopped&&bt(o.variables,r.variables)&&o.updateWatch(r.variables),o.updateLastDiff(h,d),h.complete&&(t.data=h.result)}):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=pt.ready},e.prototype.markError=function(t){return this.networkStatus=pt.error,this.lastWrite=void 0,this.reset(),t.graphQLErrors&&(this.graphQLErrors=t.graphQLErrors),t.networkError&&(this.networkError=t.networkError),t},e}();function jy(e,t){t===void 0&&(t="none");var n=t==="ignore"||t==="all",r=!Fh(e);return!r&&n&&e.data&&(r=!0),r}var V7=Object.prototype.hasOwnProperty,Qb=Object.create(null),j7=function(){function e(t){var n=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new Rw($i["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Ro(!1),this.noCacheWarningsByQueryId=new Set;var r=new BI(function(o){return n.cache.transformDocument(o)},{cache:!1});this.cache=t.cache,this.link=t.link,this.defaultOptions=t.defaultOptions,this.queryDeduplication=t.queryDeduplication,this.clientAwareness=t.clientAwareness,this.localState=t.localState,this.ssrMode=t.ssrMode,this.assumeImmutableResults=t.assumeImmutableResults,this.dataMasking=t.dataMasking;var i=t.documentTransform;this.documentTransform=i?r.concat(i).concat(r):r,this.defaultContext=t.defaultContext||Object.create(null),(this.onBroadcast=t.onBroadcast)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var t=this;this.queries.forEach(function(n,r){t.stopQueryNoBroadcast(r)}),this.cancelPendingFetches(Qn(27))},e.prototype.cancelPendingFetches=function(t){this.fetchCancelFns.forEach(function(n){return n(t)}),this.fetchCancelFns.clear()},e.prototype.mutate=function(t){return ts(this,arguments,void 0,function(n){var r,i,o,s,c,l,u,a=n.mutation,d=n.variables,h=n.optimisticResponse,m=n.updateQueries,y=n.refetchQueries,g=y===void 0?[]:y,v=n.awaitRefetchQueries,w=v===void 0?!1:v,T=n.update,N=n.onQueryUpdated,b=n.fetchPolicy,S=b===void 0?((l=this.defaultOptions.mutate)===null||l===void 0?void 0:l.fetchPolicy)||"network-only":b,x=n.errorPolicy,O=x===void 0?((u=this.defaultOptions.mutate)===null||u===void 0?void 0:u.errorPolicy)||"none":x,M=n.keepRootFields,U=n.context;return ns(this,function(z){switch(z.label){case 0:return Oe(a,28),Oe(S==="network-only"||S==="no-cache",29),r=this.generateMutationId(),a=this.cache.transformForLink(this.transform(a)),i=this.getDocumentInfo(a).hasClientExports,d=this.getVariables(a,d),i?[4,this.localState.addExportedVariables(a,d,U)]:[3,2];case 1:d=z.sent(),z.label=2;case 2:return o=this.mutationStore&&(this.mutationStore[r]={mutation:a,variables:d,loading:!0,error:null}),s=h&&this.markMutationOptimistic(h,{mutationId:r,document:a,variables:d,fetchPolicy:S,errorPolicy:O,context:U,updateQueries:m,update:T,keepRootFields:M}),this.broadcastQueries(),c=this,[2,new Promise(function(Q,ee){return Hv(c.getObservableFromLink(a,ie(ie({},U),{optimisticResponse:s?h:void 0}),d,{},!1),function(X){if(Fh(X)&&O==="none")throw new oo({graphQLErrors:My(X)});o&&(o.loading=!1,o.error=null);var F=ie({},X);return typeof g=="function"&&(g=g(F)),O==="ignore"&&Fh(F)&&delete F.errors,c.markMutationResult({mutationId:r,result:F,document:a,variables:d,fetchPolicy:S,errorPolicy:O,context:U,update:T,updateQueries:m,awaitRefetchQueries:w,refetchQueries:g,removeOptimistic:s?r:void 0,onQueryUpdated:N,keepRootFields:M})}).subscribe({next:function(X){c.broadcastQueries(),(!("hasNext"in X)||X.hasNext===!1)&&Q(ie(ie({},X),{data:c.maskOperation({document:a,data:X.data,fetchPolicy:S,id:r})}))},error:function(X){o&&(o.loading=!1,o.error=X),s&&c.cache.removeOptimistic(r),c.broadcastQueries(),ee(X instanceof oo?X:new oo({networkError:X}))}})})]}})})},e.prototype.markMutationResult=function(t,n){var r=this;n===void 0&&(n=this.cache);var i=t.result,o=[],s=t.fetchPolicy==="no-cache";if(!s&&jy(i,t.errorPolicy)){if(Vu(i)||o.push({result:i.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}),Vu(i)&&Ur(i.incremental)){var c=n.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0}),l=void 0;c.result&&(l=YI(c.result,i)),typeof l<"u"&&(i.data=l,o.push({result:l,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}))}var u=t.updateQueries;u&&this.queries.forEach(function(d,h){var m=d.observableQuery,y=m&&m.queryName;if(!(!y||!V7.call(u,y))){var g=u[y],v=r.queries.get(h),w=v.document,T=v.variables,N=n.diff({query:w,variables:T,returnPartialData:!0,optimistic:!1}),b=N.result,S=N.complete;if(S&&b){var x=g(b,{mutationResult:i,queryName:w&&xc(w)||void 0,queryVariables:T});x&&o.push({result:x,dataId:"ROOT_QUERY",query:w,variables:T})}}})}if(o.length>0||(t.refetchQueries||"").length>0||t.update||t.onQueryUpdated||t.removeOptimistic){var a=[];if(this.refetchQueries({updateCache:function(d){s||o.forEach(function(g){return d.write(g)});var h=t.update,m=!L9(i)||Vu(i)&&!i.hasNext;if(h){if(!s){var y=d.diff({id:"ROOT_MUTATION",query:r.getDocumentInfo(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0});y.complete&&(i=ie(ie({},i),{data:y.result}),"incremental"in i&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}m&&h(d,i,{context:t.context,variables:t.variables})}!s&&!t.keepRootFields&&m&&d.modify({id:"ROOT_MUTATION",fields:function(g,v){var w=v.fieldName,T=v.DELETE;return w==="__typename"?g:T}})},include:t.refetchQueries,optimistic:!1,removeOptimistic:t.removeOptimistic,onQueryUpdated:t.onQueryUpdated||null}).forEach(function(d){return a.push(d)}),t.awaitRefetchQueries||t.onQueryUpdated)return Promise.all(a).then(function(){return i})}return Promise.resolve(i)},e.prototype.markMutationOptimistic=function(t,n){var r=this,i=typeof t=="function"?t(n.variables,{IGNORE:Qb}):t;return i===Qb?!1:(this.cache.recordOptimisticTransaction(function(o){try{r.markMutationResult(ie(ie({},n),{result:{data:i}}),o)}catch(s){globalThis.__DEV__!==!1&&Oe.error(s)}},n.mutationId),!0)},e.prototype.fetchQuery=function(t,n,r){return this.fetchConcastWithInfo(t,n,r).concast.promise},e.prototype.getQueryStore=function(){var t=Object.create(null);return this.queries.forEach(function(n,r){t[r]={variables:n.variables,networkStatus:n.networkStatus,networkError:n.networkError,graphQLErrors:n.graphQLErrors}}),t},e.prototype.resetErrors=function(t){var n=this.queries.get(t);n&&(n.networkError=void 0,n.graphQLErrors=[])},e.prototype.transform=function(t){return this.documentTransform.transformDocument(t)},e.prototype.getDocumentInfo=function(t){var n=this.transformCache;if(!n.has(t)){var r={hasClientExports:m6(t),hasForcedResolvers:this.localState.shouldForceResolvers(t),hasNonreactiveDirective:Xc(["nonreactive"],t),nonReactiveQuery:E9(t),clientQuery:this.localState.clientQuery(t),serverQuery:VI([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],t),defaultVars:Aw(ba(t)),asQuery:ie(ie({},t),{definitions:t.definitions.map(function(i){return i.kind==="OperationDefinition"&&i.operation!=="query"?ie(ie({},i),{operation:"query"}):i})})};n.set(t,r)}return n.get(t)},e.prototype.getVariables=function(t,n){return ie(ie({},this.getDocumentInfo(t).defaultVars),n)},e.prototype.watchQuery=function(t){var n=this.transform(t.query);t=ie(ie({},t),{variables:this.getVariables(n,t.variables)}),typeof t.notifyOnNetworkStatusChange>"u"&&(t.notifyOnNetworkStatusChange=!1);var r=new Zv(this),i=new Vy({queryManager:this,queryInfo:r,options:t});return i.lastQuery=n,this.queries.set(i.queryId,r),r.init({document:n,observableQuery:i,variables:i.variables}),i},e.prototype.query=function(t,n){var r=this;n===void 0&&(n=this.generateQueryId()),Oe(t.query,30),Oe(t.query.kind==="Document",31),Oe(!t.returnPartialData,32),Oe(!t.pollInterval,33);var i=this.transform(t.query);return this.fetchQuery(n,ie(ie({},t),{query:i})).then(function(o){return o&&ie(ie({},o),{data:r.maskOperation({document:i,data:o.data,fetchPolicy:t.fetchPolicy,id:n})})}).finally(function(){return r.stopQuery(n)})},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(t){this.stopQueryInStoreNoBroadcast(t),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(t){var n=this.queries.get(t);n&&n.stop()},e.prototype.clearStore=function(t){return t===void 0&&(t={discardWatches:!0}),this.cancelPendingFetches(Qn(34)),this.queries.forEach(function(n){n.observableQuery?n.networkStatus=pt.loading:n.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(t)},e.prototype.getObservableQueries=function(t){var n=this;t===void 0&&(t="active");var r=new Map,i=new Map,o=new Map,s=new Set;return Array.isArray(t)&&t.forEach(function(c){if(typeof c=="string")i.set(c,c),o.set(c,!1);else if(W6(c)){var l=sa(n.transform(c));i.set(l,xc(c)),o.set(l,!1)}else Yt(c)&&c.query&&s.add(c)}),this.queries.forEach(function(c,l){var u=c.observableQuery,a=c.document;if(u){if(t==="all"){r.set(l,u);return}var d=u.queryName,h=u.options.fetchPolicy;if(h==="standby"||t==="active"&&!u.hasObservers())return;(t==="active"||d&&o.has(d)||a&&o.has(sa(a)))&&(r.set(l,u),d&&o.set(d,!0),a&&o.set(sa(a),!0))}}),s.size&&s.forEach(function(c){var l=gy("legacyOneTimeQuery"),u=n.getQuery(l).init({document:c.query,variables:c.variables}),a=new Vy({queryManager:n,queryInfo:u,options:ie(ie({},c),{fetchPolicy:"network-only"})});Oe(a.queryId===l),u.setObservableQuery(a),r.set(l,a)}),globalThis.__DEV__!==!1&&o.size&&o.forEach(function(c,l){if(!c){var u=i.get(l);u?globalThis.__DEV__!==!1&&Oe.warn(35,u):globalThis.__DEV__!==!1&&Oe.warn(36)}}),r},e.prototype.reFetchObservableQueries=function(t){var n=this;t===void 0&&(t=!1);var r=[];return this.getObservableQueries(t?"all":"active").forEach(function(i,o){var s=i.options.fetchPolicy;i.resetLastResults(),(t||s!=="standby"&&s!=="cache-only")&&r.push(i.refetch()),n.getQuery(o).setDiff(null)}),this.broadcastQueries(),Promise.all(r)},e.prototype.setObservableQuery=function(t){this.getQuery(t.queryId).setObservableQuery(t)},e.prototype.startGraphQLSubscription=function(t){var n=this,r=t.query,i=t.variables,o=t.fetchPolicy,s=t.errorPolicy,c=s===void 0?"none":s,l=t.context,u=l===void 0?{}:l,a=t.extensions,d=a===void 0?{}:a;r=this.transform(r),i=this.getVariables(r,i);var h=function(y){return n.getObservableFromLink(r,u,y,d).map(function(g){o!=="no-cache"&&(jy(g,c)&&n.cache.write({query:r,result:g.data,dataId:"ROOT_SUBSCRIPTION",variables:y}),n.broadcastQueries());var v=Fh(g),w=J9(g);if(v||w){var T={};if(v&&(T.graphQLErrors=g.errors),w&&(T.protocolErrors=g.extensions[Fw]),c==="none"||w)throw new oo(T)}return c==="ignore"&&delete g.errors,g})};if(this.getDocumentInfo(r).hasClientExports){var m=this.localState.addExportedVariables(r,i,u).then(h);return new St(function(y){var g=null;return m.then(function(v){return g=v.subscribe(y)},y.error),function(){return g&&g.unsubscribe()}})}return h(i)},e.prototype.stopQuery=function(t){this.stopQueryNoBroadcast(t),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(t){this.stopQueryInStoreNoBroadcast(t),this.removeQuery(t)},e.prototype.removeQuery=function(t){this.fetchCancelFns.delete(t),this.queries.has(t)&&(this.getQuery(t).stop(),this.queries.delete(t))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(t){return t.notify()})},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(t,n,r,i,o){var s=this,c;o===void 0&&(o=(c=n==null?void 0:n.queryDeduplication)!==null&&c!==void 0?c:this.queryDeduplication);var l,u=this.getDocumentInfo(t),a=u.serverQuery,d=u.clientQuery;if(a){var h=this,m=h.inFlightLinkObservables,y=h.link,g={query:a,variables:r,operationName:xc(a)||void 0,context:this.prepareContext(ie(ie({},n),{forceFetch:!o})),extensions:i};if(n=g.context,o){var v=sa(a),w=ds(r),T=m.lookup(v,w);if(l=T.observable,!l){var N=new Iu([Py(y,g)]);l=T.observable=N,N.beforeNext(function b(S,x){S==="next"&&"hasNext"in x&&x.hasNext?N.beforeNext(b):m.remove(v,w)})}}else l=new Iu([Py(y,g)])}else l=new Iu([St.of({data:{}})]),n=this.prepareContext(n);return d&&(l=Hv(l,function(b){return s.localState.runResolvers({document:d,remoteResult:b,context:n,variables:r})})),l},e.prototype.getResultsFromLink=function(t,n,r){var i=t.lastRequestId=this.generateRequestId(),o=this.cache.transformForLink(r.query);return Hv(this.getObservableFromLink(o,r.context,r.variables),function(s){var c=My(s),l=c.length>0,u=r.errorPolicy;if(i>=t.lastRequestId){if(l&&u==="none")throw t.markError(new oo({graphQLErrors:c}));t.markResult(s,o,r,n),t.markReady()}var a={data:s.data,loading:!1,networkStatus:pt.ready};return l&&u==="none"&&(a.data=void 0),l&&u!=="ignore"&&(a.errors=c,a.networkStatus=pt.error),a},function(s){var c=KI(s)?s:new oo({networkError:s});throw i>=t.lastRequestId&&t.markError(c),c})},e.prototype.fetchConcastWithInfo=function(t,n,r,i){var o=this;r===void 0&&(r=pt.loading),i===void 0&&(i=n.query);var s=this.getVariables(i,n.variables),c=this.getQuery(t),l=this.defaultOptions.watchQuery,u=n.fetchPolicy,a=u===void 0?l&&l.fetchPolicy||"cache-first":u,d=n.errorPolicy,h=d===void 0?l&&l.errorPolicy||"none":d,m=n.returnPartialData,y=m===void 0?!1:m,g=n.notifyOnNetworkStatusChange,v=g===void 0?!1:g,w=n.context,T=w===void 0?{}:w,N=Object.assign({},n,{query:i,variables:s,fetchPolicy:a,errorPolicy:h,returnPartialData:y,notifyOnNetworkStatusChange:v,context:T}),b=function(U){N.variables=U;var z=o.fetchQueryByPolicy(c,N,r);return N.fetchPolicy!=="standby"&&z.sources.length>0&&c.observableQuery&&c.observableQuery.applyNextFetchPolicy("after-fetch",n),z},S=function(){return o.fetchCancelFns.delete(t)};this.fetchCancelFns.set(t,function(U){S(),setTimeout(function(){return x.cancel(U)})});var x,O;if(this.getDocumentInfo(N.query).hasClientExports)x=new Iu(this.localState.addExportedVariables(N.query,N.variables,N.context).then(b).then(function(U){return U.sources})),O=!0;else{var M=b(N.variables);O=M.fromLink,x=new Iu(M.sources)}return x.promise.then(S,S),{concast:x,fromLink:O}},e.prototype.refetchQueries=function(t){var n=this,r=t.updateCache,i=t.include,o=t.optimistic,s=o===void 0?!1:o,c=t.removeOptimistic,l=c===void 0?s?gy("refetchQueries"):void 0:c,u=t.onQueryUpdated,a=new Map;i&&this.getObservableQueries(i).forEach(function(h,m){a.set(m,{oq:h,lastDiff:n.getQuery(m).getDiff()})});var d=new Map;return r&&this.cache.batch({update:r,optimistic:s&&l||!1,removeOptimistic:l,onWatchUpdated:function(h,m,y){var g=h.watcher instanceof Zv&&h.watcher.observableQuery;if(g){if(u){a.delete(g.queryId);var v=u(g,m,y);return v===!0&&(v=g.refetch()),v!==!1&&d.set(g,v),v}u!==null&&a.set(g.queryId,{oq:g,lastDiff:y,diff:m})}}}),a.size&&a.forEach(function(h,m){var y=h.oq,g=h.lastDiff,v=h.diff,w;if(u){if(!v){var T=y.queryInfo;T.reset(),v=T.getDiff()}w=u(y,v,g)}(!u||w===!0)&&(w=y.refetch()),w!==!1&&d.set(y,w),m.indexOf("legacyOneTimeQuery")>=0&&n.stopQueryNoBroadcast(m)}),l&&this.cache.removeOptimistic(l),d},e.prototype.maskOperation=function(t){var n,r,i,o=t.document,s=t.data;if(globalThis.__DEV__!==!1){var c=t.fetchPolicy,l=t.id,u=(n=ba(o))===null||n===void 0?void 0:n.operation,a=((r=u==null?void 0:u[0])!==null&&r!==void 0?r:"o")+l;this.dataMasking&&c==="no-cache"&&!S6(o)&&!this.noCacheWarningsByQueryId.has(a)&&(this.noCacheWarningsByQueryId.add(a),globalThis.__DEV__!==!1&&Oe.warn(37,(i=xc(o))!==null&&i!==void 0?i:"Unnamed ".concat(u??"operation")))}return this.dataMasking?_7(s,o,this.cache):s},e.prototype.maskFragment=function(t){var n=t.data,r=t.fragment,i=t.fragmentName;return this.dataMasking?iC(n,r,this.cache,i):n},e.prototype.fetchQueryByPolicy=function(t,n,r){var i=this,o=n.query,s=n.variables,c=n.fetchPolicy,l=n.refetchWritePolicy,u=n.errorPolicy,a=n.returnPartialData,d=n.context,h=n.notifyOnNetworkStatusChange,m=t.networkStatus;t.init({document:o,variables:s,networkStatus:r});var y=function(){return t.getDiff()},g=function(b,S){S===void 0&&(S=t.networkStatus||pt.loading);var x=b.result;globalThis.__DEV__!==!1&&!a&&!bt(x,{})&&wC(b.missing);var O=function(M){return St.of(ie({data:M,loading:zu(S),networkStatus:S},b.complete?null:{partial:!0}))};return x&&i.getDocumentInfo(o).hasForcedResolvers?i.localState.runResolvers({document:o,remoteResult:{data:x},context:d,variables:s,onlyRunForcedResolvers:!0}).then(function(M){return O(M.data||void 0)}):u==="none"&&S===pt.refetch&&Array.isArray(b.missing)?O(void 0):O(x)},v=c==="no-cache"?0:r===pt.refetch&&l!=="merge"?1:2,w=function(){return i.getResultsFromLink(t,v,{query:o,variables:s,context:d,fetchPolicy:c,errorPolicy:u})},T=h&&typeof m=="number"&&m!==r&&zu(r);switch(c){default:case"cache-first":{var N=y();return N.complete?{fromLink:!1,sources:[g(N,t.markReady())]}:a||T?{fromLink:!0,sources:[g(N),w()]}:{fromLink:!0,sources:[w()]}}case"cache-and-network":{var N=y();return N.complete||a||T?{fromLink:!0,sources:[g(N),w()]}:{fromLink:!0,sources:[w()]}}case"cache-only":return{fromLink:!1,sources:[g(y(),t.markReady())]};case"network-only":return T?{fromLink:!0,sources:[g(y()),w()]}:{fromLink:!0,sources:[w()]};case"no-cache":return T?{fromLink:!0,sources:[g(t.getDiff()),w()]}:{fromLink:!0,sources:[w()]};case"standby":return{fromLink:!1,sources:[]}}},e.prototype.getQuery=function(t){return t&&!this.queries.has(t)&&this.queries.set(t,new Zv(this,t)),this.queries.get(t)},e.prototype.prepareContext=function(t){t===void 0&&(t={});var n=this.localState.prepareContext(t);return ie(ie(ie({},this.defaultContext),n),{clientAwareness:this.clientAwareness})},e}(),z7=function(){function e(t){var n=t.cache,r=t.client,i=t.resolvers,o=t.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=n,r&&(this.client=r),i&&this.addResolvers(i),o&&this.setFragmentMatcher(o)}return e.prototype.addResolvers=function(t){var n=this;this.resolvers=this.resolvers||{},Array.isArray(t)?t.forEach(function(r){n.resolvers=mb(n.resolvers,r)}):this.resolvers=mb(this.resolvers,t)},e.prototype.setResolvers=function(t){this.resolvers={},this.addResolvers(t)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(t){return ts(this,arguments,void 0,function(n){var r=n.document,i=n.remoteResult,o=n.context,s=n.variables,c=n.onlyRunForcedResolvers,l=c===void 0?!1:c;return ns(this,function(u){return r?[2,this.resolveDocument(r,i.data,o,s,this.fragmentMatcher,l).then(function(a){return ie(ie({},i),{data:a.result})})]:[2,i]})})},e.prototype.setFragmentMatcher=function(t){this.fragmentMatcher=t},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(t){return Xc(["client"],t)&&this.resolvers?t:null},e.prototype.serverQuery=function(t){return jI(t)},e.prototype.prepareContext=function(t){var n=this.cache;return ie(ie({},t),{cache:n,getCacheKey:function(r){return n.identify(r)}})},e.prototype.addExportedVariables=function(t){return ts(this,arguments,void 0,function(n,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),ns(this,function(o){return n?[2,this.resolveDocument(n,this.buildRootValueFromCache(n,r)||{},this.prepareContext(i),r).then(function(s){return ie(ie({},r),s.exportedVariables)})]:[2,ie({},r)]})})},e.prototype.shouldForceResolvers=function(t){var n=!1;return Tr(t,{Directive:{enter:function(r){if(r.name.value==="client"&&r.arguments&&(n=r.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),n))return cs}}}),n},e.prototype.buildRootValueFromCache=function(t,n){return this.cache.diff({query:y9(t),variables:n,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(t,n){return ts(this,arguments,void 0,function(r,i,o,s,c,l){var u,a,d,h,m,y,g,v,w,T,N;return o===void 0&&(o={}),s===void 0&&(s={}),c===void 0&&(c=function(){return!0}),l===void 0&&(l=!1),ns(this,function(b){return u=Tf(r),a=yl(r),d=gl(a),h=this.collectSelectionsToResolve(u,d),m=u.operation,y=m?m.charAt(0).toUpperCase()+m.slice(1):"Query",g=this,v=g.cache,w=g.client,T={fragmentMap:d,context:ie(ie({},o),{cache:v,client:w}),variables:s,fragmentMatcher:c,defaultOperationType:y,exportedVariables:{},selectionsToResolve:h,onlyRunForcedResolvers:l},N=!1,[2,this.resolveSelectionSet(u.selectionSet,N,i,T).then(function(S){return{result:S,exportedVariables:T.exportedVariables}})]})})},e.prototype.resolveSelectionSet=function(t,n,r,i){return ts(this,void 0,void 0,function(){var o,s,c,l,u,a=this;return ns(this,function(d){return o=i.fragmentMap,s=i.context,c=i.variables,l=[r],u=function(h){return ts(a,void 0,void 0,function(){var m,y;return ns(this,function(g){return!n&&!i.selectionsToResolve.has(h)?[2]:wf(h,c)?Ts(h)?[2,this.resolveField(h,n,r,i).then(function(v){var w;typeof v<"u"&&l.push((w={},w[yo(h)]=v,w))})]:(r9(h)?m=h:(m=o[h.name.value],Oe(m,19,h.name.value)),m&&m.typeCondition&&(y=m.typeCondition.name.value,i.fragmentMatcher(r,y,s))?[2,this.resolveSelectionSet(m.selectionSet,n,r,i).then(function(v){l.push(v)})]:[2]):[2]})})},[2,Promise.all(t.selections.map(u)).then(function(){return um(l)})]})})},e.prototype.resolveField=function(t,n,r,i){return ts(this,void 0,void 0,function(){var o,s,c,l,u,a,d,h,m,y=this;return ns(this,function(g){return r?(o=i.variables,s=t.name.value,c=yo(t),l=s!==c,u=r[c]||r[s],a=Promise.resolve(u),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(t))&&(d=r.__typename||i.defaultOperationType,h=this.resolvers&&this.resolvers[d],h&&(m=h[l?s:c],m&&(a=Promise.resolve(Bw.withValue(this.cache,m,[r,im(t,o),i.context,{field:t,fragmentMap:i.fragmentMap}]))))),[2,a.then(function(v){var w,T;if(v===void 0&&(v=u),t.directives&&t.directives.forEach(function(b){b.name.value==="export"&&b.arguments&&b.arguments.forEach(function(S){S.name.value==="as"&&S.value.kind==="StringValue"&&(i.exportedVariables[S.value.value]=v)})}),!t.selectionSet||v==null)return v;var N=(T=(w=t.directives)===null||w===void 0?void 0:w.some(function(b){return b.name.value==="client"}))!==null&&T!==void 0?T:!1;if(Array.isArray(v))return y.resolveSubSelectedArray(t,n||N,v,i);if(t.selectionSet)return y.resolveSelectionSet(t.selectionSet,n||N,v,i)})]):[2,null]})})},e.prototype.resolveSubSelectedArray=function(t,n,r,i){var o=this;return Promise.all(r.map(function(s){if(s===null)return null;if(Array.isArray(s))return o.resolveSubSelectedArray(t,n,s,i);if(t.selectionSet)return o.resolveSelectionSet(t.selectionSet,n,s,i)}))},e.prototype.collectSelectionsToResolve=function(t,n){var r=function(s){return!Array.isArray(s)},i=this.selectionsToResolveCache;function o(s){if(!i.has(s)){var c=new Set;i.set(s,c),Tr(s,{Directive:function(l,u,a,d,h){l.name.value==="client"&&h.forEach(function(m){r(m)&&eb(m)&&c.add(m)})},FragmentSpread:function(l,u,a,d,h){var m=n[l.name.value];Oe(m,20,l.name.value);var y=o(m);y.size>0&&(h.forEach(function(g){r(g)&&eb(g)&&c.add(g)}),c.add(l),y.forEach(function(g){c.add(g)}))}})}return i.get(s)}return o(t)},e}(),Kb=!1,TC=function(){function e(t){var n=this,r;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!t.cache)throw Qn(16);var i=t.uri,o=t.credentials,s=t.headers,c=t.cache,l=t.documentTransform,u=t.ssrMode,a=u===void 0?!1:u,d=t.ssrForceFetchDelay,h=d===void 0?0:d,m=t.connectToDevTools,y=t.queryDeduplication,g=y===void 0?!0:y,v=t.defaultOptions,w=t.defaultContext,T=t.assumeImmutableResults,N=T===void 0?c.assumeImmutableResults:T,b=t.resolvers,S=t.typeDefs,x=t.fragmentMatcher,O=t.name,M=t.version,U=t.devtools,z=t.dataMasking,Q=t.link;Q||(Q=i?new p7({uri:i,credentials:o,headers:s}):ka.empty()),this.link=Q,this.cache=c,this.disableNetworkFetches=a||h>0,this.queryDeduplication=g,this.defaultOptions=v||Object.create(null),this.typeDefs=S,this.devtoolsConfig=ie(ie({},U),{enabled:(r=U==null?void 0:U.enabled)!==null&&r!==void 0?r:m}),this.devtoolsConfig.enabled===void 0&&(this.devtoolsConfig.enabled=globalThis.__DEV__!==!1),h&&setTimeout(function(){return n.disableNetworkFetches=!1},h),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=ow,this.localState=new z7({cache:c,client:this,resolvers:b,fragmentMatcher:x}),this.queryManager=new j7({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:w,documentTransform:l,queryDeduplication:g,ssrMode:a,dataMasking:!!z,clientAwareness:{name:O,version:M},localState:this.localState,assumeImmutableResults:N,onBroadcast:this.devtoolsConfig.enabled?function(){n.devToolsHookCb&&n.devToolsHookCb({action:{},state:{queries:n.queryManager.getQueryStore(),mutations:n.queryManager.mutationStore||{}},dataWithOptimisticResults:n.cache.extract(!0)})}:void 0}),this.devtoolsConfig.enabled&&this.connectToDevTools()}return e.prototype.connectToDevTools=function(){if(!(typeof window>"u")){var t=window,n=Symbol.for("apollo.devtools");(t[n]=t[n]||[]).push(this),t.__APOLLO_CLIENT__=this,!Kb&&globalThis.__DEV__!==!1&&(Kb=!0,window.document&&window.top===window.self&&/^(https?|file):$/.test(window.location.protocol)&&setTimeout(function(){if(!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var r=window.navigator,i=r&&r.userAgent,o=void 0;typeof i=="string"&&(i.indexOf("Chrome/")>-1?o="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":i.indexOf("Firefox/")>-1&&(o="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),o&&globalThis.__DEV__!==!1&&Oe.log("Download the Apollo DevTools for a better development experience: %s",o)}},1e4))}},Object.defineProperty(e.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(t){return this.defaultOptions.watchQuery&&(t=Uh(this.defaultOptions.watchQuery,t)),this.disableNetworkFetches&&(t.fetchPolicy==="network-only"||t.fetchPolicy==="cache-and-network")&&(t=ie(ie({},t),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(t)},e.prototype.query=function(t){return this.defaultOptions.query&&(t=Uh(this.defaultOptions.query,t)),Oe(t.fetchPolicy!=="cache-and-network",17),this.disableNetworkFetches&&t.fetchPolicy==="network-only"&&(t=ie(ie({},t),{fetchPolicy:"cache-first"})),this.queryManager.query(t)},e.prototype.mutate=function(t){return this.defaultOptions.mutate&&(t=Uh(this.defaultOptions.mutate,t)),this.queryManager.mutate(t)},e.prototype.subscribe=function(t){var n=this,r=this.queryManager.generateQueryId();return this.queryManager.startGraphQLSubscription(t).map(function(i){return ie(ie({},i),{data:n.queryManager.maskOperation({document:t.query,data:i.data,fetchPolicy:t.fetchPolicy,id:r})})})},e.prototype.readQuery=function(t,n){return n===void 0&&(n=!1),this.cache.readQuery(t,n)},e.prototype.watchFragment=function(t){var n;return this.cache.watchFragment(ie(ie({},t),(n={},n[Symbol.for("apollo.dataMasking")]=this.queryManager.dataMasking,n)))},e.prototype.readFragment=function(t,n){return n===void 0&&(n=!1),this.cache.readFragment(t,n)},e.prototype.writeQuery=function(t){var n=this.cache.writeQuery(t);return t.broadcast!==!1&&this.queryManager.broadcastQueries(),n},e.prototype.writeFragment=function(t){var n=this.cache.writeFragment(t);return t.broadcast!==!1&&this.queryManager.broadcastQueries(),n},e.prototype.__actionHookForDevTools=function(t){this.devToolsHookCb=t},e.prototype.__requestRaw=function(t){return Py(this.link,t)},e.prototype.resetStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(t.resetStoreCallbacks.map(function(n){return n()}))}).then(function(){return t.reFetchObservableQueries()})},e.prototype.clearStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(t.clearStoreCallbacks.map(function(n){return n()}))})},e.prototype.onResetStore=function(t){var n=this;return this.resetStoreCallbacks.push(t),function(){n.resetStoreCallbacks=n.resetStoreCallbacks.filter(function(r){return r!==t})}},e.prototype.onClearStore=function(t){var n=this;return this.clearStoreCallbacks.push(t),function(){n.clearStoreCallbacks=n.clearStoreCallbacks.filter(function(r){return r!==t})}},e.prototype.reFetchObservableQueries=function(t){return this.queryManager.reFetchObservableQueries(t)},e.prototype.refetchQueries=function(t){var n=this.queryManager.refetchQueries(t),r=[],i=[];n.forEach(function(s,c){r.push(c),i.push(s)});var o=Promise.all(i);return o.queries=r,o.results=i,o.catch(function(s){globalThis.__DEV__!==!1&&Oe.debug(18,s)}),o},e.prototype.getObservableQueries=function(t){return t===void 0&&(t="active"),this.queryManager.getObservableQueries(t)},e.prototype.extract=function(t){return this.cache.extract(t)},e.prototype.restore=function(t){return this.cache.restore(t)},e.prototype.addResolvers=function(t){this.localState.addResolvers(t)},e.prototype.setResolvers=function(t){this.localState.setResolvers(t)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(t){this.localState.setFragmentMatcher(t)},e.prototype.setLink=function(t){this.link=this.queryManager.link=t},Object.defineProperty(e.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),e}();globalThis.__DEV__!==!1&&(TC.prototype.getMemoryInternals=D6);var Vh=new Map,zy=new Map,_C=!0,vp=!1;function NC(e){return e.replace(/[\s,]+/g," ").trim()}function q7(e){return NC(e.source.body.substring(e.start,e.end))}function W7(e){var t=new Set,n=[];return e.definitions.forEach(function(r){if(r.kind==="FragmentDefinition"){var i=r.name.value,o=q7(r.loc),s=zy.get(i);s&&!s.has(o)?_C&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||zy.set(i,s=new Set),s.add(o),t.has(o)||(t.add(o),n.push(r))}else n.push(r)}),ie(ie({},e),{definitions:n})}function H7(e){var t=new Set(e.definitions);t.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(i){var o=r[i];o&&typeof o=="object"&&t.add(o)})});var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}function G7(e){var t=NC(e);if(!Vh.has(t)){var n=cw(e,{experimentalFragmentVariables:vp,allowLegacyFragmentVariables:vp});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");Vh.set(t,H7(W7(n)))}return Vh.get(t)}function fo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];typeof e=="string"&&(e=[e]);var r=e[0];return t.forEach(function(i,o){i&&i.kind==="Document"?r+=i.loc.source.body:r+=i,r+=e[o+1]}),G7(r)}function Y7(){Vh.clear(),zy.clear()}function Q7(){_C=!1}function K7(){vp=!0}function X7(){vp=!1}var cc={gql:fo,resetCaches:Y7,disableFragmentWarnings:Q7,enableExperimentalFragmentVariables:K7,disableExperimentalFragmentVariables:X7};(function(e){e.gql=cc.gql,e.resetCaches=cc.resetCaches,e.disableFragmentWarnings=cc.disableFragmentWarnings,e.enableExperimentalFragmentVariables=cc.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=cc.disableExperimentalFragmentVariables})(fo||(fo={}));fo.default=fo;var e0={exports:{}},Xb;function J7(){return Xb||(Xb=1,function(e){e.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=void 0,e.exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=void 0,e.exports.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=void 0,Object.assign(e.exports,ll())}(e0)),e0.exports}var on=J7();const Z7=Aa(on),bC=BS({__proto__:null,default:Z7},[on]);var Jb=xw?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function zw(){Oe("createContext"in bC,54);var e=on.createContext[Jb];return e||(Object.defineProperty(on.createContext,Jb,{value:e=on.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}var eB=function(e){var t=e.client,n=e.children,r=zw(),i=on.useContext(r),o=on.useMemo(function(){return ie(ie({},i),{client:t||i.client})},[i,t]);return Oe(o.client,55),on.createElement(r.Provider,{value:o},n)};function xC(e){var t=on.useContext(zw()),n=e||t.client;return Oe(!!n,58),n}var Zb=!1,tB="useSyncExternalStore",nB=bC[tB],rB=nB||function(e,t,n){var r=t();globalThis.__DEV__!==!1&&!Zb&&r!==t()&&(Zb=!0,globalThis.__DEV__!==!1&&Oe.error(68));var i=on.useState({inst:{value:r,getSnapshot:t}}),o=i[0].inst,s=i[1];return x6?on.useLayoutEffect(function(){Object.assign(o,{value:r,getSnapshot:t}),t0(o)&&s({inst:o})},[e,r,t]):Object.assign(o,{value:r,getSnapshot:t}),on.useEffect(function(){return t0(o)&&s({inst:o}),e(function(){t0(o)&&s({inst:o})})},[e]),r};function t0(e){var t=e.value,n=e.getSnapshot;try{return t!==n()}catch{return!0}}var ho;(function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"})(ho||(ho={}));var aa;function ex(e){var t;switch(e){case ho.Query:t="Query";break;case ho.Mutation:t="Mutation";break;case ho.Subscription:t="Subscription";break}return t}function RC(e){aa||(aa=new Rw($i.parser||1e3));var t=aa.get(e);if(t)return t;var n,r,i;Oe(!!e&&!!e.kind,70,e);for(var o=[],s=[],c=[],l=[],u=0,a=e.definitions;u<a.length;u++){var d=a[u];if(d.kind==="FragmentDefinition"){o.push(d);continue}if(d.kind==="OperationDefinition")switch(d.operation){case"query":s.push(d);break;case"mutation":c.push(d);break;case"subscription":l.push(d);break}}Oe(!o.length||s.length||c.length||l.length,71),Oe(s.length+c.length+l.length<=1,72,e,s.length,l.length,c.length),r=s.length?ho.Query:ho.Mutation,!s.length&&!c.length&&(r=ho.Subscription);var h=s.length?s:c.length?c:l;Oe(h.length===1,73,e,h.length);var m=h[0];n=m.variableDefinitions||[],m.name&&m.name.kind==="Name"?i=m.name.value:i="data";var y={name:i,type:r,variables:n};return aa.set(e,y),y}RC.resetCache=function(){aa=void 0};globalThis.__DEV__!==!1&&Sw("parser",function(){return aa?aa.size:0});function iB(e,t){var n=RC(e),r=ex(t),i=ex(n.type);Oe(n.type===t,74,r,r,i)}var oB=Symbol.for("apollo.hook.wrappers");function sB(e,t,n){var r=n.queryManager,i=r&&r[oB],o=i&&i[e];return o?o(t):t}var aB=Object.prototype.hasOwnProperty;function tx(){}var jh=Symbol();function _f(e,t){return t===void 0&&(t=Object.create(null)),sB("useQuery",uB,xC(t&&t.client))(e,t)}function uB(e,t){var n=cB(e,t),r=n.result,i=n.obsQueryFields;return on.useMemo(function(){return ie(ie({},r),i)},[r,i])}function lB(e,t,n,r,i){function o(d){var h;iB(t,ho.Query);var m={client:e,query:t,observable:r&&r.getSSRObservable(i())||e.watchQuery(SC(void 0,e,n,i())),resultData:{previousData:(h=d==null?void 0:d.resultData.current)===null||h===void 0?void 0:h.data}};return m}var s=on.useState(o),c=s[0],l=s[1];function u(d){var h,m;Object.assign(c.observable,(h={},h[jh]=d,h));var y=c.resultData;l(ie(ie({},c),{query:d.query,resultData:Object.assign(y,{previousData:((m=y.current)===null||m===void 0?void 0:m.data)||y.previousData,current:void 0})}))}if(e!==c.client||t!==c.query){var a=o(c);return l(a),[a,u]}return[c,u]}function cB(e,t){var n=xC(t.client),r=on.useContext(zw()).renderPromises,i=!!r,o=n.disableNetworkFetches,s=t.ssr!==!1&&!t.skip,c=t.partialRefetch,l=pB(n,e,t,i),u=lB(n,e,t,r,l),a=u[0],d=a.observable,h=a.resultData,m=u[1],y=l(d);hB(h,d,n,t,y);var g=on.useMemo(function(){return yB(d)},[d]);dB(d,r,s);var v=fB(h,d,n,t,y,o,c,i,{onCompleted:t.onCompleted||tx,onError:t.onError||tx});return{result:v,obsQueryFields:g,observable:d,resultData:h,client:n,onQueryExecuted:m}}function fB(e,t,n,r,i,o,s,c,l){var u=on.useRef(l);on.useEffect(function(){u.current=l});var a=(c||o)&&r.ssr===!1&&!r.skip?OC:r.skip||i.fetchPolicy==="standby"?IC:void 0,d=e.previousData,h=on.useMemo(function(){return a&&AC(a,d,t,n)},[n,t,a,d]);return rB(on.useCallback(function(m){if(c)return function(){};var y=function(){var w=e.current,T=t.getCurrentResult();w&&w.loading===T.loading&&w.networkStatus===T.networkStatus&&bt(w.data,T.data)||qy(T,e,t,n,s,m,u.current)},g=function(w){if(v.current.unsubscribe(),v.current=t.resubscribeAfterError(y,g),!aB.call(w,"graphQLErrors"))throw w;var T=e.current;(!T||T&&T.loading||!bt(w,T.error))&&qy({data:T&&T.data,error:w,loading:!1,networkStatus:pt.error},e,t,n,s,m,u.current)},v={current:t.subscribe(y,g)};return function(){setTimeout(function(){return v.current.unsubscribe()})}},[o,c,t,e,s,n]),function(){return h||nx(e,t,u.current,s,n)},function(){return h||nx(e,t,u.current,s,n)})}function dB(e,t,n){t&&n&&(t.registerSSRObservable(e),e.getCurrentResult().loading&&t.addObservableQueryPromise(e))}function hB(e,t,n,r,i){var o;t[jh]&&!bt(t[jh],i)&&(t.reobserve(SC(t,n,r,i)),e.previousData=((o=e.current)===null||o===void 0?void 0:o.data)||e.previousData,e.current=void 0),t[jh]=i}function pB(e,t,n,r){n===void 0&&(n={});var i=n.skip;n.ssr,n.onCompleted,n.onError;var o=n.defaultOptions,s=lr(n,["skip","ssr","onCompleted","onError","defaultOptions"]);return function(c){var l=Object.assign(s,{query:t});return r&&(l.fetchPolicy==="network-only"||l.fetchPolicy==="cache-and-network")&&(l.fetchPolicy="cache-first"),l.variables||(l.variables={}),i?(l.initialFetchPolicy=l.initialFetchPolicy||l.fetchPolicy||rx(o,e.defaultOptions),l.fetchPolicy="standby"):l.fetchPolicy||(l.fetchPolicy=(c==null?void 0:c.options.initialFetchPolicy)||rx(o,e.defaultOptions)),l}}function SC(e,t,n,r){var i=[],o=t.defaultOptions.watchQuery;return o&&i.push(o),n.defaultOptions&&i.push(n.defaultOptions),i.push(xa(e&&e.options,r)),i.reduce(Uh)}function qy(e,t,n,r,i,o,s){var c=t.current;c&&c.data&&(t.previousData=c.data),!e.error&&Ur(e.errors)&&(e.error=new oo({graphQLErrors:e.errors})),t.current=AC(vB(e,n,i),t.previousData,n,r),o(),mB(e,c==null?void 0:c.networkStatus,s)}function mB(e,t,n){if(!e.loading){var r=gB(e);Promise.resolve().then(function(){r?n.onError(r):e.data&&t!==e.networkStatus&&e.networkStatus===pt.ready&&n.onCompleted(e.data)}).catch(function(i){globalThis.__DEV__!==!1&&Oe.warn(i)})}}function nx(e,t,n,r,i){return e.current||qy(t.getCurrentResult(),e,t,i,r,function(){},n),e.current}function rx(e,t){var n;return(e==null?void 0:e.fetchPolicy)||((n=t==null?void 0:t.watchQuery)===null||n===void 0?void 0:n.fetchPolicy)||"cache-first"}function gB(e){return Ur(e.errors)?new oo({graphQLErrors:e.errors}):e.error}function AC(e,t,n,r){var i=e.data;e.partial;var o=lr(e,["data","partial"]),s=ie(ie({data:i},o),{client:r,observable:n,variables:n.variables,called:e!==OC&&e!==IC,previousData:t});return s}function vB(e,t,n){return e.partial&&n&&!e.loading&&(!e.data||Object.keys(e.data).length===0)&&t.options.fetchPolicy!=="cache-only"?(t.refetch(),ie(ie({},e),{loading:!0,networkStatus:pt.refetch})):e}var OC=nl({loading:!0,data:void 0,error:void 0,networkStatus:pt.loading}),IC=nl({loading:!1,data:void 0,error:void 0,networkStatus:pt.ready});function yB(e){return{refetch:e.refetch.bind(e),reobserve:e.reobserve.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}}class Nf{static getQueryForTable(t){const n=t.fields.filter(i=>i.type!=="relationship").map(i=>i.name),r=`
      query Get${t.name} {
        ${t.name} {
          __typename
          ${n.join(`
		  `)}
        }
      }
    `;return fo(r)}static buildMetadataSearchQuery(t){const r=`
    query SearchMetadata($searchTerm: String!, $numberTerm: Int, $dateTerm: Date) {
      ${t.entities.map(i=>{const o=i.fields.filter(c=>c.type!=="relationship").filter(c=>c.name!=="id"),s=o.map(c=>{switch(c.type){case"number":return`{ ${c.name}: { eq: $numberTerm } }`;case"date":return`{ ${c.name}: { eq: $dateTerm } }`;default:return`{ ${c.name}: { ilike: $searchTerm } }`}}).join(", ");return`
      ${i.name}(filter: {
          or: [${s}]
      }) {
            __typename
            ${o.map(c=>c.name).join(`
                  `)}
        }
    `}).filter(Boolean).join(`
`)}
    }
  `;return fo(r)}static buildConnectionsQuery(t,n){const r=t.entities.find(c=>c.name===n);if(!r)return console.warn(`Type object not found for: ${n}`),null;const i=r.fields.filter(c=>c.type!=="relationship").map(c=>c.name).join(`
        `),o=r.fields.filter(c=>c.type==="relationship").map(c=>{const l=t.entities.find(a=>a.name===c.name);if(!l)return console.warn(`Related type object not found for: ${c.name}`),"";const u=l.fields.filter(a=>a.type!=="relationship").map(a=>a.name).join(`
        `);return`
        ${c.name} {
          ${u}
        }`}),s=`
      query GetNodeConnections($nodeId: ID!) {
        ${n} (filter: { nodeId: { eq: $nodeId } }) {
          ${i}
          ${o.join(`
`)}
        }
      }
      `;return console.log(s),fo(s)}}function EB(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var wB=["color"],TB=k.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=EB(e,wB);return k.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),k.createElement("path",{d:"M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});function _B(e,t){const n=Nf.buildMetadataSearchQuery(t);console.log("metadataQuery",n);const r=a=>{const d=e.toLowerCase().replace(/\s/g,""),h=a.toLowerCase().replace(/\s/g,"");let m=0;for(let y=0;y<h.length&&m<d.length;y++)h[y]===d[m]&&m++;return m===d.length},i=Number.isNaN(Number.parseInt(e))?null:Number.parseInt(e);let o=null;if(e.match(/^\d{4}-\d{2}-\d{2}$/)){const a=new Date(e);Number.isNaN(a.getTime())||(o=e)}console.log("query",n);const{data:s,loading:c,error:l}=_f(n,{variables:{searchTerm:`%${e}%`,numberTerm:i,dateTerm:o},skip:!e||e.trim()===""});return console.log("data",s),{results:fe.useMemo(()=>{if(!s&&!e)return[];const a=t.entities.filter(g=>g.name.toLowerCase().includes(e.toLowerCase())).map(g=>({displayName:g.displayName,resultType:"table",matchedField:"table",matchedValue:g.displayName,sourceTable:g.displayName,nodeId:"",typeName:""}));if(!s)return a;const d=Object.entries(s).flatMap(([g,v])=>v.map(w=>{const T=Object.entries(w).find(([S,x])=>{if(typeof x=="string"){if(x.toLowerCase().includes(e.toLowerCase()))return[S,x]}else if(typeof x=="object"&&x!==null&&x.constructor.name==="Date"){if(o&&x.toLocaleDateString().toLowerCase().includes(o.toLowerCase()))return[S,x]}else if(i&&x.toString().toLowerCase().includes(i.toString().toLowerCase()))return[S,x]}),[N,b]=T||["",""];return{displayName:g,resultType:"object",matchedField:N,matchedValue:b,sourceTable:g,nodeId:w.nodeId,typeName:w.__typename}})),h=[{displayName:"Recommendations",resultType:"recommend",matchedField:"suggestions",matchedValue:e,sourceTable:"recommend",nodeId:"",typeName:""},{displayName:"Settings",resultType:"settings",matchedField:"configuration",matchedValue:e,sourceTable:"settings",nodeId:"",typeName:""}].filter(g=>r(g.displayName)),y=[...a,...d,...h].slice(0,4);if(e.trim()){const g={displayName:`Ask AI about: "${e}"`,resultType:"ai",matchedField:"query",matchedValue:e,sourceTable:"ai",nodeId:"",typeName:""};y.push(g)}return y},[s,e,i,o]),loading:c&&e.trim()!=="",error:l}}const NB=({blueprint:e,updateSearchQuery:t})=>{const[n,r]=k.useState(""),i=k.useRef(null),[o,s]=k.useState(!1),{results:c,loading:l}=_B(n,e);console.log("results",c);const u=()=>{s(!0)},a=m=>{var y;(y=i.current)!=null&&y.contains(m.relatedTarget)||s(!1)},d=m=>{const y=m.target.value;r(y)},h=m=>{console.log(`result

`,m),t({type:m.resultType,name:m.displayName,metadata:{objectType:m.sourceTable,objectID:m.nodeId,other:m.displayName,searchTerm:n}}),r("")};return P.jsxs("div",{className:"my-32 z-10 w-96 flex flex-col",children:[P.jsx("div",{className:`${o?"fixed inset-0 bg-black bg-opacity-50 z-10 transition-opacity duration-200":"opacity-0 pointer-events-none"}`}),P.jsxs("div",{className:"absolute z-10",children:[P.jsx("div",{className:"w-96 transition-all focus-within:scale-105",children:P.jsxs("div",{ref:i,className:"flex items-center px-3 pr-5 rounded-3xl shadow-md bg-anakiwa-50 focus-within:bg-white",children:[P.jsx(TB,{className:"w-4 h-4 text-gray-500"}),P.jsx("div",{className:"flex-1 p-2 transition-all",children:P.jsx("input",{type:"text",value:n,onChange:d,onFocus:u,onBlur:a,placeholder:"Search any field or ask AI...",className:"w-full border-none bg-transparent placeholder:font-light font-base text-[14px] focus:outline-none text-portage-950"})})]})}),n.trim()!==""&&P.jsx("div",{className:`mt-2 w-full bg-white rounded-xl ${o?"opacity-1":"opacity-0"}`,tabIndex:-1,children:l?P.jsx("div",{className:"p-2 pl-5 w-full min-w-0 rounded-xl box-border",children:"Searching..."}):P.jsx(P.Fragment,{children:c.map((m,y)=>P.jsxs("button",{type:"button",onClick:()=>h(m),className:"flex flex-col p-2 pl-5 my-2 w-full min-w-0 rounded-xl box-border transition-all hover:bg-anakiwa-200 hover:shadow-sm",children:[P.jsx("div",{className:"text-lg font-medium",children:m.displayName}),m.sourceTable!=="ai"&&P.jsxs("div",{className:"text-sm font-light",children:[m.matchedField,": ",m.matchedValue]})]},`${m.sourceTable}-${y}`))})})]})]})};var n0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var ix;function bB(){return ix||(ix=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var c=arguments[s];c&&(o=i(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var c in o)t.call(o,c)&&o[c]&&(s=i(s,c));return s}function i(o,s){return s?o?o+" "+s:o+s:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(n0)),n0.exports}var xB=bB();const Os=Aa(xB);var r0,ox;function lm(){if(ox)return r0;ox=1;class e{constructor(n,r){if(n==null&&r==null)this._data=[],this._refs=[];else{if(n.length!==r.length)throw Error("Collection: data length should match references length.");this._data=n,this._refs=r}}get data(){return this._data}get refs(){return this._refs}get length(){return this._data.length}add(n,r){this._data.push(n),this._refs.push(r)}}return r0=e,r0}var i0,sx;function xn(){if(sx)return i0;sx=1;const e=fn(),t=lm(),n={NUMBER:0,ARRAY:1,BOOLEAN:2,STRING:3,RANGE_REF:4,CELL_REF:5,COLLECTIONS:6,NUMBER_NO_BOOLEAN:10},r=[1,1,2,6,24,120,720,5040,40320,362880,3628800,39916800,479001600,6227020800,87178291200,1307674368e3,20922789888e3,355687428096e3,6402373705728e3,121645100408832e3,243290200817664e4,5109094217170944e4,11240007277776077e5,2585201673888498e7,6204484017332394e8,15511210043330986e9,40329146112660565e10,10888869450418352e12,30488834461171387e13,8841761993739702e15,26525285981219107e16,8222838654177922e18,2631308369336935e20,8683317618811886e21,29523279903960416e22,10333147966386145e24,37199332678990125e25,13763753091226346e27,5230226174666011e29,20397882081197444e30,8159152832478977e32,3345252661316381e34,140500611775288e37,6041526306337383e37,2658271574788449e39,11962222086548019e40,5502622159812089e42,25862324151116818e43,12413915592536073e45,6082818640342675e47,30414093201713376e48,15511187532873822e50,8065817517094388e52,42748832840600255e53,2308436973392414e56,12696403353658276e57,7109985878048635e59,40526919504877214e60,23505613312828785e62,13868311854568984e64,832098711274139e67,5075802138772248e68,3146997326038794e70,198260831540444e73,12688693218588417e73,8247650592082472e75,5443449390774431e77,3647111091818868e79,24800355424368305e80,1711224524281413e83,11978571669969892e84,8504785885678623e86,61234458376886085e87,44701154615126844e89,3307885441519386e92,248091408113954e95,18854947016660504e95,14518309202828587e97,11324281178206297e99,8946182130782976e101,7156945704626381e103,5797126020747368e105,4753643337012842e107,3945523969720659e109,3314240134565353e111,281710411438055e114,24227095383672734e114,2107757298379528e117,18548264225739844e118,1650795516090846e121,14857159644817615e122,1352001527678403e125,12438414054641308e126,11567725070816416e128,1087366156656743e131,1032997848823906e133,9916779348709496e134,9619275968248212e136,9426890448883248e138,9332621544394415e140,9332621544394415e142],i={};Object.keys(n).forEach(a=>{i[n[a]]=a});class o{constructor(){this.Types=n,this.type2Number={number:n.NUMBER,boolean:n.BOOLEAN,string:n.STRING,object:-1}}checkFunctionResult(d){if(typeof d==="number"){if(isNaN(d))return e.VALUE;if(!isFinite(d))return e.NUM}return d??e.NULL}flattenDeep(d){return d.reduce((h,m)=>Array.isArray(m)?h.concat(this.flattenDeep(m)):h.concat(m),[])}acceptNumber(d,h=!0,m=!0){if(d instanceof e)return d;let y;if(typeof d=="number")y=d;else if(typeof d=="boolean")if(m)y=Number(d);else throw e.VALUE;else if(typeof d=="string"){if(d.length===0||(y=Number(d),y!==y))throw e.VALUE}else if(Array.isArray(d))if(h)y=this.acceptNumber(d[0][0]);else if(d[0].length===1)y=this.acceptNumber(d[0][0]);else throw e.VALUE;else throw Error("Unknown type in FormulaHelpers.acceptNumber");return y}flattenParams(d,h,m,y,g=null,v=1){if(d.length<v)throw e.ARG_MISSING([h]);g==null&&(g=h===n.NUMBER?0:h==null?null:""),d.forEach(w=>{const{isCellRef:T,isRangeRef:N,isArray:b}=w,S=w.value instanceof t,x=!T&&!N&&!b&&!S,O={isLiteral:x,isCellRef:T,isRangeRef:N,isArray:b,isUnion:S};if(x)w.omitted?w=g:w=this.accept(w,h,g),y(w,O);else if(T)y(w.value,O);else if(S){if(!m)throw e.VALUE;w=w.value.data,w=this.flattenDeep(w),w.forEach(M=>{y(M,O)})}else(N||b)&&(w=this.flattenDeep(w.value),w.forEach(M=>{y(M,O)}))})}accept(d,h=null,m,y=!0,g=!1){if(Array.isArray(h)&&(h=h[0]),d==null&&m===void 0)throw e.ARG_MISSING([h]);if(d==null)return m;if(typeof d!="object"||Array.isArray(d))return d;const v=d.isArray;if(d.value!=null&&(d=d.value),h==null)return d;if(d instanceof e)throw d;if(h===n.ARRAY){if(Array.isArray(d))return y?this.flattenDeep(d):d;if(d instanceof t)throw e.VALUE;if(g)return y?[d]:[[d]];throw e.VALUE}else if(h===n.COLLECTIONS)return d;v&&(d=d[0][0]);const w=this.type(d);if(h===n.STRING)w===n.BOOLEAN?d=d?"TRUE":"FALSE":d=`${d}`;else if(h===n.BOOLEAN){if(w===n.STRING)throw e.VALUE;w===n.NUMBER&&(d=!!d)}else if(h===n.NUMBER)d=this.acceptNumber(d,!1);else if(h===n.NUMBER_NO_BOOLEAN)d=this.acceptNumber(d,!1,!1);else throw e.VALUE;return d}type(d){let h=this.type2Number[typeof d];return h===-1&&(Array.isArray(d)?h=n.ARRAY:d.ref?d.ref.from?h=n.RANGE_REF:h=n.CELL_REF:d instanceof t&&(h=n.COLLECTIONS)),h}isRangeRef(d){return d.ref&&d.ref.from}isCellRef(d){return d.ref&&!d.ref.from}retrieveRanges(d,h,m){return m=u.extend(h,m),h=this.retrieveArg(d,h),h=s.accept(h,n.ARRAY,void 0,!1,!0),m!==h?(m=this.retrieveArg(d,m),m=s.accept(m,n.ARRAY,void 0,!1,!0)):m=h,[h,m]}retrieveArg(d,h){if(h===null)return{value:0,isArray:!1,omitted:!0};const m=d.utils.extractRefValue(h);return{value:m.val,isArray:m.isArray,ref:h.ref}}}const s=new o,c={isWildCard:a=>typeof a=="string"?/[*?]/.test(a):!1,toRegex:(a,d)=>RegExp(a.replace(/[.+^${}()|[\]\\]/g,"\\$&").replace(/([^~]??)[?]/g,"$1.").replace(/([^~]??)[*]/g,"$1.*").replace(/~([?*])/g,"$1"),d)},l={parse:a=>{const d=typeof a;if(d==="string"){const h=a.toUpperCase();if(h==="TRUE"||h==="FALSE")return{op:"=",value:h==="TRUE"};const m=a.match(/(<>|>=|<=|>|<|=)(.*)/);if(m){let y=m[1],g;if(isNaN(m[2])){const v=m[2].toUpperCase();if(v==="TRUE"||v==="FALSE")g=v==="TRUE";else if(/#NULL!|#DIV\/0!|#VALUE!|#NAME\?|#NUM!|#N\/A|#REF!/.test(m[2]))g=new e(m[2]);else if(g=m[2],c.isWildCard(g))return{op:"wc",value:c.toRegex(g),match:y==="="}}else g=Number(m[2]);return{op:y,value:g}}else return c.isWildCard(a)?{op:"wc",value:c.toRegex(a),match:!0}:{op:"=",value:a}}else{if(d==="boolean"||d==="number"||Array.isArray(a)||a instanceof e)return{op:"=",value:a};throw Error(`Criteria.parse: type ${typeof a} not support`)}}},u={columnNumberToName:a=>{let d=a,h="",m=0;for(;d>0;)m=(d-1)%26,h=String.fromCharCode(65+m)+h,d=Math.floor((d-m)/26);return h},columnNameToNumber:a=>{a=a.toUpperCase();const d=a.length;let h=0;for(let m=0;m<d;m++){const y=a.charCodeAt(m);isNaN(y)||(h+=(y-64)*26**(d-m-1))}return h},extend:(a,d)=>{if(d==null)return a;let h,m;if(s.isCellRef(a))h=0,m=0;else if(s.isRangeRef(a))h=a.ref.to.row-a.ref.from.row,m=a.ref.to.col-a.ref.from.col;else throw Error("Address.extend should not reach here.");return s.isCellRef(d)?(h>0||m>0)&&(d={ref:{from:{col:d.ref.col,row:d.ref.row},to:{row:d.ref.row+h,col:d.ref.col+m}}}):(d.ref.to.row=d.ref.from.row+h,d.ref.to.col=d.ref.from.col+m),d}};return i0={FormulaHelpers:s,Types:n,ReversedTypes:i,Factorials:r,WildCard:c,Criteria:l,Address:u},i0}var o0,ax;function fn(){if(ax)return o0;ax=1;class e extends Error{constructor(n,r,i){if(super(r),r==null&&i==null&&e.errorMap.has(n))return e.errorMap.get(n);r==null&&i==null?(this._error=n,e.errorMap.set(n,this)):this._error=n,this.details=i}get error(){return this._error}get name(){return this._error}equals(n){return n instanceof e&&n._error===this._error}toString(){return this._error}}return e.errorMap=new Map,e.DIV0=new e("#DIV/0!"),e.NA=new e("#N/A"),e.NAME=new e("#NAME?"),e.NULL=new e("#NULL!"),e.NUM=new e("#NUM!"),e.REF=new e("#REF!"),e.VALUE=new e("#VALUE!"),e.NOT_IMPLEMENTED=t=>new e("#NAME?",`Function ${t} is not implemented.`),e.TOO_MANY_ARGS=t=>new e("#N/A",`Function ${t} has too many arguments.`),e.ARG_MISSING=t=>{const{Types:n}=xn();return new e("#N/A",`Argument type ${t.map(r=>n[r]).join(", ")} is missing.`)},e.ERROR=(t,n)=>new e("#ERROR!",t,n),o0=e,o0}var s0,ux;function CC(){if(ux)return s0;ux=1;class e{}e.version="0.10.3";function t(C){let L="",I=C.length-1;for(;I>=0;)L+=C.charAt(I--);return L}function n(C,L){let I="";for(;I.length<L;)I+=C;return I}function r(C,L){let I=""+C;return I.length>=L?I:n("0",L-I.length)+I}function i(C,L){let I=""+C;return I.length>=L?I:n(" ",L-I.length)+I}function o(C,L){let I=""+C;return I.length>=L?I:I+n(" ",L-I.length)}function s(C,L){let I=""+Math.round(C);return I.length>=L?I:n("0",L-I.length)+I}function c(C,L){let I=""+C;return I.length>=L?I:n("0",L-I.length)+I}const l=Math.pow(2,32);function u(C,L){if(C>l||C<-l)return s(C,L);const I=Math.round(C);return c(I,L)}function a(C,L){return L=L||0,C.length>=7+L&&(C.charCodeAt(L)|32)===103&&(C.charCodeAt(L+1)|32)===101&&(C.charCodeAt(L+2)|32)===110&&(C.charCodeAt(L+3)|32)===101&&(C.charCodeAt(L+4)|32)===114&&(C.charCodeAt(L+5)|32)===97&&(C.charCodeAt(L+6)|32)===108}const d=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],h=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function m(C){C[0]="General",C[1]="0",C[2]="0.00",C[3]="#,##0",C[4]="#,##0.00",C[9]="0%",C[10]="0.00%",C[11]="0.00E+00",C[12]="# ?/?",C[13]="# ??/??",C[14]="m/d/yy",C[15]="d-mmm-yy",C[16]="d-mmm",C[17]="mmm-yy",C[18]="h:mm AM/PM",C[19]="h:mm:ss AM/PM",C[20]="h:mm",C[21]="h:mm:ss",C[22]="m/d/yy h:mm",C[37]="#,##0 ;(#,##0)",C[38]="#,##0 ;[Red](#,##0)",C[39]="#,##0.00;(#,##0.00)",C[40]="#,##0.00;[Red](#,##0.00)",C[45]="mm:ss",C[46]="[h]:mm:ss",C[47]="mmss.0",C[48]="##0.0E+0",C[49]="@",C[56]='"/ "hh""mm""ss" "',C[65535]="General"}const y={};m(y);function g(C,L,I){const j=C<0?-1:1;let $=C*j,oe=0,q=1,se=0,ge=1,we=0,be=0,Re=Math.floor($);for(;we<L&&(Re=Math.floor($),se=Re*q+oe,be=Re*we+ge,!($-Re<5e-8));)$=1/($-Re),oe=q,q=se,ge=we,we=be;if(be>L&&(we>L?(be=ge,se=oe):(be=we,se=q)),!I)return[0,j*se,be];const Qe=Math.floor(j*se/be);return[Qe,j*se-Qe*be,be]}function v(C,L,I){if(C>2958465||C<0)return null;let j=C|0,$=Math.floor(86400*(C-j)),oe=0,q=[];const se={D:j,T:$,u:86400*(C-j)-$,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(se.u)<1e-6&&(se.u=0),L&&L.date1904&&(j+=1462),se.u>.9999&&(se.u=0,++$===86400&&(se.T=$=0,++j,++se.D)),j===60)q=I?[1317,10,29]:[1900,2,29],oe=3;else if(j===0)q=I?[1317,8,29]:[1900,1,0],oe=6;else{j>60&&--j;const ge=new Date(1900,0,1);ge.setDate(ge.getDate()+j-1),q=[ge.getFullYear(),ge.getMonth()+1,ge.getDate()],oe=ge.getDay(),j<60&&(oe=(oe+6)%7),I&&(oe=M())}return se.y=q[0],se.m=q[1],se.d=q[2],se.S=$%60,$=Math.floor($/60),se.M=$%60,$=Math.floor($/60),se.H=$,se.q=oe,se}e.parse_date_code=v;const w=new Date(1899,11,31,0,0,0),T=w.getTime(),N=new Date(1900,2,1,0,0,0);function b(C,L){let I=C.getTime();return L?I-=1461*24*60*60*1e3:C>=N&&(I+=24*60*60*1e3),(I-(T+(C.getTimezoneOffset()-w.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function S(C){return C.toString(10)}e._general_int=S;const x=function(){const L=/\.(\d*[1-9])0+$/,I=/\.0*$/,j=/\.(\d*[1-9])0+/,$=/\.0*[Ee]/,oe=/(E[+-])(\d)$/;function q(be){const Re=be<0?12:11;let Qe=we(be.toFixed(12));return Qe.length<=Re||(Qe=be.toPrecision(10),Qe.length<=Re)?Qe:be.toExponential(5)}function se(be){let Re=be.toFixed(11).replace(L,".$1");return Re.length>(be<0?12:11)&&(Re=be.toPrecision(6)),Re}function ge(be){for(let Re=0;Re!==be.length;++Re)if((be.charCodeAt(Re)|32)===101)return be.replace(j,".$1").replace($,"E").replace("e","E").replace(oe,"$10$2");return be}function we(be){return be.indexOf(".")>-1?be.replace(I,"").replace(L,".$1"):be}return function(Re){let Qe=Math.floor(Math.log(Math.abs(Re))*Math.LOG10E),ze;return Qe>=-4&&Qe<=-1?ze=Re.toPrecision(10+Qe):Math.abs(Qe)<=9?ze=q(Re):Qe===10?ze=Re.toFixed(10).substr(0,12):ze=se(Re),we(ge(ze))}}();e._general_num=x;function O(C,L){switch(typeof C){case"string":return C;case"boolean":return C?"TRUE":"FALSE";case"number":return(C|0)===C?S(C):x(C);case"undefined":return"";case"object":if(C==null)return"";if(C instanceof Date)return W(14,b(C,L&&L.date1904),L)}throw new Error("unsupported value in General format: "+C)}e._general=O;function M(){return 0}function U(C,L,I,j){let $="",oe=0,q=0,se=I.y,ge,we=0;switch(C){case 98:se=I.y+543;case 121:switch(L.length){case 1:case 2:ge=se%100,we=2;break;default:ge=se%1e4,we=4;break}break;case 109:switch(L.length){case 1:case 2:ge=I.m,we=L.length;break;case 3:return h[I.m-1][1];case 5:return h[I.m-1][0];default:return h[I.m-1][2]}break;case 100:switch(L.length){case 1:case 2:ge=I.d,we=L.length;break;case 3:return d[I.q][0];default:return d[I.q][1]}break;case 104:switch(L.length){case 1:case 2:ge=1+(I.H+11)%12,we=L.length;break;default:throw"bad hour format: "+L}break;case 72:switch(L.length){case 1:case 2:ge=I.H,we=L.length;break;default:throw"bad hour format: "+L}break;case 77:switch(L.length){case 1:case 2:ge=I.M,we=L.length;break;default:throw"bad minute format: "+L}break;case 115:if(L!=="s"&&L!=="ss"&&L!==".0"&&L!==".00"&&L!==".000")throw"bad second format: "+L;return I.u===0&&(L==="s"||L==="ss")?r(I.S,L.length):(j>=2?q=j===3?1e3:100:q=j===1?10:1,oe=Math.round(q*(I.S+I.u)),oe>=60*q&&(oe=0),L==="s"?oe===0?"0":""+oe/q:($=r(oe,2+j),L==="ss"?$.substr(0,2):"."+$.substr(2,L.length-1)));case 90:switch(L){case"[h]":case"[hh]":ge=I.D*24+I.H;break;case"[m]":case"[mm]":ge=(I.D*24+I.H)*60+I.M;break;case"[s]":case"[ss]":ge=((I.D*24+I.H)*60+I.M)*60+Math.round(I.S+I.u);break;default:throw"bad abstime format: "+L}we=L.length===3?1:2;break;case 101:ge=se,we=1}return we>0?r(ge,we):""}function z(C){if(C.length<=3)return C;let I=C.length%3,j=C.substr(0,I);for(;I!==C.length;I+=3)j+=(j.length>0?",":"")+C.substr(I,3);return j}const Q=function(){const L=/%/g;function I(ye,ne,le){const de=ne.replace(L,""),he=ne.length-de.length;return Q(ye,de,le*Math.pow(10,2*he))+n("%",he)}function j(ye,ne,le){let de=ne.length-1;for(;ne.charCodeAt(de-1)===44;)--de;return Q(ye,ne.substr(0,de),le/Math.pow(10,3*(ne.length-de)))}function $(ye,ne){let le,de=ye.indexOf("E")-ye.indexOf(".")-1;if(ye.match(/^#+0.0E\+0$/)){if(ne===0)return"0.0E+0";if(ne<0)return"-"+$(ye,-ne);let he=ye.indexOf(".");he===-1&&(he=ye.indexOf("E"));let ke=Math.floor(Math.log(ne)*Math.LOG10E)%he;if(ke<0&&(ke+=he),le=(ne/Math.pow(10,ke)).toPrecision(de+1+(he+ke)%he),le.indexOf("e")===-1){const rt=Math.floor(Math.log(ne)*Math.LOG10E);for(le.indexOf(".")===-1?le=le.charAt(0)+"."+le.substr(1)+"E+"+(rt-le.length+ke):le+="E+"+(rt-ke);le.substr(0,2)==="0.";)le=le.charAt(0)+le.substr(2,he)+"."+le.substr(2+he),le=le.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");le=le.replace(/\+-/,"-")}le=le.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(rt,at,Je,Ke){return at+Je+Ke.substr(0,(he+ke)%he)+"."+Ke.substr(ke)+"E"})}else le=ne.toExponential(de);return ye.match(/E\+00$/)&&le.match(/e[+-]\d$/)&&(le=le.substr(0,le.length-1)+"0"+le.charAt(le.length-1)),ye.match(/E\-/)&&le.match(/e\+/)&&(le=le.replace(/e\+/,"e")),le.replace("e","E")}const oe=/# (\?+)( ?)\/( ?)(\d+)/;function q(ye,ne,le){const de=parseInt(ye[4],10),he=Math.round(ne*de),ke=Math.floor(he/de);let rt=he-ke*de,at=de;return le+(ke===0?"":""+ke)+" "+(rt===0?n(" ",ye[1].length+1+ye[4].length):i(rt,ye[1].length)+ye[2]+"/"+ye[3]+r(at,ye[4].length))}function se(ye,ne,le){return le+(ne===0?"":""+ne)+n(" ",ye[1].length+2+ye[4].length)}const ge=/^#*0*\.([0#]+)/,we=/\).*[0#]/,be=/\(###\) ###\\?-####/;function Re(ye){let ne="",le;for(let de=0;de!==ye.length;++de)switch(le=ye.charCodeAt(de)){case 35:break;case 63:ne+=" ";break;case 48:ne+="0";break;default:ne+=String.fromCharCode(le)}return ne}function Qe(ye,ne){const le=Math.pow(10,ne);return""+Math.round(ye*le)/le}function ze(ye,ne){return ne<(""+Math.round((ye-Math.floor(ye))*Math.pow(10,ne))).length?0:Math.round((ye-Math.floor(ye))*Math.pow(10,ne))}function Rt(ye,ne){return ne<(""+Math.round((ye-Math.floor(ye))*Math.pow(10,ne))).length?1:0}function Xe(ye){return ye<2147483647&&ye>-2147483648?""+(ye>=0?ye|0:ye-1|0):""+Math.floor(ye)}function xe(ye,ne,le){if(ye.charCodeAt(0)===40&&!ne.match(we)){const nt=ne.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return le>=0?xe("n",nt,le):"("+xe("n",nt,-le)+")"}if(ne.charCodeAt(ne.length-1)===44)return j(ye,ne,le);if(ne.indexOf("%")!==-1)return I(ye,ne,le);if(ne.indexOf("E")!==-1)return $(ne,le);if(ne.charCodeAt(0)===36)return"$"+xe(ye,ne.substr(ne.charAt(1)==" "?2:1),le);let de,he,ke,rt,at=Math.abs(le),Je=le<0?"-":"";if(ne.match(/^00+$/))return Je+u(at,ne.length);if(ne.match(/^[#?]+$/))return de=u(le,0),de==="0"&&(de=""),de.length>ne.length?de:Re(ne.substr(0,ne.length-de.length))+de;if(he=ne.match(oe))return q(he,at,Je);if(ne.match(/^#+0+$/))return Je+u(at,ne.length-ne.indexOf("0"));if(he=ne.match(ge))return de=Qe(le,he[1].length).replace(/^([^\.]+)$/,"$1."+Re(he[1])).replace(/\.$/,"."+Re(he[1])).replace(/\.(\d*)$/,function(nt,Ut){return"."+Ut+n("0",Re(he[1]).length-Ut.length)}),ne.indexOf("0.")!==-1?de:de.replace(/^0\./,".");if(ne=ne.replace(/^#+([0.])/,"$1"),he=ne.match(/^(0*)\.(#*)$/))return Je+Qe(at,he[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,he[1].length?"0.":".");if(he=ne.match(/^#{1,3},##0(\.?)$/))return Je+z(u(at,0));if(he=ne.match(/^#,##0\.([#0]*0)$/))return le<0?"-"+xe(ye,ne,-le):z(""+(Math.floor(le)+Rt(le,he[1].length)))+"."+r(ze(le,he[1].length),he[1].length);if(he=ne.match(/^#,#*,#0/))return xe(ye,ne.replace(/^#,#*,/,""),le);if(he=ne.match(/^([0#]+)(\\?-([0#]+))+$/))return de=t(xe(ye,ne.replace(/[\\-]/g,""),le)),ke=0,t(t(ne.replace(/\\/g,"")).replace(/[0#]/g,function(nt){return ke<de.length?de.charAt(ke++):nt==="0"?"0":""}));if(ne.match(be))return de=xe(ye,"##########",le),"("+de.substr(0,3)+") "+de.substr(3,3)+"-"+de.substr(6);let Ke="";if(he=ne.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return ke=Math.min(he[4].length,7),rt=g(at,Math.pow(10,ke)-1,!1),de=""+Je,Ke=Q("n",he[1],rt[1]),Ke.charAt(Ke.length-1)===" "&&(Ke=Ke.substr(0,Ke.length-1)+"0"),de+=Ke+he[2]+"/"+he[3],Ke=o(rt[2],ke),Ke.length<he[4].length&&(Ke=Re(he[4].substr(he[4].length-Ke.length))+Ke),de+=Ke,de;if(he=ne.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return ke=Math.min(Math.max(he[1].length,he[4].length),7),rt=g(at,Math.pow(10,ke)-1,!0),Je+(rt[0]||(rt[1]?"":"0"))+" "+(rt[1]?i(rt[1],ke)+he[2]+"/"+he[3]+o(rt[2],ke):n(" ",2*ke+1+he[2].length+he[3].length));if(he=ne.match(/^[#0?]+$/))return de=u(le,0),ne.length<=de.length?de:Re(ne.substr(0,ne.length-de.length))+de;if(he=ne.match(/^([#0?]+)\.([#0]+)$/)){de=""+le.toFixed(Math.min(he[2].length,10)).replace(/([^0])0+$/,"$1"),ke=de.indexOf(".");const nt=ne.indexOf(".")-ke,Ut=ne.length-de.length-nt;return Re(ne.substr(0,nt)+de+ne.substr(ne.length-Ut))}if(he=ne.match(/^00,000\.([#0]*0)$/))return ke=ze(le,he[1].length),le<0?"-"+xe(ye,ne,-le):z(Xe(le)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(nt){return"00,"+(nt.length<3?r(0,3-nt.length):"")+nt})+"."+r(ke,he[1].length);switch(ne){case"###,##0.00":return xe(ye,"#,##0.00",le);case"###,###":case"##,###":case"#,###":const nt=z(u(at,0));return nt!=="0"?Je+nt:"";case"###,###.00":return xe(ye,"###,##0.00",le).replace(/^0\./,".");case"#,###.00":return xe(ye,"#,##0.00",le).replace(/^0\./,".")}throw new Error("unsupported format |"+ne+"|")}function Me(ye,ne,le){let de=ne.length-1;for(;ne.charCodeAt(de-1)===44;)--de;return Q(ye,ne.substr(0,de),le/Math.pow(10,3*(ne.length-de)))}function it(ye,ne,le){const de=ne.replace(L,""),he=ne.length-de.length;return Q(ye,de,le*Math.pow(10,2*he))+n("%",he)}function gt(ye,ne){let le,de=ye.indexOf("E")-ye.indexOf(".")-1;if(ye.match(/^#+0.0E\+0$/)){if(ne===0)return"0.0E+0";if(ne<0)return"-"+gt(ye,-ne);let he=ye.indexOf(".");he===-1&&(he=ye.indexOf("E"));let ke=Math.floor(Math.log(ne)*Math.LOG10E)%he;if(ke<0&&(ke+=he),le=(ne/Math.pow(10,ke)).toPrecision(de+1+(he+ke)%he),!le.match(/[Ee]/)){const rt=Math.floor(Math.log(ne)*Math.LOG10E);le.indexOf(".")===-1?le=le.charAt(0)+"."+le.substr(1)+"E+"+(rt-le.length+ke):le+="E+"+(rt-ke),le=le.replace(/\+-/,"-")}le=le.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(rt,at,Je,Ke){return at+Je+Ke.substr(0,(he+ke)%he)+"."+Ke.substr(ke)+"E"})}else le=ne.toExponential(de);return ye.match(/E\+00$/)&&le.match(/e[+-]\d$/)&&(le=le.substr(0,le.length-1)+"0"+le.charAt(le.length-1)),ye.match(/E\-/)&&le.match(/e\+/)&&(le=le.replace(/e\+/,"e")),le.replace("e","E")}function Ze(ye,ne,le){if(ye.charCodeAt(0)===40&&!ne.match(we)){const nt=ne.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return le>=0?Ze("n",nt,le):"("+Ze("n",nt,-le)+")"}if(ne.charCodeAt(ne.length-1)===44)return Me(ye,ne,le);if(ne.indexOf("%")!==-1)return it(ye,ne,le);if(ne.indexOf("E")!==-1)return gt(ne,le);if(ne.charCodeAt(0)===36)return"$"+Ze(ye,ne.substr(ne.charAt(1)==" "?2:1),le);let de,he,ke,rt,at=Math.abs(le),Je=le<0?"-":"";if(ne.match(/^00+$/))return Je+r(at,ne.length);if(ne.match(/^[#?]+$/))return de=""+le,le===0&&(de=""),de.length>ne.length?de:Re(ne.substr(0,ne.length-de.length))+de;if(he=ne.match(oe))return se(he,at,Je);if(ne.match(/^#+0+$/))return Je+r(at,ne.length-ne.indexOf("0"));if(he=ne.match(ge))return de=(""+le).replace(/^([^\.]+)$/,"$1."+Re(he[1])).replace(/\.$/,"."+Re(he[1])),de=de.replace(/\.(\d*)$/,function(nt,Ut){return"."+Ut+n("0",Re(he[1]).length-Ut.length)}),ne.indexOf("0.")!==-1?de:de.replace(/^0\./,".");if(ne=ne.replace(/^#+([0.])/,"$1"),he=ne.match(/^(0*)\.(#*)$/))return Je+(""+at).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,he[1].length?"0.":".");if(he=ne.match(/^#{1,3},##0(\.?)$/))return Je+z(""+at);if(he=ne.match(/^#,##0\.([#0]*0)$/))return le<0?"-"+Ze(ye,ne,-le):z(""+le)+"."+n("0",he[1].length);if(he=ne.match(/^#,#*,#0/))return Ze(ye,ne.replace(/^#,#*,/,""),le);if(he=ne.match(/^([0#]+)(\\?-([0#]+))+$/))return de=t(Ze(ye,ne.replace(/[\\-]/g,""),le)),ke=0,t(t(ne.replace(/\\/g,"")).replace(/[0#]/g,function(nt){return ke<de.length?de.charAt(ke++):nt==="0"?"0":""}));if(ne.match(be))return de=Ze(ye,"##########",le),"("+de.substr(0,3)+") "+de.substr(3,3)+"-"+de.substr(6);let Ke="";if(he=ne.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return ke=Math.min(he[4].length,7),rt=g(at,Math.pow(10,ke)-1,!1),de=""+Je,Ke=Q("n",he[1],rt[1]),Ke.charAt(Ke.length-1)==" "&&(Ke=Ke.substr(0,Ke.length-1)+"0"),de+=Ke+he[2]+"/"+he[3],Ke=o(rt[2],ke),Ke.length<he[4].length&&(Ke=Re(he[4].substr(he[4].length-Ke.length))+Ke),de+=Ke,de;if(he=ne.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return ke=Math.min(Math.max(he[1].length,he[4].length),7),rt=g(at,Math.pow(10,ke)-1,!0),Je+(rt[0]||(rt[1]?"":"0"))+" "+(rt[1]?i(rt[1],ke)+he[2]+"/"+he[3]+o(rt[2],ke):n(" ",2*ke+1+he[2].length+he[3].length));if(he=ne.match(/^[#0?]+$/))return de=""+le,ne.length<=de.length?de:Re(ne.substr(0,ne.length-de.length))+de;if(he=ne.match(/^([#0]+)\.([#0]+)$/)){de=""+le.toFixed(Math.min(he[2].length,10)).replace(/([^0])0+$/,"$1"),ke=de.indexOf(".");let nt=ne.indexOf(".")-ke,Ut=ne.length-de.length-nt;return Re(ne.substr(0,nt)+de+ne.substr(ne.length-Ut))}if(he=ne.match(/^00,000\.([#0]*0)$/))return le<0?"-"+Ze(ye,ne,-le):z(""+le).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(nt){return"00,"+(nt.length<3?r(0,3-nt.length):"")+nt})+"."+r(0,he[1].length);switch(ne){case"###,###":case"##,###":case"#,###":const nt=z(""+at);return nt!=="0"?Je+nt:"";default:if(ne.match(/\.[0#?]*$/))return Ze(ye,ne.slice(0,ne.lastIndexOf(".")),le)+Re(ne.slice(ne.lastIndexOf(".")))}throw new Error("unsupported format |"+ne+"|")}return function(ne,le,de){return(de|0)===de?Ze(ne,le,de):xe(ne,le,de)}}();function ee(C){const L=[];let I=!1,j=0;for(let $=0;$<C.length;++$)switch(C.charCodeAt($)){case 34:I=!I;break;case 95:case 42:case 92:++$;break;case 59:L[L.length]=C.substr(j,$-j),j=$+1}if(L[L.length]=C.substr(j),I===!0)throw new Error("Format |"+C+"| unterminated string ");return L}e._split=ee;const X=/\[[HhMmSs]*\]/;function F(C){let L=0,I="",j="";for(;L<C.length;)switch(I=C.charAt(L)){case"G":a(C,L)&&(L+=6),L++;break;case'"':for(;C.charCodeAt(++L)!==34&&L<C.length;)++L;++L;break;case"\\":L+=2;break;case"_":L+=2;break;case"@":++L;break;case"B":case"b":if(C.charAt(L+1)==="1"||C.charAt(L+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":if(C.substr(L,3).toUpperCase()==="A/P"||C.substr(L,5).toUpperCase()==="AM/PM")return!0;++L;break;case"[":for(j=I;C.charAt(L++)!=="]"&&L<C.length;)j+=C.charAt(L);if(j.match(X))return!0;break;case".":case"0":case"#":for(;L<C.length&&("0#?.,E+-%".indexOf(I=C.charAt(++L))>-1||I=="\\"&&C.charAt(L+1)=="-"&&"0#".indexOf(C.charAt(L+2))>-1););break;case"?":for(;C.charAt(++L)===I;);break;case"*":++L,(C.charAt(L)===" "||C.charAt(L)==="*")&&++L;break;case"(":case")":++L;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;L<C.length&&"0123456789".indexOf(C.charAt(++L))>-1;);break;case" ":++L;break;default:++L;break}return!1}e.is_date=F;function J(C,L,I,j){let $=[],oe="",q=0,se="",ge="t",we,be,Re,Qe="H";for(;q<C.length;)switch(se=C.charAt(q)){case"G":if(!a(C,q))throw new Error("unrecognized character "+se+" in "+C);$[$.length]={t:"G",v:"General"},q+=7;break;case'"':for(oe="";(Re=C.charCodeAt(++q))!==34&&q<C.length;)oe+=String.fromCharCode(Re);$[$.length]={t:"t",v:oe},++q;break;case"\\":const ne=C.charAt(++q),le=ne==="("||ne===")"?ne:"t";$[$.length]={t:le,v:ne},++q;break;case"_":$[$.length]={t:"t",v:" "},q+=2;break;case"@":$[$.length]={t:"T",v:L},++q;break;case"B":case"b":if(C.charAt(q+1)==="1"||C.charAt(q+1)==="2"){if(we==null&&(we=v(L,I,C.charAt(q+1)==="2"),we==null))return"";$[$.length]={t:"X",v:C.substr(q,2)},ge=se,q+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":se=se.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(L<0||we==null&&(we=v(L,I),we==null))return"";for(oe=se;++q<C.length&&C.charAt(q).toLowerCase()===se;)oe+=se;se==="m"&&ge.toLowerCase()==="h"&&(se="M"),se==="h"&&(se=Qe),$[$.length]={t:se,v:oe},ge=se;break;case"A":case"a":const de={t:se,v:se};if(we==null&&(we=v(L,I)),C.substr(q,3).toUpperCase()==="A/P"?(we!=null&&(de.v=we.H>=12?"P":"A"),de.t="T",Qe="h",q+=3):C.substr(q,5).toUpperCase()==="AM/PM"?(we!=null&&(de.v=we.H>=12?"PM":"AM"),de.t="T",q+=5,Qe="h"):(de.t="t",++q),we==null&&de.t==="T")return"";$[$.length]=de,ge=se;break;case"[":for(oe=se;C.charAt(q++)!=="]"&&q<C.length;)oe+=C.charAt(q);if(oe.slice(-1)!=="]")throw'unterminated "[" block: |'+oe+"|";if(oe.match(X)){if(we==null&&(we=v(L,I),we==null))return"";$[$.length]={t:"Z",v:oe.toLowerCase()},ge=oe.charAt(1)}else oe.indexOf("$")>-1&&(oe=(oe.match(/\$([^-\[\]]*)/)||[])[1]||"$",F(C)||($[$.length]={t:"t",v:oe}));break;case".":if(we!=null){for(oe=se;++q<C.length&&(se=C.charAt(q))==="0";)oe+=se;$[$.length]={t:"s",v:oe};break}case"0":case"#":for(oe=se;++q<C.length&&"0#?.,E+-%".indexOf(se=C.charAt(q))>-1||se=="\\"&&C.charAt(q+1)=="-"&&q<C.length-2&&"0#".indexOf(C.charAt(q+2))>-1;)oe+=se;$[$.length]={t:"n",v:oe};break;case"?":for(oe=se;C.charAt(++q)===se;)oe+=se;$[$.length]={t:se,v:oe},ge=se;break;case"*":++q,(C.charAt(q)===" "||C.charAt(q)==="*")&&++q;break;case"(":case")":$[$.length]={t:j===1||typeof L=="number"&&L<0?"t":se,v:se},++q;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(oe=se;q<C.length&&"0123456789".indexOf(C.charAt(++q))>-1;)oe+=C.charAt(q);$[$.length]={t:"D",v:oe};break;case" ":$[$.length]={t:se,v:se},++q;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(se)===-1)throw new Error("unrecognized character "+se+" in "+C);$[$.length]={t:"t",v:se},++q;break}let ze=0,Rt=0,Xe;for(q=$.length-1,ge="t";q>=0;--q)switch($[q].t){case"h":case"H":$[q].t=Qe,ge="h",ze<1&&(ze=1);break;case"s":(Xe=$[q].v.match(/\.0+$/))&&(Rt=Math.max(Rt,Xe[0].length-1)),ze<3&&(ze=3);case"d":case"y":case"M":case"e":ge=$[q].t;break;case"m":ge==="s"&&($[q].t="M",ze<2&&(ze=2));break;case"X":break;case"Z":ze<1&&$[q].v.match(/[Hh]/)&&(ze=1),ze<2&&$[q].v.match(/[Mm]/)&&(ze=2),ze<3&&$[q].v.match(/[Ss]/)&&(ze=3)}switch(ze){case 0:break;case 1:we.u>=.5&&(we.u=0,++we.S),we.S>=60&&(we.S=0,++we.M),we.M>=60&&(we.M=0,++we.H);break;case 2:we.u>=.5&&(we.u=0,++we.S),we.S>=60&&(we.S=0,++we.M);break}let xe="",Me;for(q=0;q<$.length;++q)switch($[q].t){case"t":case"T":case" ":case"D":break;case"X":$[q].v="",$[q].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":$[q].v=U($[q].t.charCodeAt(0),$[q].v,we,Rt),$[q].t="t";break;case"n":case"(":case"?":for(Me=q+1;$[Me]!=null&&((se=$[Me].t)==="?"||se==="D"||(se===" "||se==="t")&&$[Me+1]!=null&&($[Me+1].t==="?"||$[Me+1].t==="t"&&$[Me+1].v==="/")||$[q].t==="("&&(se===" "||se==="n"||se===")")||se==="t"&&($[Me].v==="/"||$[Me].v===" "&&$[Me+1]!=null&&$[Me+1].t==="?"));)$[q].v+=$[Me].v,$[Me]={v:"",t:";"},++Me;xe+=$[q].v,q=Me-1;break;case"G":$[q].t="t",$[q].v=O(L,I);break}let it="",gt,Ze;if(xe.length>0){xe.charCodeAt(0)===40?(gt=L<0&&xe.charCodeAt(0)===45?-L:L,Ze=Q("(",xe,gt)):(gt=L<0&&j>1?-L:L,Ze=Q("n",xe,gt),gt<0&&$[0]&&$[0].t==="t"&&(Ze=Ze.substr(1),$[0].v="-"+$[0].v)),Me=Ze.length-1;let ne=$.length;for(q=0;q<$.length;++q)if($[q]!=null&&$[q].t!=="t"&&$[q].v.indexOf(".")>-1){ne=q;break}let le=$.length;if(ne===$.length&&Ze.indexOf("E")===-1){for(q=$.length-1;q>=0;--q)$[q]==null||"n?(".indexOf($[q].t)===-1||(Me>=$[q].v.length-1?(Me-=$[q].v.length,$[q].v=Ze.substr(Me+1,$[q].v.length)):Me<0?$[q].v="":($[q].v=Ze.substr(0,Me+1),Me=-1),$[q].t="t",le=q);Me>=0&&le<$.length&&($[le].v=Ze.substr(0,Me+1)+$[le].v)}else if(ne!==$.length&&Ze.indexOf("E")===-1){for(Me=Ze.indexOf(".")-1,q=ne;q>=0;--q)if(!($[q]==null||"n?(".indexOf($[q].t)===-1)){for(be=$[q].v.indexOf(".")>-1&&q===ne?$[q].v.indexOf(".")-1:$[q].v.length-1,it=$[q].v.substr(be+1);be>=0;--be)Me>=0&&($[q].v.charAt(be)==="0"||$[q].v.charAt(be)==="#")&&(it=Ze.charAt(Me--)+it);$[q].v=it,$[q].t="t",le=q}for(Me>=0&&le<$.length&&($[le].v=Ze.substr(0,Me+1)+$[le].v),Me=Ze.indexOf(".")+1,q=ne;q<$.length;++q)if(!($[q]==null||"n?(".indexOf($[q].t)===-1&&q!==ne)){for(be=$[q].v.indexOf(".")>-1&&q===ne?$[q].v.indexOf(".")+1:0,it=$[q].v.substr(0,be);be<$[q].v.length;++be)Me<Ze.length&&(it+=Ze.charAt(Me++));$[q].v=it,$[q].t="t",le=q}}}for(q=0;q<$.length;++q)$[q]!=null&&"n(?".indexOf($[q].t)>-1&&(gt=j>1&&L<0&&q>0&&$[q-1].v==="-"?-L:L,$[q].v=Q($[q].t,$[q].v,gt),$[q].t="t");let ye="";for(q=0;q!==$.length;++q)$[q]!=null&&(ye+=$[q].v);return ye}e._eval=J;const K=/\[[=<>]/,te=/\[([=<>]*)(-?\d+\.?\d*)\]/;function G(C,L){if(L==null)return!1;const I=parseFloat(L[2]);switch(L[1]){case"=":if(C===I)return!0;break;case">":if(C>I)return!0;break;case"<":if(C<I)return!0;break;case"<>":if(C!==I)return!0;break;case">=":if(C>=I)return!0;break;case"<=":if(C<=I)return!0;break}return!1}function H(C,L){let I=ee(C),j=I.length,$=I[j-1].indexOf("@");if(j<4&&$>-1&&--j,I.length>4)throw new Error("cannot find right format for |"+I.join("|")+"|");if(typeof L!="number")return[4,I.length===4||$>-1?I[I.length-1]:"@"];switch(I.length){case 1:I=$>-1?["General","General","General",I[0]]:[I[0],I[0],I[0],"@"];break;case 2:I=$>-1?[I[0],I[0],I[0],I[1]]:[I[0],I[1],I[0],"@"];break;case 3:I=$>-1?[I[0],I[1],I[0],I[2]]:[I[0],I[1],I[2],"@"];break}const oe=L>0?I[0]:L<0?I[1]:I[2];if(I[0].indexOf("[")===-1&&I[1].indexOf("[")===-1)return[j,oe];if(I[0].match(K)!=null||I[1].match(K)!=null){const q=I[0].match(te),se=I[1].match(te);return G(L,q)?[j,I[0]]:G(L,se)?[j,I[1]]:[j,I[q!=null&&se!=null?2:1]]}return[j,oe]}function W(C,L,I){I==null&&(I={});let j="";switch(typeof C){case"string":C==="m/d/yy"&&I.dateNF?j=I.dateNF:j=C;break;case"number":C===14&&I.dateNF?j=I.dateNF:j=(I.table!=null?I.table:y)[C];break}if(a(j,0))return O(L,I);L instanceof Date&&(L=b(L,I.date1904));const $=H(j,L);if(a($[1]))return O(L,I);if(L===!0)L="TRUE";else if(L===!1)L="FALSE";else if(L===""||L==null)return"";return J($[1],L,I,$[0])}function V(C,L){if(typeof L!="number"){L=+L||-1;for(let I=0;I<392;++I){if(y[I]===void 0){L<0&&(L=I);continue}if(y[I]===C){L=I;break}}L<0&&(L=391)}return y[L]=C,L}return e.load=V,e._table=y,e.get_table=function(){return y},e.load_table=function(L){for(let I=0;I!==392;++I)L[I]!==void 0&&V(L[I],I)},e.init_table=m,e.format=W,s0=e,s0}var a0={exports:{}},lx;function RB(){return lx||(lx=1,function(e){const t="",n=["","","","","","","","","",""],r=["","","","","","",""];function i(l){let u="";const a=l.length,d=7;if(a>d){const h=a-d+1,m=l.slice(0,h),y=l.slice(h);return i(m)+""+i(y)}else for(let h=0;h<a;h++){const m=l[h];m>0&&(u+=n[m]+r[a-h-1])}return u}function o(l){let u=l;u=u.replace("",""),u=u.replace("","");const a=5;return u.length>a&&u.length-u.lastIndexOf("")===a&&(u=u.substr(0,u.length-a)+""),u}function s(l,u){let a="";return l===""&&u===""?a=t:l!==""&&u===""?a=l+"":l===""&&u!==""?a=u+"":a=l+""+u+"",a}function c(l){let u=t;if(isNaN(l)||l>=Number.MAX_SAFE_INTEGER)return u;const a=Math.floor(l).toString(),d=Math.round(l%1*100).toString(),h=Array.from(a).map(Number),m=Array.from(d).map(Number);let y=i(h),g=i(m);return y=o(y),g=o(g),u=s(y,g),u}e.exports!=null&&(e.exports=c)}(a0)),a0.exports}var u0,cx;function kC(){if(cx)return u0;cx=1;const e=fn(),{FormulaHelpers:t,Types:n,WildCard:r}=xn(),i=t,o=CC(),s=RB(),c={latin:{halfRE:/[!-~]/g,fullRE:/[-]/g,delta:65248},hangul1:{halfRE:/[-]/g,fullRE:/[-]/g,delta:-60921},hangul2:{halfRE:/[-]/g,fullRE:/[-]/g,delta:-61025},kana:{delta:0,half:"",full:""},extras:{delta:0,half:" |",full:""}},l=g=>v=>g.delta?String.fromCharCode(v.charCodeAt(0)+g.delta):[...g.full][[...g.half].indexOf(v)],u=g=>v=>g.delta?String.fromCharCode(v.charCodeAt(0)-g.delta):[...g.half][[...g.full].indexOf(v)],a=(g,v)=>g[v+"RE"]||new RegExp("["+g[v]+"]","g"),d=Object.keys(c).map(g=>c[g]),h=g=>d.reduce((v,w)=>v.replace(a(w,"half"),l(w)),g),m=g=>d.reduce((v,w)=>v.replace(a(w,"full"),u(w)),g),y={ASC:g=>(g=i.accept(g,n.STRING),m(g)),BAHTTEXT:g=>{g=i.accept(g,n.NUMBER);try{return s(g)}catch(v){throw Error(`Error in https://github.com/jojoee/bahttext 
${v.toString()}`)}},CHAR:g=>{if(g=i.accept(g,n.NUMBER),g>255||g<1)throw e.VALUE;return String.fromCharCode(g)},CLEAN:g=>(g=i.accept(g,n.STRING),g.replace(/[\x00-\x1F]/g,"")),CODE:g=>{if(g=i.accept(g,n.STRING),g.length===0)throw e.VALUE;return g.charCodeAt(0)},CONCAT:(...g)=>{let v="";return i.flattenParams(g,n.STRING,!1,w=>{w=i.accept(w,n.STRING),v+=w}),v},CONCATENATE:(...g)=>{let v="";if(g.length===0)throw Error("CONCATENATE need at least one argument.");return g.forEach(w=>{w=i.accept(w,n.STRING),v+=w}),v},DBCS:g=>(g=i.accept(g,n.STRING),h(g)),DOLLAR:(g,v)=>{g=i.accept(g,n.NUMBER),v=i.accept(v,n.NUMBER,2);const w=Array(v).fill("0").join("");return o.format(`$#,##0.${w}_);($#,##0.${w})`,g).trim()},EXACT:(g,v)=>(g=i.accept(g,[n.STRING]),v=i.accept(v,[n.STRING]),g===v),FIND:(g,v,w)=>{if(g=i.accept(g,n.STRING),v=i.accept(v,n.STRING),w=i.accept(w,n.NUMBER,1),w<1||w>v.length)throw e.VALUE;const T=v.indexOf(g,w-1);if(T===-1)throw e.VALUE;return T+1},FINDB:(...g)=>y.FIND(...g),FIXED:(g,v,w)=>{g=i.accept(g,n.NUMBER),v=i.accept(v,n.NUMBER,2),w=i.accept(w,n.BOOLEAN,!1);const T=Array(v).fill("0").join(""),N=w?"":"#,";return o.format(`${N}##0.${T}_);(${N}##0.${T})`,g).trim()},LEFT:(g,v)=>{if(g=i.accept(g,n.STRING),v=i.accept(v,n.NUMBER,1),v<0)throw e.VALUE;return v>g.length?g:g.slice(0,v)},LEFTB:(...g)=>y.LEFT(...g),LEN:g=>(g=i.accept(g,n.STRING),g.length),LENB:(...g)=>y.LEN(...g),LOWER:g=>(g=i.accept(g,n.STRING),g.toLowerCase()),MID:(g,v,w)=>{if(g=i.accept(g,n.STRING),v=i.accept(v,n.NUMBER),w=i.accept(w,n.NUMBER),v>g.length)return"";if(v<1||w<1)throw e.VALUE;return g.slice(v-1,v+w-1)},MIDB:(...g)=>y.MID(...g),NUMBERVALUE:(g,v,w)=>{if(g=i.accept(g,n.STRING),v=i.accept(v,n.STRING,"."),w=i.accept(w,n.STRING,","),g.length===0)return 0;if(v.length===0||w.length===0||(v=v[0],w=w[0],v===w||g.indexOf(v)<g.lastIndexOf(w)))throw e.VALUE;const T=g.replace(w,"").replace(v,".").replace(/[^\-0-9.%()]/g,"").match(/([(-]*)([0-9]*[.]*[0-9]+)([)]?)([%]*)/);if(!T)throw e.VALUE;const N=T[1].length,b=T[3].length,S=T[4].length;let x=Number(T[2]);if(N>1||N&&!b||!N&&b||isNaN(x))throw e.VALUE;return x=x/100**S,N?-x:x},PHONETIC:()=>{},PROPER:g=>(g=i.accept(g,[n.STRING]),g=g.toLowerCase(),g=g.charAt(0).toUpperCase()+g.slice(1),g.replace(/(?:[^a-zA-Z])([a-zA-Z])/g,v=>v.toUpperCase())),REPLACE:(g,v,w,T)=>{g=i.accept(g,[n.STRING]),v=i.accept(v,[n.NUMBER]),w=i.accept(w,[n.NUMBER]),T=i.accept(T,[n.STRING]);let N=g.split("");return N.splice(v-1,w,T),N.join("")},REPLACEB:(...g)=>y.REPLACE(...g),REPT:(g,v)=>{g=i.accept(g,n.STRING),v=i.accept(v,n.NUMBER);let w="";for(let T=0;T<v;T++)w+=g;return w},RIGHT:(g,v)=>{if(g=i.accept(g,n.STRING),v=i.accept(v,n.NUMBER,1),v<0)throw e.VALUE;const w=g.length;return v>w?g:g.slice(w-v)},RIGHTB:(...g)=>y.RIGHT(...g),SEARCH:(g,v,w)=>{if(g=i.accept(g,n.STRING),v=i.accept(v,n.STRING),w=i.accept(w,n.NUMBER,1),w<1||w>v.length)throw e.VALUE;let T=r.isWildCard(g)?r.toRegex(g,"i"):g;const N=v.slice(w-1).search(T);if(N===-1)throw e.VALUE;return N+w},SEARCHB:(...g)=>y.SEARCH(...g),SUBSTITUTE:(...g)=>{},T:g=>(g=i.accept(g),typeof g=="string"?g:""),TEXT:(g,v)=>{g=i.accept(g,n.NUMBER),v=i.accept(v,n.STRING);try{return o.format(v,g)}catch(w){throw console.error(w),e.VALUE}},TEXTJOIN:(...g)=>{},TRIM:g=>(g=i.accept(g,[n.STRING]),g.replace(/^\s+|\s+$/g,"")),UNICHAR:g=>{if(g=i.accept(g,[n.NUMBER]),g<=0)throw e.VALUE;return String.fromCharCode(g)},UNICODE:g=>y.CODE(g)};return u0=y,u0}var l0,fx;function cm(){if(fx)return l0;fx=1;const e=fn(),{FormulaHelpers:t}=xn(),n={unaryOp:(s,c,l)=>{let u=1;if(s.forEach(a=>{if(a!=="+")if(a==="-")u=-u;else throw new Error(`Unrecognized prefix: ${a}`)}),c==null&&(c=0),u===1)return c;try{c=t.acceptNumber(c,l)}catch(a){if(a instanceof e)Array.isArray(c)&&(c=c[0][0]);else throw a}return typeof c=="number"&&isNaN(c)?e.VALUE:-c}},r={percentOp:(s,c,l)=>{try{s=t.acceptNumber(s,l)}catch(u){if(u instanceof e)return u;throw u}if(c==="%")return s/100;throw new Error(`Unrecognized postfix: ${c}`)}},i={boolean:3,string:2,number:1};return l0={Prefix:n,Postfix:r,Infix:{compareOp:(s,c,l,u,a)=>{s==null&&(s=0),l==null&&(l=0),u&&(s=s[0][0]),a&&(l=l[0][0]);const d=typeof s,h=typeof l;if(d===h)switch(c){case"=":return s===l;case">":return s>l;case"<":return s<l;case"<>":return s!==l;case"<=":return s<=l;case">=":return s>=l}else switch(c){case"=":return!1;case">":return i[d]>i[h];case"<":return i[d]<i[h];case"<>":return!0;case"<=":return i[d]<=i[h];case">=":return i[d]>=i[h]}throw Error("Infix.compareOp: Should not reach here.")},concatOp:(s,c,l,u,a)=>{s==null&&(s=""),l==null&&(l=""),u&&(s=s[0][0]),a&&(l=l[0][0]);const d=typeof s,h=typeof l;return d==="boolean"&&(s=s?"TRUE":"FALSE"),h==="boolean"&&(l=l?"TRUE":"FALSE"),""+s+l},mathOp:(s,c,l,u,a)=>{s==null&&(s=0),l==null&&(l=0);try{s=t.acceptNumber(s,u),l=t.acceptNumber(l,a)}catch(d){if(d instanceof e)return d;throw d}switch(c){case"+":return s+l;case"-":return s-l;case"*":return s*l;case"/":return l===0?e.DIV0:s/l;case"^":return s**l}throw Error("Infix.mathOp: Should not reach here.")}},Operators:{compareOp:["<",">","=","<>","<=",">="],concatOp:["&"],mathOp:["+","-","*","/","^"]}},l0}var c0,dx;function MC(){if(dx)return c0;dx=1;const e=fn(),{FormulaHelpers:t,Types:n,Factorials:r,Criteria:i}=xn(),{Infix:o}=cm(),s=t,c=[],l=[];function u(h){return h<=100?r[h]:c[h]>0?c[h]:c[h]=u(h-1)*h}function a(h){return h===1||h===0?1:h===2?2:l[h]>0?l[h]:l[h]=a(h-2)*h}const d={ABS:h=>(h=s.accept(h,n.NUMBER),Math.abs(h)),AGGREGATE:(h,m,y,...g)=>{},ARABIC:h=>{if(h=s.accept(h,n.STRING).toUpperCase(),!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/.test(h))throw new e("#VALUE!","Invalid roman numeral in ARABIC evaluation.");let m=0;return h.replace(/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,function(y){m+={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}[y]}),m},BASE:(h,m,y)=>{if(h=s.accept(h,n.NUMBER),h<0||h>=2**53||(m=s.accept(m,n.NUMBER),m<2||m>36)||(y=s.accept(y,n.NUMBER,0),y<0))throw e.NUM;const g=h.toString(m).toUpperCase();return new Array(Math.max(y+1-g.length,0)).join("0")+g},CEILING:(h,m)=>{if(h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER),m===0)return 0;if(h/m%1===0)return h;const y=Math.abs(m),g=Math.floor(Math.abs(h)/y);return h<0?m<0?-y*(g+1):-y*g:(g+1)*y},"CEILING.MATH":(h,m,y)=>{if(h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER,h>0?1:-1),y=s.accept(y,n.NUMBER,0),h>=0)return d.CEILING(h,m);const g=y?m:0;return d.CEILING(h,m)-g},"CEILING.PRECISE":(h,m)=>(h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER,1),d.CEILING(h,Math.abs(m))),COMBIN:(h,m)=>{if(h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER),h<0||m<0||h<m)throw e.NUM;const y=d.FACT(h),g=d.FACT(m);return y/g/d.FACT(h-m)},COMBINA:(h,m)=>{if(h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER),(h===0||h===1)&&m===0)return 1;if(h<0||m<0)throw e.NUM;return d.COMBIN(h+m-1,h-1)},DECIMAL:(h,m)=>{if(h=s.accept(h,n.STRING),m=s.accept(m,n.NUMBER),m=Math.trunc(m),m<2||m>36)throw e.NUM;const y=parseInt(h,m);if(isNaN(y))throw e.NUM;return y},DEGREES:h=>(h=s.accept(h,n.NUMBER),h*(180/Math.PI)),EVEN:h=>d.CEILING(h,-2),EXP:h=>(h=s.accept(h,n.NUMBER),Math.exp(h)),FACT:h=>{if(h=s.accept(h,n.NUMBER),h=Math.trunc(h),h>170||h<0)throw e.NUM;return h<=100?r[h]:u(h)},FACTDOUBLE:h=>{if(h=s.accept(h,n.NUMBER),h=Math.trunc(h),h<-1)throw e.NUM;return h===-1?1:a(h)},FLOOR:(h,m)=>{if(h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER),m===0)return 0;if(h>0&&m<0)throw e.NUM;if(h/m%1===0)return h;const y=Math.abs(m),g=Math.floor(Math.abs(h)/y);return h<0?m<0?-y*g:-y*(g+1):g*y},"FLOOR.MATH":(h,m,y)=>(h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER,h>0?1:-1),y=s.accept(y,n.NUMBER,0),y===0||h>=0?d.FLOOR(h,Math.abs(m)):d.FLOOR(h,m)+m),"FLOOR.PRECISE":(h,m)=>(h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER,1),d.FLOOR(h,Math.abs(m))),GCD:(...h)=>{const m=[];s.flattenParams(h,null,!1,T=>{if(T=typeof T=="boolean"?NaN:Number(T),isNaN(T))throw e.VALUE;if(T<0||T>9007199254740990)throw e.NUM;m.push(Math.trunc(T))},0);let y,g,v=h.length,w=Math.abs(m[0]);for(y=1;y<v;y++){for(g=Math.abs(m[y]);w&&g;)w>g?w%=g:g%=w;w+=g}return w},INT:h=>(h=s.accept(h,n.NUMBER),Math.floor(h)),"ISO.CEILING":(...h)=>d["CEILING.PRECISE"](...h),LCM:(...h)=>{const m=[];s.flattenParams(h,null,!1,v=>{if(v=typeof v=="boolean"?NaN:Number(v),isNaN(v))throw e.VALUE;if(v<0||v>9007199254740990)throw e.NUM;m.push(Math.trunc(v))},1);let y=m.length,g=Math.abs(m[0]);for(let v=1;v<y;v++){let w=Math.abs(m[v]),T=g;for(;g&&w;)g>w?g%=w:w%=g;g=Math.abs(T*m[v])/(g+w)}return g},LN:h=>(h=s.accept(h,n.NUMBER),Math.log(h)),LOG:(h,m)=>(h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER,10),Math.log(h)/Math.log(m)),LOG10:h=>(h=s.accept(h,n.NUMBER),Math.log10(h)),MDETERM:h=>{if(h=s.accept(h,n.ARRAY,void 0,!1,!0),h[0].length!==h.length)throw e.VALUE;const m=h.length,y=h[0].length;let g=0,v,w;if(m===1)return h[0][0];if(m===2)return h[0][0]*h[1][1]-h[0][1]*h[1][0];for(let T=0;T<y;T++){v=h[0][T],w=h[0][T];for(let N=1;N<m;N++)w*=h[N][((T+N)%y+y)%y],v*=h[N][((T-N)%y+y)%y];g+=w-v}return g},MINVERSE:h=>{},MMULT:(h,m)=>{h=s.accept(h,n.ARRAY,void 0,!1,!0),m=s.accept(m,n.ARRAY,void 0,!1,!0);const y=h.length,g=h[0].length,v=m.length,w=m[0].length,T=new Array(y);if(g!==v)throw e.VALUE;for(let N=0;N<y;N++){T[N]=new Array(w);for(let b=0;b<w;b++){T[N][b]=0;for(let S=0;S<g;S++){const x=h[N][S],O=m[S][b];if(typeof x!="number"||typeof O!="number")throw e.VALUE;T[N][b]+=h[N][S]*m[S][b]}}}return T},MOD:(h,m)=>{if(h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER),m===0)throw e.DIV0;return h-m*d.INT(h/m)},MROUND:(h,m)=>{if(h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER),m===0)return 0;if(h>0&&m<0||h<0&&m>0)throw e.NUM;return h/m%1===0?h:Math.round(h/m)*m},MULTINOMIAL:(...h)=>{let m=0,y=1;return s.flattenParams(h,n.NUMBER,!1,g=>{if(g<0)throw e.NUM;m+=g,y*=u(g)}),u(m)/y},MUNIT:h=>{h=s.accept(h,n.NUMBER);const m=[];for(let y=0;y<h;y++){const g=[];for(let v=0;v<h;v++)y===v?g.push(1):g.push(0);m.push(g)}return m},ODD:h=>{if(h=s.accept(h,n.NUMBER),h===0)return 1;let m=Math.ceil(Math.abs(h));return m=m&1?m:m+1,h>0?m:-m},PI:()=>Math.PI,POWER:(h,m)=>(h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER),h**m),PRODUCT:(...h)=>{let m=1;return s.flattenParams(h,null,!0,(y,g)=>{const v=Number(y);g.isLiteral&&!isNaN(v)?m*=v:typeof y=="number"&&(m*=y)},1),m},QUOTIENT:(h,m)=>(h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER),Math.trunc(h/m)),RADIANS:h=>(h=s.accept(h,n.NUMBER),h/180*Math.PI),RAND:()=>Math.random(),RANDBETWEEN:(h,m)=>(h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER),Math.floor(Math.random()*(m-h+1)+h)),ROMAN:(h,m)=>{if(h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER,0),m!==0)throw Error("ROMAN: only allows form=0 (classic form).");const y=String(h).split(""),g=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];let v="",w=3;for(;w--;)v=(g[+y.pop()+w*10]||"")+v;return new Array(+y.join("")+1).join("M")+v},ROUND:(h,m)=>{h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER);const y=Math.pow(10,Math.abs(m)),g=h>0?1:-1;return m>0?g*Math.round(Math.abs(h)*y)/y:m===0?g*Math.round(Math.abs(h)):g*Math.round(Math.abs(h)/y)*y},ROUNDDOWN:(h,m)=>{h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER);const y=Math.pow(10,Math.abs(m)),g=h>0?1:-1;if(m>0){const v=1/y*.5;return g*Math.round((Math.abs(h)-v)*y)/y}else{if(m===0)return g*Math.round(Math.abs(h)-.5);{const v=y*.5;return g*Math.round((Math.abs(h)-v)/y)*y}}},ROUNDUP:(h,m)=>{h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER);const y=Math.pow(10,Math.abs(m)),g=h>0?1:-1;if(m>0){const v=1/y*.5;return g*Math.round((Math.abs(h)+v)*y)/y}else{if(m===0)return g*Math.round(Math.abs(h)+.5);{const v=y*.5;return g*Math.round((Math.abs(h)+v)/y)*y}}},SERIESSUM:(h,m,y,g)=>{h=s.accept(h,n.NUMBER),m=s.accept(m,n.NUMBER),y=s.accept(y,n.NUMBER);let v=0,w;return s.flattenParams([g],n.NUMBER,!1,T=>{if(typeof T!="number")throw e.VALUE;v===0?w=T*Math.pow(h,m):w+=T*Math.pow(h,m+v*y),v++}),w},SIGN:h=>(h=s.accept(h,n.NUMBER),h>0?1:h===0?0:-1),SQRT:h=>{if(h=s.accept(h,n.NUMBER),h<0)throw e.NUM;return Math.sqrt(h)},SQRTPI:h=>{if(h=s.accept(h,n.NUMBER),h<0)throw e.NUM;return Math.sqrt(h*Math.PI)},SUBTOTAL:()=>{},SUM:(...h)=>{let m=0;return s.flattenParams(h,n.NUMBER,!0,(y,g)=>{(g.isLiteral||typeof y=="number")&&(m+=y)}),m},SUMIF:(h,m,y,g)=>{const v=s.retrieveRanges(h,m,g);m=v[0],g=v[1],y=s.retrieveArg(h,y);const w=y.isArray;y=i.parse(s.accept(y));let T=0;return m.forEach((N,b)=>{N.forEach((S,x)=>{const O=g[b][x];typeof O=="number"&&(y.op==="wc"?y.match===y.value.test(S)&&(T+=O):o.compareOp(S,y.op,y.value,Array.isArray(S),w)&&(T+=O))})}),T},SUMIFS:()=>{},SUMPRODUCT:(h,...m)=>{h=s.accept(h,n.ARRAY,void 0,!1,!0),m.forEach(g=>{if(g=s.accept(g,n.ARRAY,void 0,!1,!0),h[0].length!==g[0].length||h.length!==g.length)throw e.VALUE;for(let v=0;v<h.length;v++)for(let w=0;w<h[0].length;w++)typeof h[v][w]!="number"&&(h[v][w]=0),typeof g[v][w]!="number"&&(g[v][w]=0),h[v][w]*=g[v][w]});let y=0;return h.forEach(g=>{g.forEach(v=>{y+=v})}),y},SUMSQ:(...h)=>{let m=0;return s.flattenParams(h,n.NUMBER,!0,(y,g)=>{(g.isLiteral||typeof y=="number")&&(m+=y**2)}),m},SUMX2MY2:(h,m)=>{const y=[],g=[];let v=0;if(s.flattenParams([h],null,!1,(w,T)=>{y.push(w)}),s.flattenParams([m],null,!1,(w,T)=>{g.push(w)}),y.length!==g.length)throw e.NA;for(let w=0;w<y.length;w++)typeof y[w]=="number"&&typeof g[w]=="number"&&(v+=y[w]**2-g[w]**2);return v},SUMX2PY2:(h,m)=>{const y=[],g=[];let v=0;if(s.flattenParams([h],null,!1,(w,T)=>{y.push(w)}),s.flattenParams([m],null,!1,(w,T)=>{g.push(w)}),y.length!==g.length)throw e.NA;for(let w=0;w<y.length;w++)typeof y[w]=="number"&&typeof g[w]=="number"&&(v+=y[w]**2+g[w]**2);return v},SUMXMY2:(h,m)=>{const y=[],g=[];let v=0;if(s.flattenParams([h],null,!1,(w,T)=>{y.push(w)}),s.flattenParams([m],null,!1,(w,T)=>{g.push(w)}),y.length!==g.length)throw e.NA;for(let w=0;w<y.length;w++)typeof y[w]=="number"&&typeof g[w]=="number"&&(v+=(y[w]-g[w])**2);return v},TRUNC:h=>(h=s.accept(h,n.NUMBER),Math.trunc(h))};return c0=d,c0}var f0,hx;function SB(){if(hx)return f0;hx=1;const e=fn(),{FormulaHelpers:t,Types:n}=xn(),r=t,i=2**27-1;return f0={ACOS:s=>{if(s=r.accept(s,n.NUMBER),s>1||s<-1)throw e.NUM;return Math.acos(s)},ACOSH:s=>{if(s=r.accept(s,n.NUMBER),s<1)throw e.NUM;return Math.acosh(s)},ACOT:s=>(s=r.accept(s,n.NUMBER),Math.PI/2-Math.atan(s)),ACOTH:s=>{if(s=r.accept(s,n.NUMBER),Math.abs(s)<=1)throw e.NUM;return Math.atanh(1/s)},ASIN:s=>{if(s=r.accept(s,n.NUMBER),s>1||s<-1)throw e.NUM;return Math.asin(s)},ASINH:s=>(s=r.accept(s,n.NUMBER),Math.asinh(s)),ATAN:s=>(s=r.accept(s,n.NUMBER),Math.atan(s)),ATAN2:(s,c)=>{if(s=r.accept(s,n.NUMBER),c=r.accept(c,n.NUMBER),c===0&&s===0)throw e.DIV0;return Math.atan2(c,s)},ATANH:s=>{if(s=r.accept(s,n.NUMBER),Math.abs(s)>1)throw e.NUM;return Math.atanh(s)},COS:s=>{if(s=r.accept(s,n.NUMBER),Math.abs(s)>i)throw e.NUM;return Math.cos(s)},COSH:s=>(s=r.accept(s,n.NUMBER),Math.cosh(s)),COT:s=>{if(s=r.accept(s,n.NUMBER),Math.abs(s)>i)throw e.NUM;if(s===0)throw e.DIV0;return 1/Math.tan(s)},COTH:s=>{if(s=r.accept(s,n.NUMBER),s===0)throw e.DIV0;return 1/Math.tanh(s)},CSC:s=>{if(s=r.accept(s,n.NUMBER),Math.abs(s)>i)throw e.NUM;return 1/Math.sin(s)},CSCH:s=>{if(s=r.accept(s,n.NUMBER),s===0)throw e.DIV0;return 1/Math.sinh(s)},SEC:s=>{if(s=r.accept(s,n.NUMBER),Math.abs(s)>i)throw e.NUM;return 1/Math.cos(s)},SECH:s=>(s=r.accept(s,n.NUMBER),1/Math.cosh(s)),SIN:s=>{if(s=r.accept(s,n.NUMBER),Math.abs(s)>i)throw e.NUM;return Math.sin(s)},SINH:s=>(s=r.accept(s,n.NUMBER),Math.sinh(s)),TAN:s=>{if(s=r.accept(s,n.NUMBER),Math.abs(s)>i)throw e.NUM;return Math.tan(s)},TANH:s=>(s=r.accept(s,n.NUMBER),Math.tanh(s))},f0}var d0,px;function AB(){if(px)return d0;px=1;const e=fn(),{FormulaHelpers:t,Types:n}=xn(),r=t;function i(s){let c=0,l=0;return r.flattenParams(s,null,!0,u=>{const a=typeof u;a==="string"?u==="TRUE"?u=!0:u==="FALSE"&&(u=!1):a==="number"&&(u=!!u),typeof u=="boolean"&&(u===!0?c++:l++)}),[c,l]}return d0={AND:(...s)=>{const[c,l]=i(s);return c===0&&l===0?e.VALUE:c>0&&l===0},FALSE:()=>!1,IF:(s,c,l,u)=>(c=r.accept(c,n.BOOLEAN),l=r.accept(l),u=r.accept(u,null,!1),c?l:u),IFERROR:(s,c)=>s.value instanceof e?r.accept(c):r.accept(s),IFNA:function(s,c){if(arguments.length>2)throw e.TOO_MANY_ARGS("IFNA");return e.NA.equals(s.value)?r.accept(c):r.accept(s)},IFS:(...s)=>{if(s.length%2!==0)return new e("#N/A","IFS expects all arguments after position 0 to be in pairs.");for(let c=0;c<s.length/2;c++){const l=r.accept(s[c*2],n.BOOLEAN),u=r.accept(s[c*2+1]);if(l)return u}return e.NA},NOT:s=>(s=r.accept(s,n.BOOLEAN),!s),OR:(...s)=>{const[c,l]=i(s);return c===0&&l===0?e.VALUE:c>0},SWITCH:(...s)=>{},TRUE:()=>!0,XOR:(...s)=>{const[c,l]=i(s);return c===0&&l===0?e.VALUE:c%2===1}},d0}var h0={},mx;function OB(){return mx||(mx=1,function(e){(function(t){t(typeof DO_NOT_EXPORT_BESSEL>"u"?e:{})})(function(t){t.version="1.0.2";var n=Math;function r(a,d){for(var h=0,m=0;h<a.length;++h)m=d*m+a[h];return m}function i(a,d,h,m,y){if(d===0)return h;if(d===1)return m;for(var g=2/a,v=m,w=1;w<d;++w)v=m*w*g+y*h,h=m,m=v;return v}function o(a,d,h,m,y){return function(v,w){if(m){if(v===0)return m==1?-1/0:1/0;if(v<0)return NaN}if(w===0)return a(v);if(w===1)return d(v);if(w<0)return NaN;w|=0;var T=a(v),N=d(v);return i(v,w,T,N,y)}}var s=function(){var a=.636619772,d=[57568490574,-13362590354,6516196407e-1,-1121442418e-2,77392.33017,-184.9052456].reverse(),h=[57568490411,1029532985,9494680718e-3,59272.64853,267.8532712,1].reverse(),m=[1,-.001098628627,2734510407e-14,-2073370639e-15,2093887211e-16].reverse(),y=[-.01562499995,.0001430488765,-6911147651e-15,7621095161e-16,-934935152e-16].reverse();function g(S){var x=0,O=0,M=0,U=S*S;if(S<8)O=r(d,U),M=r(h,U),x=O/M;else{var z=S-.785398164;U=64/U,O=r(m,U),M=r(y,U),x=n.sqrt(a/S)*(n.cos(z)*O-n.sin(z)*M*8/S)}return x}var v=[72362614232,-7895059235,2423968531e-1,-2972611439e-3,15704.4826,-30.16036606].reverse(),w=[144725228442,2300535178,1858330474e-2,99447.43394,376.9991397,1].reverse(),T=[1,.00183105,-3516396496e-14,2457520174e-15,-240337019e-15].reverse(),N=[.04687499995,-.0002002690873,8449199096e-15,-88228987e-14,105787412e-15].reverse();function b(S){var x=0,O=0,M=0,U=S*S,z=n.abs(S)-2.356194491;return Math.abs(S)<8?(O=S*r(v,U),M=r(w,U),x=O/M):(U=64/U,O=r(T,U),M=r(N,U),x=n.sqrt(a/n.abs(S))*(n.cos(z)*O-n.sin(z)*M*8/n.abs(S)),S<0&&(x=-x)),x}return function S(x,O){if(O=Math.round(O),!isFinite(x))return isNaN(x)?x:0;if(O<0)return(O%2?-1:1)*S(x,-O);if(x<0)return(O%2?-1:1)*S(-x,O);if(O===0)return g(x);if(O===1)return b(x);if(x===0)return 0;var M=0;if(x>O)M=i(x,O,g(x),b(x),-1);else{for(var U=2*n.floor((O+n.floor(n.sqrt(40*O)))/2),z=!1,Q=0,ee=0,X=1,F=0,J=2/x,K=U;K>0;K--)F=K*J*X-Q,Q=X,X=F,n.abs(X)>1e10&&(X*=1e-10,Q*=1e-10,M*=1e-10,ee*=1e-10),z&&(ee+=X),z=!z,K==O&&(M=Q);ee=2*ee-X,M/=ee}return M}}(),c=function(){var a=.636619772,d=[-2957821389,7062834065,-5123598036e-1,1087988129e-2,-86327.92757,228.4622733].reverse(),h=[40076544269,7452499648e-1,7189466438e-3,47447.2647,226.1030244,1].reverse(),m=[1,-.001098628627,2734510407e-14,-2073370639e-15,2093887211e-16].reverse(),y=[-.01562499995,.0001430488765,-6911147651e-15,7621095161e-16,-934945152e-16].reverse();function g(S){var x=0,O=0,M=0,U=S*S,z=S-.785398164;return S<8?(O=r(d,U),M=r(h,U),x=O/M+a*s(S,0)*n.log(S)):(U=64/U,O=r(m,U),M=r(y,U),x=n.sqrt(a/S)*(n.sin(z)*O+n.cos(z)*M*8/S)),x}var v=[-4900604943e3,127527439e4,-51534381390,7349264551e-1,-4237922726e-3,8511.937935].reverse(),w=[249958057e5,424441966400,3733650367,2245904002e-2,102042.605,354.9632885,1].reverse(),T=[1,.00183105,-3516396496e-14,2457520174e-15,-240337019e-15].reverse(),N=[.04687499995,-.0002002690873,8449199096e-15,-88228987e-14,105787412e-15].reverse();function b(S){var x=0,O=0,M=0,U=S*S,z=S-2.356194491;return S<8?(O=S*r(v,U),M=r(w,U),x=O/M+a*(s(S,1)*n.log(S)-1/S)):(U=64/U,O=r(T,U),M=r(N,U),x=n.sqrt(a/S)*(n.sin(z)*O+n.cos(z)*M*8/S)),x}return o(g,b,"BESSELY",1,-1)}(),l=function(){var a=[1,3.5156229,3.0899424,1.2067492,.2659732,.0360768,.0045813].reverse(),d=[.39894228,.01328592,.00225319,-.00157565,.00916281,-.02057706,.02635537,-.01647633,.00392377].reverse();function h(v){return v<=3.75?r(a,v*v/(3.75*3.75)):n.exp(n.abs(v))/n.sqrt(n.abs(v))*r(d,3.75/n.abs(v))}var m=[.5,.87890594,.51498869,.15084934,.02658733,.00301532,32411e-8].reverse(),y=[.39894228,-.03988024,-.00362018,.00163801,-.01031555,.02282967,-.02895312,.01787654,-.00420059].reverse();function g(v){return v<3.75?v*r(m,v*v/(3.75*3.75)):(v<0?-1:1)*n.exp(n.abs(v))/n.sqrt(n.abs(v))*r(y,3.75/n.abs(v))}return function v(w,T){if(T=Math.round(T),T===0)return h(w);if(T===1)return g(w);if(T<0)return NaN;if(n.abs(w)===0)return 0;if(w==1/0)return 1/0;var N=0,b,S=2/n.abs(w),x=0,O=1,M=0,U=2*n.round((T+n.round(n.sqrt(40*T)))/2);for(b=U;b>0;b--)M=b*S*O+x,x=O,O=M,n.abs(O)>1e10&&(O*=1e-10,x*=1e-10,N*=1e-10),b==T&&(N=x);return N*=v(w,0)/O,w<0&&T%2?-N:N}}(),u=function(){var a=[-.57721566,.4227842,.23069756,.0348859,.00262698,1075e-7,74e-7].reverse(),d=[1.25331414,-.07832358,.02189568,-.01062446,.00587872,-.0025154,53208e-8].reverse();function h(v){return v<=2?-n.log(v/2)*l(v,0)+r(a,v*v/4):n.exp(-v)/n.sqrt(v)*r(d,2/v)}var m=[1,.15443144,-.67278579,-.18156897,-.01919402,-.00110404,-4686e-8].reverse(),y=[1.25331414,.23498619,-.0365562,.01504268,-.00780353,.00325614,-68245e-8].reverse();function g(v){return v<=2?n.log(v/2)*l(v,1)+1/v*r(m,v*v/4):n.exp(-v)/n.sqrt(v)*r(y,2/v)}return o(h,g,"BESSELK",2,1)}();t.besselj=s,t.bessely=c,t.besseli=l,t.besselk=u})}(h0)),h0}var zh={exports:{}},IB=zh.exports,gx;function PC(){return gx||(gx=1,function(e,t){(function(n,r){e.exports=r()})(IB,function(){var n=function(r,i){var o=Array.prototype.concat,s=Array.prototype.slice,c=Object.prototype.toString;function l(T,N){var b=T>N?T:N;return r.pow(10,17-~~(r.log(b>0?b:-b)*r.LOG10E))}var u=Array.isArray||function(N){return c.call(N)==="[object Array]"};function a(T){return c.call(T)==="[object Function]"}function d(T){return typeof T=="number"?T-T===0:!1}function h(T){return o.apply([],T)}function m(){return new m._init(arguments)}m.fn=m.prototype,m._init=function(N){if(u(N[0]))if(u(N[0][0])){a(N[1])&&(N[0]=m.map(N[0],N[1]));for(var b=0;b<N[0].length;b++)this[b]=N[0][b];this.length=N[0].length}else this[0]=a(N[1])?m.map(N[0],N[1]):N[0],this.length=1;else if(d(N[0]))this[0]=m.seq.apply(null,N),this.length=1;else{if(N[0]instanceof m)return m(N[0].toArray());this[0]=[],this.length=1}return this},m._init.prototype=m.prototype,m._init.constructor=m,m.utils={calcRdx:l,isArray:u,isFunction:a,isNumber:d,toVector:h},m._random_fn=r.random,m.setRandom=function(N){if(typeof N!="function")throw new TypeError("fn is not a function");m._random_fn=N},m.extend=function(N){var b,S;if(arguments.length===1){for(S in N)m[S]=N[S];return this}for(b=1;b<arguments.length;b++)for(S in arguments[b])N[S]=arguments[b][S];return N},m.rows=function(N){return N.length||1},m.cols=function(N){return N[0].length||1},m.dimensions=function(N){return{rows:m.rows(N),cols:m.cols(N)}},m.row=function(N,b){return u(b)?b.map(function(S){return m.row(N,S)}):N[b]},m.rowa=function(N,b){return m.row(N,b)},m.col=function(N,b){if(u(b)){var S=m.arange(N.length).map(function(){return new Array(b.length)});return b.forEach(function(M,U){m.arange(N.length).forEach(function(z){S[z][U]=N[z][M]})}),S}for(var x=new Array(N.length),O=0;O<N.length;O++)x[O]=[N[O][b]];return x},m.cola=function(N,b){return m.col(N,b).map(function(S){return S[0]})},m.diag=function(N){for(var b=m.rows(N),S=new Array(b),x=0;x<b;x++)S[x]=[N[x][x]];return S},m.antidiag=function(N){for(var b=m.rows(N)-1,S=new Array(b),x=0;b>=0;b--,x++)S[x]=[N[x][b]];return S},m.transpose=function(N){var b=[],S,x,O,M,U;for(u(N[0])||(N=[N]),x=N.length,O=N[0].length,U=0;U<O;U++){for(S=new Array(x),M=0;M<x;M++)S[M]=N[M][U];b.push(S)}return b.length===1?b[0]:b},m.map=function(N,b,S){var x,O,M,U,z;for(u(N[0])||(N=[N]),O=N.length,M=N[0].length,U=S?N:new Array(O),x=0;x<O;x++)for(U[x]||(U[x]=new Array(M)),z=0;z<M;z++)U[x][z]=b(N[x][z],x,z);return U.length===1?U[0]:U},m.cumreduce=function(N,b,S){var x,O,M,U,z;for(u(N[0])||(N=[N]),O=N.length,M=N[0].length,U=S?N:new Array(O),x=0;x<O;x++)for(U[x]||(U[x]=new Array(M)),M>0&&(U[x][0]=N[x][0]),z=1;z<M;z++)U[x][z]=b(U[x][z-1],N[x][z]);return U.length===1?U[0]:U},m.alter=function(N,b){return m.map(N,b,!0)},m.create=function(N,b,S){var x=new Array(N),O,M;for(a(b)&&(S=b,b=N),O=0;O<N;O++)for(x[O]=new Array(b),M=0;M<b;M++)x[O][M]=S(O,M);return x};function y(){return 0}m.zeros=function(N,b){return d(b)||(b=N),m.create(N,b,y)};function g(){return 1}m.ones=function(N,b){return d(b)||(b=N),m.create(N,b,g)},m.rand=function(N,b){return d(b)||(b=N),m.create(N,b,m._random_fn)};function v(T,N){return T===N?1:0}m.identity=function(N,b){return d(b)||(b=N),m.create(N,b,v)},m.symmetric=function(N){var b=N.length,S,x;if(N.length!==N[0].length)return!1;for(S=0;S<b;S++)for(x=0;x<b;x++)if(N[x][S]!==N[S][x])return!1;return!0},m.clear=function(N){return m.alter(N,y)},m.seq=function(N,b,S,x){a(x)||(x=!1);var O=[],M=l(N,b),U=(b*M-N*M)/((S-1)*M),z=N,Q;for(Q=0;z<=b&&Q<S;Q++,z=(N*M+U*M*Q)/M)O.push(x?x(z,Q):z);return O},m.arange=function(N,b,S){var x=[],O;if(S=S||1,b===i&&(b=N,N=0),N===b||S===0)return[];if(N<b&&S<0)return[];if(N>b&&S>0)return[];if(S>0)for(O=N;O<b;O+=S)x.push(O);else for(O=N;O>b;O+=S)x.push(O);return x},m.slice=function(){function T(b,S,x,O){var M,U=[],z=b.length;if(S===i&&x===i&&O===i)return m.copy(b);if(S=S||0,x=x||b.length,S=S>=0?S:z+S,x=x>=0?x:z+x,O=O||1,S===x||O===0)return[];if(S<x&&O<0)return[];if(S>x&&O>0)return[];if(O>0)for(M=S;M<x;M+=O)U.push(b[M]);else for(M=S;M>x;M+=O)U.push(b[M]);return U}function N(b,S){var x,O;if(S=S||{},d(S.row)){if(d(S.col))return b[S.row][S.col];var M=m.rowa(b,S.row);return x=S.col||{},T(M,x.start,x.end,x.step)}if(d(S.col)){var U=m.cola(b,S.col);return O=S.row||{},T(U,O.start,O.end,O.step)}O=S.row||{},x=S.col||{};var z=T(b,O.start,O.end,O.step);return z.map(function(Q){return T(Q,x.start,x.end,x.step)})}return N}(),m.sliceAssign=function(N,b,S){var x,O;if(d(b.row)){if(d(b.col))return N[b.row][b.col]=S;b.col=b.col||{},b.col.start=b.col.start||0,b.col.end=b.col.end||N[0].length,b.col.step=b.col.step||1,x=m.arange(b.col.start,r.min(N.length,b.col.end),b.col.step);var M=b.row;return x.forEach(function(z,Q){N[M][z]=S[Q]}),N}if(d(b.col)){b.row=b.row||{},b.row.start=b.row.start||0,b.row.end=b.row.end||N.length,b.row.step=b.row.step||1,O=m.arange(b.row.start,r.min(N[0].length,b.row.end),b.row.step);var U=b.col;return O.forEach(function(z,Q){N[z][U]=S[Q]}),N}return S[0].length===i&&(S=[S]),b.row.start=b.row.start||0,b.row.end=b.row.end||N.length,b.row.step=b.row.step||1,b.col.start=b.col.start||0,b.col.end=b.col.end||N[0].length,b.col.step=b.col.step||1,O=m.arange(b.row.start,r.min(N.length,b.row.end),b.row.step),x=m.arange(b.col.start,r.min(N[0].length,b.col.end),b.col.step),O.forEach(function(z,Q){x.forEach(function(ee,X){N[z][ee]=S[Q][X]})}),N},m.diagonal=function(N){var b=m.zeros(N.length,N.length);return N.forEach(function(S,x){b[x][x]=S}),b},m.copy=function(N){return N.map(function(b){return d(b)?b:b.map(function(S){return S})})};var w=m.prototype;return w.length=0,w.push=Array.prototype.push,w.sort=Array.prototype.sort,w.splice=Array.prototype.splice,w.slice=Array.prototype.slice,w.toArray=function(){return this.length>1?s.call(this):s.call(this)[0]},w.map=function(N,b){return m(m.map(this,N,b))},w.cumreduce=function(N,b){return m(m.cumreduce(this,N,b))},w.alter=function(N){return m.alter(this,N),this},function(T){for(var N=0;N<T.length;N++)(function(b){w[b]=function(S){var x=this,O;return S?(setTimeout(function(){S.call(x,w[b].call(x))}),this):(O=m[b](this),u(O)?m(O):O)}})(T[N])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(T){for(var N=0;N<T.length;N++)(function(b){w[b]=function(S,x){var O=this;return x?(setTimeout(function(){x.call(O,w[b].call(O,S))}),this):m(m[b](this,S))}})(T[N])}("row col".split(" ")),function(T){for(var N=0;N<T.length;N++)(function(b){w[b]=function(){return m(m[b].apply(null,arguments))}})(T[N])}("create zeros ones rand identity".split(" ")),m}(Math);return function(r,i){var o=r.utils.isFunction;function s(u,a){return u-a}function c(u,a,d){return i.max(a,i.min(u,d))}r.sum=function(a){for(var d=0,h=a.length;--h>=0;)d+=a[h];return d},r.sumsqrd=function(a){for(var d=0,h=a.length;--h>=0;)d+=a[h]*a[h];return d},r.sumsqerr=function(a){for(var d=r.mean(a),h=0,m=a.length,y;--m>=0;)y=a[m]-d,h+=y*y;return h},r.sumrow=function(a){for(var d=0,h=a.length;--h>=0;)d+=a[h];return d},r.product=function(a){for(var d=1,h=a.length;--h>=0;)d*=a[h];return d},r.min=function(a){for(var d=a[0],h=0;++h<a.length;)a[h]<d&&(d=a[h]);return d},r.max=function(a){for(var d=a[0],h=0;++h<a.length;)a[h]>d&&(d=a[h]);return d},r.unique=function(a){for(var d={},h=[],m=0;m<a.length;m++)d[a[m]]||(d[a[m]]=!0,h.push(a[m]));return h},r.mean=function(a){return r.sum(a)/a.length},r.meansqerr=function(a){return r.sumsqerr(a)/a.length},r.geomean=function(a){var d=a.map(i.log),h=r.mean(d);return i.exp(h)},r.median=function(a){var d=a.length,h=a.slice().sort(s);return d&1?h[d/2|0]:(h[d/2-1]+h[d/2])/2},r.cumsum=function(a){return r.cumreduce(a,function(d,h){return d+h})},r.cumprod=function(a){return r.cumreduce(a,function(d,h){return d*h})},r.diff=function(a){var d=[],h=a.length,m;for(m=1;m<h;m++)d.push(a[m]-a[m-1]);return d},r.rank=function(u){var a,d=[],h={};for(a=0;a<u.length;a++){var m=u[a];h[m]?h[m]++:(h[m]=1,d.push(m))}var y=d.sort(s),g={},v=1;for(a=0;a<y.length;a++){var m=y[a],w=h[m],T=v,N=v+w-1,b=(T+N)/2;g[m]=b,v+=w}return u.map(function(S){return g[S]})},r.mode=function(a){var d=a.length,h=a.slice().sort(s),m=1,y=0,g=0,v=[],w;for(w=0;w<d;w++)h[w]===h[w+1]?m++:(m>y?(v=[h[w]],y=m,g=0):m===y&&(v.push(h[w]),g++),m=1);return g===0?v[0]:v},r.range=function(a){return r.max(a)-r.min(a)},r.variance=function(a,d){return r.sumsqerr(a)/(a.length-(d?1:0))},r.pooledvariance=function(a){var d=a.reduce(function(m,y){return m+r.sumsqerr(y)},0),h=a.reduce(function(m,y){return m+y.length},0);return d/(h-a.length)},r.deviation=function(u){for(var a=r.mean(u),d=u.length,h=new Array(d),m=0;m<d;m++)h[m]=u[m]-a;return h},r.stdev=function(a,d){return i.sqrt(r.variance(a,d))},r.pooledstdev=function(a){return i.sqrt(r.pooledvariance(a))},r.meandev=function(a){for(var d=r.mean(a),h=[],m=a.length-1;m>=0;m--)h.push(i.abs(a[m]-d));return r.mean(h)},r.meddev=function(a){for(var d=r.median(a),h=[],m=a.length-1;m>=0;m--)h.push(i.abs(a[m]-d));return r.median(h)},r.coeffvar=function(a){return r.stdev(a)/r.mean(a)},r.quartiles=function(a){var d=a.length,h=a.slice().sort(s);return[h[i.round(d/4)-1],h[i.round(d/2)-1],h[i.round(d*3/4)-1]]},r.quantiles=function(a,d,h,m){var y=a.slice().sort(s),g=[d.length],v=a.length,w,T,N,b,S,x;for(typeof h>"u"&&(h=3/8),typeof m>"u"&&(m=3/8),w=0;w<d.length;w++)T=d[w],N=h+T*(1-h-m),b=v*T+N,S=i.floor(c(b,1,v-1)),x=c(b-S,0,1),g[w]=(1-x)*y[S-1]+x*y[S];return g},r.percentile=function(a,d,h){var m=a.slice().sort(s),y=d*(m.length+(h?1:-1))+(h?0:1),g=parseInt(y),v=y-g;return g+1<m.length?m[g-1]+v*(m[g]-m[g-1]):m[g-1]},r.percentileOfScore=function(a,d,h){var m=0,y=a.length,g=!1,v,w;for(h==="strict"&&(g=!0),w=0;w<y;w++)v=a[w],(g&&v<d||!g&&v<=d)&&m++;return m/y},r.histogram=function(a,d){d=d||4;var h=r.min(a),m=(r.max(a)-h)/d,y=a.length,g=[],v;for(v=0;v<d;v++)g[v]=0;for(v=0;v<y;v++)g[i.min(i.floor((a[v]-h)/m),d-1)]+=1;return g},r.covariance=function(a,d){var h=r.mean(a),m=r.mean(d),y=a.length,g=new Array(y),v;for(v=0;v<y;v++)g[v]=(a[v]-h)*(d[v]-m);return r.sum(g)/(y-1)},r.corrcoeff=function(a,d){return r.covariance(a,d)/r.stdev(a,1)/r.stdev(d,1)},r.spearmancoeff=function(u,a){return u=r.rank(u),a=r.rank(a),r.corrcoeff(u,a)},r.stanMoment=function(a,d){for(var h=r.mean(a),m=r.stdev(a),y=a.length,g=0,v=0;v<y;v++)g+=i.pow((a[v]-h)/m,d);return g/a.length},r.skewness=function(a){return r.stanMoment(a,3)},r.kurtosis=function(a){return r.stanMoment(a,4)-3};var l=r.prototype;(function(u){for(var a=0;a<u.length;a++)(function(d){l[d]=function(h,m){var y=[],g=0,v=this;if(o(h)&&(m=h,h=!1),m)return setTimeout(function(){m.call(v,l[d].call(v,h))}),this;if(this.length>1){for(v=h===!0?this:this.transpose();g<v.length;g++)y[g]=r[d](v[g]);return y}return r[d](this[0],h)}})(u[a])})("cumsum cumprod".split(" ")),function(u){for(var a=0;a<u.length;a++)(function(d){l[d]=function(h,m){var y=[],g=0,v=this;if(o(h)&&(m=h,h=!1),m)return setTimeout(function(){m.call(v,l[d].call(v,h))}),this;if(this.length>1){for(d!=="sumrow"&&(v=h===!0?this:this.transpose());g<v.length;g++)y[g]=r[d](v[g]);return h===!0?r[d](r.utils.toVector(y)):y}return r[d](this[0],h)}})(u[a])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(u){for(var a=0;a<u.length;a++)(function(d){l[d]=function(){var h=[],m=0,y=this,g=Array.prototype.slice.call(arguments),v;if(o(g[g.length-1])){v=g[g.length-1];var w=g.slice(0,g.length-1);return setTimeout(function(){v.call(y,l[d].apply(y,w))}),this}else{v=void 0;var T=function(b){return r[d].apply(y,[b].concat(g))}}if(this.length>1){for(y=y.transpose();m<y.length;m++)h[m]=T(y[m]);return h}return T(this[0])}})(u[a])}("quantiles percentileOfScore".split(" "))}(n,Math),function(r,i){r.gammaln=function(s){var c=0,l=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],u=1.000000000190015,a,d,h;for(h=(d=a=s)+5.5,h-=(a+.5)*i.log(h);c<6;c++)u+=l[c]/++d;return i.log(2.5066282746310007*u/a)-h},r.loggam=function(s){var c,l,u,a,d,h,m,y=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(c=s,m=0,s==1||s==2)return 0;for(s<=7&&(m=i.floor(7-s),c=s+m),l=1/(c*c),u=2*i.PI,d=y[9],h=8;h>=0;h--)d*=l,d+=y[h];if(a=d/c+.5*i.log(u)+(c-.5)*i.log(c)-c,s<=7)for(h=1;h<=m;h++)a-=i.log(c-1),c-=1;return a},r.gammafn=function(s){var c=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],l=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],u=!1,a=0,d=0,h=0,m=s,y,g,v,w;if(s>171.6243769536076)return 1/0;if(m<=0)if(w=m%1+36e-17,w)u=(m&1?-1:1)*i.PI/i.sin(i.PI*w),m=1-m;else return 1/0;for(v=m,m<1?g=m++:g=(m-=a=(m|0)-1)-1,y=0;y<8;++y)h=(h+c[y])*g,d=d*g+l[y];if(w=h/d+1,v<m)w/=v;else if(v>m)for(y=0;y<a;++y)w*=m,m++;return u&&(w=u/w),w},r.gammap=function(s,c){return r.lowRegGamma(s,c)*r.gammafn(s)},r.lowRegGamma=function(s,c){var l=r.gammaln(s),u=s,a=1/s,d=a,h=c+1-s,m=1/1e-30,y=1/h,g=y,v=1,w=-~(i.log(s>=1?s:1/s)*8.5+s*.4+17),T;if(c<0||s<=0)return NaN;if(c<s+1){for(;v<=w;v++)a+=d*=c/++u;return a*i.exp(-c+s*i.log(c)-l)}for(;v<=w;v++)T=-v*(v-s),h+=2,y=T*y+h,m=h+T/m,y=1/y,g*=y*m;return 1-g*i.exp(-c+s*i.log(c)-l)},r.factorialln=function(s){return s<0?NaN:r.gammaln(s+1)},r.factorial=function(s){return s<0?NaN:r.gammafn(s+1)},r.combination=function(s,c){return s>170||c>170?i.exp(r.combinationln(s,c)):r.factorial(s)/r.factorial(c)/r.factorial(s-c)},r.combinationln=function(s,c){return r.factorialln(s)-r.factorialln(c)-r.factorialln(s-c)},r.permutation=function(s,c){return r.factorial(s)/r.factorial(s-c)},r.betafn=function(s,c){if(!(s<=0||c<=0))return s+c>170?i.exp(r.betaln(s,c)):r.gammafn(s)*r.gammafn(c)/r.gammafn(s+c)},r.betaln=function(s,c){return r.gammaln(s)+r.gammaln(c)-r.gammaln(s+c)},r.betacf=function(s,c,l){var u=1e-30,a=1,d=c+l,h=c+1,m=c-1,y=1,g=1-d*s/h,v,w,T,N;for(i.abs(g)<u&&(g=u),g=1/g,N=g;a<=100&&(v=2*a,w=a*(l-a)*s/((m+v)*(c+v)),g=1+w*g,i.abs(g)<u&&(g=u),y=1+w/y,i.abs(y)<u&&(y=u),g=1/g,N*=g*y,w=-(c+a)*(d+a)*s/((c+v)*(h+v)),g=1+w*g,i.abs(g)<u&&(g=u),y=1+w/y,i.abs(y)<u&&(y=u),g=1/g,T=g*y,N*=T,!(i.abs(T-1)<3e-7));a++);return N},r.gammapinv=function(s,c){var l=0,u=c-1,a=1e-8,d=r.gammaln(c),h,m,y,g,v,w,T;if(s>=1)return i.max(100,c+100*i.sqrt(c));if(s<=0)return 0;for(c>1?(w=i.log(u),T=i.exp(u*(w-1)-d),v=s<.5?s:1-s,y=i.sqrt(-2*i.log(v)),h=(2.30753+y*.27061)/(1+y*(.99229+y*.04481))-y,s<.5&&(h=-h),h=i.max(.001,c*i.pow(1-1/(9*c)-h/(3*i.sqrt(c)),3))):(y=1-c*(.253+c*.12),s<y?h=i.pow(s/y,1/c):h=1-i.log(1-(s-y)/(1-y)));l<12;l++){if(h<=0)return 0;if(m=r.lowRegGamma(c,h)-s,c>1?y=T*i.exp(-(h-u)+u*(i.log(h)-w)):y=i.exp(-h+u*i.log(h)-d),g=m/y,h-=y=g/(1-.5*i.min(1,g*((c-1)/h-1))),h<=0&&(h=.5*(h+y)),i.abs(y)<a*h)break}return h},r.erf=function(s){var c=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,15626441722e-18,-85238095915e-18,6529054439e-18,5059343495e-18,-991364156e-18,-227365122e-18,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],l=c.length-1,u=!1,a=0,d=0,h,m,y,g;for(s<0&&(s=-s,u=!0),h=2/(2+s),m=4*h-2;l>0;l--)y=a,a=m*a-d+c[l],d=y;return g=h*i.exp(-s*s+.5*(c[0]+m*a)-d),u?g-1:1-g},r.erfc=function(s){return 1-r.erf(s)},r.erfcinv=function(s){var c=0,l,u,a,d;if(s>=2)return-100;if(s<=0)return 100;for(d=s<1?s:2-s,a=i.sqrt(-2*i.log(d/2)),l=-.70711*((2.30753+a*.27061)/(1+a*(.99229+a*.04481))-a);c<2;c++)u=r.erfc(l)-d,l+=u/(1.1283791670955126*i.exp(-l*l)-l*u);return s<1?l:-l},r.ibetainv=function(s,c,l){var u=1e-8,a=c-1,d=l-1,h=0,m,y,g,v,w,T,N,b,S,x,O;if(s<=0)return 0;if(s>=1)return 1;for(c>=1&&l>=1?(g=s<.5?s:1-s,v=i.sqrt(-2*i.log(g)),N=(2.30753+v*.27061)/(1+v*(.99229+v*.04481))-v,s<.5&&(N=-N),b=(N*N-3)/6,S=2/(1/(2*c-1)+1/(2*l-1)),x=N*i.sqrt(b+S)/S-(1/(2*l-1)-1/(2*c-1))*(b+5/6-2/(3*S)),N=c/(c+l*i.exp(2*x))):(m=i.log(c/(c+l)),y=i.log(l/(c+l)),v=i.exp(c*m)/c,w=i.exp(l*y)/l,x=v+w,s<v/x?N=i.pow(c*x*s,1/c):N=1-i.pow(l*x*(1-s),1/l)),O=-r.gammaln(c)-r.gammaln(l)+r.gammaln(c+l);h<10;h++){if(N===0||N===1)return N;if(T=r.ibeta(N,c,l)-s,v=i.exp(a*i.log(N)+d*i.log(1-N)+O),w=T/v,N-=v=w/(1-.5*i.min(1,w*(a/N-d/(1-N)))),N<=0&&(N=.5*(N+v)),N>=1&&(N=.5*(N+v+1)),i.abs(v)<u*N&&h>0)break}return N},r.ibeta=function(s,c,l){var u=s===0||s===1?0:i.exp(r.gammaln(c+l)-r.gammaln(c)-r.gammaln(l)+c*i.log(s)+l*i.log(1-s));return s<0||s>1?!1:s<(c+1)/(c+l+2)?u*r.betacf(s,c,l)/c:1-u*r.betacf(1-s,l,c)/l},r.randn=function(s,c){var l,u,a,d,h;if(c||(c=s),s)return r.create(s,c,function(){return r.randn()});do l=r._random_fn(),u=1.7156*(r._random_fn()-.5),a=l-.449871,d=i.abs(u)+.386595,h=a*a+d*(.196*d-.25472*a);while(h>.27597&&(h>.27846||u*u>-4*i.log(l)*l*l));return u/l},r.randg=function(s,c,l){var u=s,a,d,h,m,y,g;if(l||(l=c),s||(s=1),c)return g=r.zeros(c,l),g.alter(function(){return r.randg(s)}),g;s<1&&(s+=1),a=s-1/3,d=1/i.sqrt(9*a);do{do y=r.randn(),m=1+d*y;while(m<=0);m=m*m*m,h=r._random_fn()}while(h>1-.331*i.pow(y,4)&&i.log(h)>.5*y*y+a*(1-m+i.log(m)));if(s==u)return a*m;do h=r._random_fn();while(h===0);return i.pow(h,1/u)*a*m},function(o){for(var s=0;s<o.length;s++)(function(c){r.fn[c]=function(){return r(r.map(this,function(l){return r[c](l)}))}})(o[s])}("gammaln gammafn factorial factorialln".split(" ")),function(o){for(var s=0;s<o.length;s++)(function(c){r.fn[c]=function(){return r(r[c].apply(null,arguments))}})(o[s])}("randn".split(" "))}(n,Math),function(r,i){(function(u){for(var a=0;a<u.length;a++)(function(d){r[d]=function h(m,y,g){return this instanceof h?(this._a=m,this._b=y,this._c=g,this):new h(m,y,g)},r.fn[d]=function(h,m,y){var g=r[d](h,m,y);return g.data=this,g},r[d].prototype.sample=function(h){var m=this._a,y=this._b,g=this._c;return h?r.alter(h,function(){return r[d].sample(m,y,g)}):r[d].sample(m,y,g)},function(h){for(var m=0;m<h.length;m++)(function(y){r[d].prototype[y]=function(g){var v=this._a,w=this._b,T=this._c;return!g&&g!==0&&(g=this.data),typeof g!="number"?r.fn.map.call(g,function(N){return r[d][y](N,v,w,T)}):r[d][y](g,v,w,T)}})(h[m])}("pdf cdf inv".split(" ")),function(h){for(var m=0;m<h.length;m++)(function(y){r[d].prototype[y]=function(){return r[d][y](this._a,this._b,this._c)}})(h[m])}("mean median mode variance".split(" "))})(u[a])})("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),r.extend(r.beta,{pdf:function(a,d,h){return a>1||a<0?0:d==1&&h==1?1:d<512&&h<512?i.pow(a,d-1)*i.pow(1-a,h-1)/r.betafn(d,h):i.exp((d-1)*i.log(a)+(h-1)*i.log(1-a)-r.betaln(d,h))},cdf:function(a,d,h){return a>1||a<0?(a>1)*1:r.ibeta(a,d,h)},inv:function(a,d,h){return r.ibetainv(a,d,h)},mean:function(a,d){return a/(a+d)},median:function(a,d){return r.ibetainv(.5,a,d)},mode:function(a,d){return(a-1)/(a+d-2)},sample:function(a,d){var h=r.randg(a);return h/(h+r.randg(d))},variance:function(a,d){return a*d/(i.pow(a+d,2)*(a+d+1))}}),r.extend(r.centralF,{pdf:function(a,d,h){var m,y,g;return a<0?0:d<=2?a===0&&d<2?1/0:a===0&&d===2?1:1/r.betafn(d/2,h/2)*i.pow(d/h,d/2)*i.pow(a,d/2-1)*i.pow(1+d/h*a,-(d+h)/2):(m=d*a/(h+a*d),y=h/(h+a*d),g=d*y/2,g*r.binomial.pdf((d-2)/2,(d+h-2)/2,m))},cdf:function(a,d,h){return a<0?0:r.ibeta(d*a/(d*a+h),d/2,h/2)},inv:function(a,d,h){return h/(d*(1/r.ibetainv(a,d/2,h/2)-1))},mean:function(a,d){return d>2?d/(d-2):void 0},mode:function(a,d){return a>2?d*(a-2)/(a*(d+2)):void 0},sample:function(a,d){var h=r.randg(a/2)*2,m=r.randg(d/2)*2;return h/a/(m/d)},variance:function(a,d){if(!(d<=4))return 2*d*d*(a+d-2)/(a*(d-2)*(d-2)*(d-4))}}),r.extend(r.cauchy,{pdf:function(a,d,h){return h<0?0:h/(i.pow(a-d,2)+i.pow(h,2))/i.PI},cdf:function(a,d,h){return i.atan((a-d)/h)/i.PI+.5},inv:function(u,a,d){return a+d*i.tan(i.PI*(u-.5))},median:function(a){return a},mode:function(a){return a},sample:function(a,d){return r.randn()*i.sqrt(1/(2*r.randg(.5)))*d+a}}),r.extend(r.chisquare,{pdf:function(a,d){return a<0?0:a===0&&d===2?.5:i.exp((d/2-1)*i.log(a)-a/2-d/2*i.log(2)-r.gammaln(d/2))},cdf:function(a,d){return a<0?0:r.lowRegGamma(d/2,a/2)},inv:function(u,a){return 2*r.gammapinv(u,.5*a)},mean:function(u){return u},median:function(a){return a*i.pow(1-2/(9*a),3)},mode:function(a){return a-2>0?a-2:0},sample:function(a){return r.randg(a/2)*2},variance:function(a){return 2*a}}),r.extend(r.exponential,{pdf:function(a,d){return a<0?0:d*i.exp(-d*a)},cdf:function(a,d){return a<0?0:1-i.exp(-d*a)},inv:function(u,a){return-i.log(1-u)/a},mean:function(u){return 1/u},median:function(u){return 1/u*i.log(2)},mode:function(){return 0},sample:function(a){return-1/a*i.log(r._random_fn())},variance:function(u){return i.pow(u,-2)}}),r.extend(r.gamma,{pdf:function(a,d,h){return a<0?0:a===0&&d===1?1/h:i.exp((d-1)*i.log(a)-a/h-r.gammaln(d)-d*i.log(h))},cdf:function(a,d,h){return a<0?0:r.lowRegGamma(d,a/h)},inv:function(u,a,d){return r.gammapinv(u,a)*d},mean:function(u,a){return u*a},mode:function(a,d){if(a>1)return(a-1)*d},sample:function(a,d){return r.randg(a)*d},variance:function(a,d){return a*d*d}}),r.extend(r.invgamma,{pdf:function(a,d,h){return a<=0?0:i.exp(-(d+1)*i.log(a)-h/a-r.gammaln(d)+d*i.log(h))},cdf:function(a,d,h){return a<=0?0:1-r.lowRegGamma(d,h/a)},inv:function(u,a,d){return d/r.gammapinv(1-u,a)},mean:function(u,a){return u>1?a/(u-1):void 0},mode:function(a,d){return d/(a+1)},sample:function(a,d){return d/r.randg(a)},variance:function(a,d){if(!(a<=2))return d*d/((a-1)*(a-1)*(a-2))}}),r.extend(r.kumaraswamy,{pdf:function(a,d,h){return a===0&&d===1?h:a===1&&h===1?d:i.exp(i.log(d)+i.log(h)+(d-1)*i.log(a)+(h-1)*i.log(1-i.pow(a,d)))},cdf:function(a,d,h){return a<0?0:a>1?1:1-i.pow(1-i.pow(a,d),h)},inv:function(a,d,h){return i.pow(1-i.pow(1-a,1/h),1/d)},mean:function(u,a){return a*r.gammafn(1+1/u)*r.gammafn(a)/r.gammafn(1+1/u+a)},median:function(a,d){return i.pow(1-i.pow(2,-1/d),1/a)},mode:function(a,d){if(a>=1&&d>=1&&a!==1&&d!==1)return i.pow((a-1)/(a*d-1),1/a)},variance:function(){throw new Error("variance not yet implemented")}}),r.extend(r.lognormal,{pdf:function(a,d,h){return a<=0?0:i.exp(-i.log(a)-.5*i.log(2*i.PI)-i.log(h)-i.pow(i.log(a)-d,2)/(2*h*h))},cdf:function(a,d,h){return a<0?0:.5+.5*r.erf((i.log(a)-d)/i.sqrt(2*h*h))},inv:function(u,a,d){return i.exp(-1.4142135623730951*d*r.erfcinv(2*u)+a)},mean:function(a,d){return i.exp(a+d*d/2)},median:function(a){return i.exp(a)},mode:function(a,d){return i.exp(a-d*d)},sample:function(a,d){return i.exp(r.randn()*d+a)},variance:function(a,d){return(i.exp(d*d)-1)*i.exp(2*a+d*d)}}),r.extend(r.noncentralt,{pdf:function(a,d,h){var m=1e-14;return i.abs(h)<m?r.studentt.pdf(a,d):i.abs(a)<m?i.exp(r.gammaln((d+1)/2)-h*h/2-.5*i.log(i.PI*d)-r.gammaln(d/2)):d/a*(r.noncentralt.cdf(a*i.sqrt(1+2/d),d+2,h)-r.noncentralt.cdf(a,d,h))},cdf:function(a,d,h){var m=1e-14,y=200;if(i.abs(h)<m)return r.studentt.cdf(a,d);var g=!1;a<0&&(g=!0,h=-h);for(var v=r.normal.cdf(-h,0,1),w=m+1,T=w,N=a*a/(a*a+d),b=0,S=i.exp(-h*h/2),x=i.exp(-h*h/2-.5*i.log(2)-r.gammaln(3/2))*h;b<y||T>m||w>m;)T=w,b>0&&(S*=h*h/(2*b),x*=h*h/(2*(b+1/2))),w=S*r.beta.cdf(N,b+.5,d/2)+x*r.beta.cdf(N,b+1,d/2),v+=.5*w,b++;return g?1-v:v}}),r.extend(r.normal,{pdf:function(a,d,h){return i.exp(-.5*i.log(2*i.PI)-i.log(h)-i.pow(a-d,2)/(2*h*h))},cdf:function(a,d,h){return .5*(1+r.erf((a-d)/i.sqrt(2*h*h)))},inv:function(u,a,d){return-1.4142135623730951*d*r.erfcinv(2*u)+a},mean:function(u){return u},median:function(a){return a},mode:function(u){return u},sample:function(a,d){return r.randn()*d+a},variance:function(u,a){return a*a}}),r.extend(r.pareto,{pdf:function(a,d,h){return a<d?0:h*i.pow(d,h)/i.pow(a,h+1)},cdf:function(a,d,h){return a<d?0:1-i.pow(d/a,h)},inv:function(a,d,h){return d/i.pow(1-a,1/h)},mean:function(a,d){if(!(d<=1))return d*i.pow(a,d)/(d-1)},median:function(a,d){return a*(d*i.SQRT2)},mode:function(a){return a},variance:function(u,a){if(!(a<=2))return u*u*a/(i.pow(a-1,2)*(a-2))}}),r.extend(r.studentt,{pdf:function(a,d){return d=d>1e100?1e100:d,1/(i.sqrt(d)*r.betafn(.5,d/2))*i.pow(1+a*a/d,-((d+1)/2))},cdf:function(a,d){var h=d/2;return r.ibeta((a+i.sqrt(a*a+d))/(2*i.sqrt(a*a+d)),h,h)},inv:function(u,a){var d=r.ibetainv(2*i.min(u,1-u),.5*a,.5);return d=i.sqrt(a*(1-d)/d),u>.5?d:-d},mean:function(a){return a>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(a){return r.randn()*i.sqrt(a/(2*r.randg(a/2)))},variance:function(a){return a>2?a/(a-2):a>1?1/0:void 0}}),r.extend(r.weibull,{pdf:function(a,d,h){return a<0||d<0||h<0?0:h/d*i.pow(a/d,h-1)*i.exp(-i.pow(a/d,h))},cdf:function(a,d,h){return a<0?0:1-i.exp(-i.pow(a/d,h))},inv:function(u,a,d){return a*i.pow(-i.log(1-u),1/d)},mean:function(u,a){return u*r.gammafn(1+1/a)},median:function(a,d){return a*i.pow(i.log(2),1/d)},mode:function(a,d){return d<=1?0:a*i.pow((d-1)/d,1/d)},sample:function(a,d){return a*i.pow(-i.log(r._random_fn()),1/d)},variance:function(a,d){return a*a*r.gammafn(1+2/d)-i.pow(r.weibull.mean(a,d),2)}}),r.extend(r.uniform,{pdf:function(a,d,h){return a<d||a>h?0:1/(h-d)},cdf:function(a,d,h){return a<d?0:a<h?(a-d)/(h-d):1},inv:function(u,a,d){return a+u*(d-a)},mean:function(a,d){return .5*(a+d)},median:function(a,d){return r.mean(a,d)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(a,d){return a/2+d/2+(d/2-a/2)*(2*r._random_fn()-1)},variance:function(a,d){return i.pow(d-a,2)/12}});function o(u,a,d,h){for(var m=0,y=1,g=1,v=1,w=0,T=0,N;i.abs((g-T)/g)>h;)T=g,N=-(a+w)*(a+d+w)*u/(a+2*w)/(a+2*w+1),m=g+N*m,y=v+N*y,w=w+1,N=w*(d-w)*u/(a+2*w-1)/(a+2*w),g=m+N*g,v=y+N*v,m=m/v,y=y/v,g=g/v,v=1;return g/a}r.extend(r.binomial,{pdf:function(a,d,h){return h===0||h===1?d*h===a?1:0:r.combination(d,a)*i.pow(h,a)*i.pow(1-h,d-a)},cdf:function(a,d,h){var m,y=1e-10;if(a<0)return 0;if(a>=d)return 1;if(h<0||h>1||d<=0)return NaN;a=i.floor(a);var g=h,v=a+1,w=d-a,T=v+w,N=i.exp(r.gammaln(T)-r.gammaln(w)-r.gammaln(v)+v*i.log(g)+w*i.log(1-g));return g<(v+1)/(T+2)?m=N*o(g,v,w,y):m=1-N*o(1-g,w,v,y),i.round((1-m)*(1/y))/(1/y)}}),r.extend(r.negbin,{pdf:function(a,d,h){return a!==a>>>0?!1:a<0?0:r.combination(a+d-1,d-1)*i.pow(1-h,a)*i.pow(h,d)},cdf:function(a,d,h){var m=0,y=0;if(a<0)return 0;for(;y<=a;y++)m+=r.negbin.pdf(y,d,h);return m}}),r.extend(r.hypgeom,{pdf:function(a,d,h,m){if(a!==a|0)return!1;if(a<0||a<h-(d-m))return 0;if(a>m||a>h)return 0;if(h*2>d)return m*2>d?r.hypgeom.pdf(d-h-m+a,d,d-h,d-m):r.hypgeom.pdf(m-a,d,d-h,m);if(m*2>d)return r.hypgeom.pdf(h-a,d,h,d-m);if(h<m)return r.hypgeom.pdf(a,d,m,h);for(var y=1,g=0,v=0;v<a;v++){for(;y>1&&g<m;)y*=1-h/(d-g),g++;y*=(m-v)*(h-v)/((v+1)*(d-h-m+v+1))}for(;g<m;g++)y*=1-h/(d-g);return i.min(1,i.max(0,y))},cdf:function(a,d,h,m){if(a<0||a<h-(d-m))return 0;if(a>=m||a>=h)return 1;if(h*2>d)return m*2>d?r.hypgeom.cdf(d-h-m+a,d,d-h,d-m):1-r.hypgeom.cdf(m-a-1,d,d-h,m);if(m*2>d)return 1-r.hypgeom.cdf(h-a-1,d,h,d-m);if(h<m)return r.hypgeom.cdf(a,d,m,h);for(var y=1,g=1,v=0,w=0;w<a;w++){for(;y>1&&v<m;){var T=1-h/(d-v);g*=T,y*=T,v++}g*=(m-w)*(h-w)/((w+1)*(d-h-m+w+1)),y+=g}for(;v<m;v++)y*=1-h/(d-v);return i.min(1,i.max(0,y))}}),r.extend(r.poisson,{pdf:function(a,d){return d<0||a%1!==0||a<0?0:i.pow(d,a)*i.exp(-d)/r.factorial(a)},cdf:function(a,d){var h=[],m=0;if(a<0)return 0;for(;m<=a;m++)h.push(r.poisson.pdf(m,d));return r.sum(h)},mean:function(u){return u},variance:function(u){return u},sampleSmall:function(a){var d=1,h=0,m=i.exp(-a);do h++,d*=r._random_fn();while(d>m);return h-1},sampleLarge:function(a){var d=a,h,m,y,g,v,w,T,N,b,S;for(g=i.sqrt(d),v=i.log(d),T=.931+2.53*g,w=-.059+.02483*T,N=1.1239+1.1328/(T-3.4),b=.9277-3.6224/(T-2);;){if(m=i.random()-.5,y=i.random(),S=.5-i.abs(m),h=i.floor((2*w/S+T)*m+d+.43),S>=.07&&y<=b)return h;if(!(h<0||S<.013&&y>S)&&i.log(y)+i.log(N)-i.log(w/(S*S)+T)<=-d+h*v-r.loggam(h+1))return h}},sample:function(a){return a<10?this.sampleSmall(a):this.sampleLarge(a)}}),r.extend(r.triangular,{pdf:function(a,d,h,m){return h<=d||m<d||m>h?NaN:a<d||a>h?0:a<m?2*(a-d)/((h-d)*(m-d)):a===m?2/(h-d):2*(h-a)/((h-d)*(h-m))},cdf:function(a,d,h,m){return h<=d||m<d||m>h?NaN:a<=d?0:a>=h?1:a<=m?i.pow(a-d,2)/((h-d)*(m-d)):1-i.pow(h-a,2)/((h-d)*(h-m))},inv:function(a,d,h,m){return h<=d||m<d||m>h?NaN:a<=(m-d)/(h-d)?d+(h-d)*i.sqrt(a*((m-d)/(h-d))):d+(h-d)*(1-i.sqrt((1-a)*(1-(m-d)/(h-d))))},mean:function(a,d,h){return(a+d+h)/3},median:function(a,d,h){if(h<=(a+d)/2)return d-i.sqrt((d-a)*(d-h))/i.sqrt(2);if(h>(a+d)/2)return a+i.sqrt((d-a)*(h-a))/i.sqrt(2)},mode:function(a,d,h){return h},sample:function(a,d,h){var m=r._random_fn();return m<(h-a)/(d-a)?a+i.sqrt(m*(d-a)*(h-a)):d-i.sqrt((1-m)*(d-a)*(d-h))},variance:function(a,d,h){return(a*a+d*d+h*h-a*d-a*h-d*h)/18}}),r.extend(r.arcsine,{pdf:function(a,d,h){return h<=d?NaN:a<=d||a>=h?0:2/i.PI*i.pow(i.pow(h-d,2)-i.pow(2*a-d-h,2),-.5)},cdf:function(a,d,h){return a<d?0:a<h?2/i.PI*i.asin(i.sqrt((a-d)/(h-d))):1},inv:function(u,a,d){return a+(.5-.5*i.cos(i.PI*u))*(d-a)},mean:function(a,d){return d<=a?NaN:(a+d)/2},median:function(a,d){return d<=a?NaN:(a+d)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(a,d){return(a+d)/2+(d-a)/2*i.sin(2*i.PI*r.uniform.sample(0,1))},variance:function(a,d){return d<=a?NaN:i.pow(d-a,2)/8}});function s(u){return u/i.abs(u)}r.extend(r.laplace,{pdf:function(a,d,h){return h<=0?0:i.exp(-i.abs(a-d)/h)/(2*h)},cdf:function(a,d,h){return h<=0?0:a<d?.5*i.exp((a-d)/h):1-.5*i.exp(-(a-d)/h)},mean:function(u){return u},median:function(u){return u},mode:function(u){return u},variance:function(u,a){return 2*a*a},sample:function(a,d){var h=r._random_fn()-.5;return a-d*s(h)*i.log(1-2*i.abs(h))}});function c(u,a,d){var h=12,m=6,y=-30,g=-50,v=60,w=8,T=3,N=2,b=3,S=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],x=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],O=u*.5;if(O>=w)return 1;var M=2*r.normal.cdf(O,0,1,1,0)-1;M>=i.exp(g/d)?M=i.pow(M,d):M=0;var U;u>T?U=N:U=b;for(var z=O,Q=(w-O)/U,ee=z+Q,X=0,F=d-1,J=1;J<=U;J++){for(var K=0,te=.5*(ee+z),G=.5*(ee-z),H=1;H<=h;H++){var W,V;m<H?(W=h-H+1,V=S[W-1]):(W=H,V=-S[W-1]);var C=G*V,L=te+C,I=L*L;if(I>v)break;var j=2*r.normal.cdf(L,0,1,1,0),$=2*r.normal.cdf(L,u,1,1,0),oe=j*.5-$*.5;oe>=i.exp(y/F)&&(oe=x[W-1]*i.exp(-(.5*I))*i.pow(oe,F),K+=oe)}K*=2*G*d/i.sqrt(2*i.PI),X+=K,z=ee,ee+=Q}return M+=X,M<=i.exp(y/a)?0:(M=i.pow(M,a),M>=1?1:M)}function l(u,a,d){var h=.322232421088,m=.099348462606,y=-1,g=.588581570495,v=-.342242088547,w=.531103462366,T=-.204231210125,N=.10353775285,b=-453642210148e-16,S=.0038560700634,x=.8832,O=.2368,M=1.208,U=1.4142,z=120,Q=.5-.5*u,ee=i.sqrt(i.log(1/(Q*Q))),X=ee+((((ee*b+T)*ee+v)*ee+y)*ee+h)/((((ee*S+N)*ee+w)*ee+g)*ee+m);d<z&&(X+=(X*X*X+X)/d/4);var F=x-O*X;return d<z&&(F+=-1.214/d+M*X/d),X*(F*i.log(a-1)+U)}r.extend(r.tukey,{cdf:function(a,d,h){var m=1,y=d,g=16,v=8,w=-30,T=1e-14,N=100,b=800,S=5e3,x=25e3,O=1,M=.5,U=.25,z=.125,Q=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],ee=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(a<=0)return 0;if(h<2||m<1||y<2)return NaN;if(!Number.isFinite(a))return 1;if(h>x)return c(a,m,y);var X=h*.5,F=X*i.log(h)-h*i.log(2)-r.gammaln(X),J=X-1,K=h*.25,te;h<=N?te=O:h<=b?te=M:h<=S?te=U:te=z,F+=i.log(te);for(var G=0,H=1;H<=50;H++){for(var W=0,V=(2*H-1)*te,C=1;C<=g;C++){var L,I;v<C?(L=C-v-1,I=F+J*i.log(V+Q[L]*te)-(Q[L]*te+V)*K):(L=C-1,I=F+J*i.log(V-Q[L]*te)+(Q[L]*te-V)*K);var j;if(I>=w){v<C?j=a*i.sqrt((Q[L]*te+V)*.5):j=a*i.sqrt((-(Q[L]*te)+V)*.5);var $=c(j,m,y),oe=$*ee[L]*i.exp(I);W+=oe}}if(H*te>=1&&W<=T)break;G+=W}if(W>T)throw new Error("tukey.cdf failed to converge");return G>1&&(G=1),G},inv:function(u,a,d){var h=1,m=a,y=1e-4,g=50;if(d<2||h<1||m<2)return NaN;if(u<0||u>1)return NaN;if(u===0)return 0;if(u===1)return 1/0;var v=l(u,m,d),w=r.tukey.cdf(v,a,d)-u,T;w>0?T=i.max(0,v-1):T=v+1;for(var N=r.tukey.cdf(T,a,d)-u,b,S=1;S<g;S++){b=T-N*(T-v)/(N-w),w=N,v=T,b<0&&(b=0,N=-u),N=r.tukey.cdf(b,a,d)-u,T=b;var x=i.abs(T-v);if(x<y)return b}throw new Error("tukey.inv failed to converge")}})}(n,Math),function(r,i){var o=Array.prototype.push,s=r.utils.isArray;function c(l){return s(l)||l instanceof r}r.extend({add:function(u,a){return c(a)?(c(a[0])||(a=[a]),r.map(u,function(d,h,m){return d+a[h][m]})):r.map(u,function(d){return d+a})},subtract:function(u,a){return c(a)?(c(a[0])||(a=[a]),r.map(u,function(d,h,m){return d-a[h][m]||0})):r.map(u,function(d){return d-a})},divide:function(u,a){return c(a)?(c(a[0])||(a=[a]),r.multiply(u,r.inv(a))):r.map(u,function(d){return d/a})},multiply:function(u,a){var d,h,m,y,g,v,w,T;if(u.length===void 0&&a.length===void 0)return u*a;if(g=u.length,v=u[0].length,w=r.zeros(g,m=c(a)?a[0].length:v),T=0,c(a)){for(;T<m;T++)for(d=0;d<g;d++){for(y=0,h=0;h<v;h++)y+=u[d][h]*a[h][T];w[d][T]=y}return g===1&&T===1?w[0][0]:w}return r.map(u,function(N){return N*a})},outer:function(u,a){return r.multiply(u.map(function(d){return[d]}),[a])},dot:function(u,a){c(u[0])||(u=[u]),c(a[0])||(a=[a]);for(var d=u[0].length===1&&u.length!==1?r.transpose(u):u,h=a[0].length===1&&a.length!==1?r.transpose(a):a,m=[],y=0,g=d.length,v=d[0].length,w,T;y<g;y++){for(m[y]=[],w=0,T=0;T<v;T++)w+=d[y][T]*h[y][T];m[y]=w}return m.length===1?m[0]:m},pow:function(u,a){return r.map(u,function(d){return i.pow(d,a)})},exp:function(u){return r.map(u,function(a){return i.exp(a)})},log:function(u){return r.map(u,function(a){return i.log(a)})},abs:function(u){return r.map(u,function(a){return i.abs(a)})},norm:function(u,a){var d=0,h=0;for(isNaN(a)&&(a=2),c(u[0])&&(u=u[0]);h<u.length;h++)d+=i.pow(i.abs(u[h]),a);return i.pow(d,1/a)},angle:function(u,a){return i.acos(r.dot(u,a)/(r.norm(u)*r.norm(a)))},aug:function(u,a){var d=[],h;for(h=0;h<u.length;h++)d.push(u[h].slice());for(h=0;h<d.length;h++)o.apply(d[h],a[h]);return d},inv:function(u){for(var a=u.length,d=u[0].length,h=r.identity(a,d),m=r.gauss_jordan(u,h),y=[],g=0,v;g<a;g++)for(y[g]=[],v=d;v<m[0].length;v++)y[g][v-d]=m[g][v];return y},det:function l(u){if(u.length===2)return u[0][0]*u[1][1]-u[0][1]*u[1][0];for(var a=0,d=0;d<u.length;d++){for(var h=[],m=1;m<u.length;m++){h[m-1]=[];for(var y=0;y<u.length;y++)y<d?h[m-1][y]=u[m][y]:y>d&&(h[m-1][y-1]=u[m][y])}var g=d%2?-1:1;a+=l(h)*u[0][d]*g}return a},gauss_elimination:function(u,a){var d=0,h=0,m=u.length,y=u[0].length,g=1,v=0,w=[],T,N,b,S;for(u=r.aug(u,a),T=u[0].length,d=0;d<m;d++){for(N=u[d][d],h=d,S=d+1;S<y;S++)N<i.abs(u[S][d])&&(N=u[S][d],h=S);if(h!=d)for(S=0;S<T;S++)b=u[d][S],u[d][S]=u[h][S],u[h][S]=b;for(h=d+1;h<m;h++)for(g=u[h][d]/u[d][d],S=d;S<T;S++)u[h][S]=u[h][S]-g*u[d][S]}for(d=m-1;d>=0;d--){for(v=0,h=d+1;h<=m-1;h++)v=v+w[h]*u[d][h];w[d]=(u[d][T-1]-v)/u[d][d]}return w},gauss_jordan:function(u,a){var d=r.aug(u,a),h=d.length,m=d[0].length,y=0,g,v,w;for(v=0;v<h;v++){var T=v;for(w=v+1;w<h;w++)i.abs(d[w][v])>i.abs(d[T][v])&&(T=w);var N=d[v];for(d[v]=d[T],d[T]=N,w=v+1;w<h;w++)for(y=d[w][v]/d[v][v],g=v;g<m;g++)d[w][g]-=d[v][g]*y}for(v=h-1;v>=0;v--){for(y=d[v][v],w=0;w<v;w++)for(g=m-1;g>v-1;g--)d[w][g]-=d[v][g]*d[w][v]/y;for(d[v][v]/=y,g=h;g<m;g++)d[v][g]/=y}return d},triaUpSolve:function(u,a){var d=u[0].length,h=r.zeros(1,d)[0],m,y=!1;return a[0].length!=null&&(a=a.map(function(g){return g[0]}),y=!0),r.arange(d-1,-1,-1).forEach(function(g){m=r.arange(g+1,d).map(function(v){return h[v]*u[g][v]}),h[g]=(a[g]-r.sum(m))/u[g][g]}),y?h.map(function(g){return[g]}):h},triaLowSolve:function(u,a){var d=u[0].length,h=r.zeros(1,d)[0],m,y=!1;return a[0].length!=null&&(a=a.map(function(g){return g[0]}),y=!0),r.arange(d).forEach(function(g){m=r.arange(g).map(function(v){return u[g][v]*h[v]}),h[g]=(a[g]-r.sum(m))/u[g][g]}),y?h.map(function(g){return[g]}):h},lu:function(u){var a=u.length,d=r.identity(a),h=r.zeros(u.length,u[0].length),m;return r.arange(a).forEach(function(y){h[0][y]=u[0][y]}),r.arange(1,a).forEach(function(y){r.arange(y).forEach(function(g){m=r.arange(g).map(function(v){return d[y][v]*h[v][g]}),d[y][g]=(u[y][g]-r.sum(m))/h[g][g]}),r.arange(y,a).forEach(function(g){m=r.arange(y).map(function(v){return d[y][v]*h[v][g]}),h[y][g]=u[m.length][g]-r.sum(m)})}),[d,h]},cholesky:function(u){var a=u.length,d=r.zeros(u.length,u[0].length),h;return r.arange(a).forEach(function(m){h=r.arange(m).map(function(y){return i.pow(d[m][y],2)}),d[m][m]=i.sqrt(u[m][m]-r.sum(h)),r.arange(m+1,a).forEach(function(y){h=r.arange(m).map(function(g){return d[m][g]*d[y][g]}),d[y][m]=(u[m][y]-r.sum(h))/d[m][m]})}),d},gauss_jacobi:function(u,a,d,h){for(var m=0,y=0,g=u.length,v=[],w=[],T=[],N,b,S,x;m<g;m++)for(v[m]=[],w[m]=[],T[m]=[],y=0;y<g;y++)m>y?(v[m][y]=u[m][y],w[m][y]=T[m][y]=0):m<y?(w[m][y]=u[m][y],v[m][y]=T[m][y]=0):(T[m][y]=u[m][y],v[m][y]=w[m][y]=0);for(S=r.multiply(r.multiply(r.inv(T),r.add(v,w)),-1),b=r.multiply(r.inv(T),a),N=d,x=r.add(r.multiply(S,d),b),m=2;i.abs(r.norm(r.subtract(x,N)))>h;)N=x,x=r.add(r.multiply(S,N),b),m++;return x},gauss_seidel:function(u,a,d,h){for(var m=0,y=u.length,g=[],v=[],w=[],T,N,b,S,x;m<y;m++)for(g[m]=[],v[m]=[],w[m]=[],T=0;T<y;T++)m>T?(g[m][T]=u[m][T],v[m][T]=w[m][T]=0):m<T?(v[m][T]=u[m][T],g[m][T]=w[m][T]=0):(w[m][T]=u[m][T],g[m][T]=v[m][T]=0);for(S=r.multiply(r.multiply(r.inv(r.add(w,g)),v),-1),b=r.multiply(r.inv(r.add(w,g)),a),N=d,x=r.add(r.multiply(S,d),b),m=2;i.abs(r.norm(r.subtract(x,N)))>h;)N=x,x=r.add(r.multiply(S,N),b),m=m+1;return x},SOR:function(u,a,d,h,m){for(var y=0,g=u.length,v=[],w=[],T=[],N,b,S,x,O;y<g;y++)for(v[y]=[],w[y]=[],T[y]=[],N=0;N<g;N++)y>N?(v[y][N]=u[y][N],w[y][N]=T[y][N]=0):y<N?(w[y][N]=u[y][N],v[y][N]=T[y][N]=0):(T[y][N]=u[y][N],v[y][N]=w[y][N]=0);for(x=r.multiply(r.inv(r.add(T,r.multiply(v,m))),r.subtract(r.multiply(T,1-m),r.multiply(w,m))),S=r.multiply(r.multiply(r.inv(r.add(T,r.multiply(v,m))),a),m),b=d,O=r.add(r.multiply(x,d),S),y=2;i.abs(r.norm(r.subtract(O,b)))>h;)b=O,O=r.add(r.multiply(x,b),S),y++;return O},householder:function(u){for(var a=u.length,d=u[0].length,h=0,m=[],y=[],g,v,w,T,N;h<a-1;h++){for(g=0,T=h+1;T<d;T++)g+=u[T][h]*u[T][h];for(N=u[h+1][h]>0?-1:1,g=N*i.sqrt(g),v=i.sqrt((g*g-u[h+1][h]*g)/2),m=r.zeros(a,1),m[h+1][0]=(u[h+1][h]-g)/(2*v),w=h+2;w<a;w++)m[w][0]=u[w][h]/(2*v);y=r.subtract(r.identity(a,d),r.multiply(r.multiply(m,r.transpose(m)),2)),u=r.multiply(y,r.multiply(u,y))}return u},QR:function(){var l=r.sum,u=r.arange;function a(d){var h=d.length,m=d[0].length,y=r.zeros(m,m);d=r.copy(d);var g,v,w;for(v=0;v<m;v++){for(y[v][v]=i.sqrt(l(u(h).map(function(T){return d[T][v]*d[T][v]}))),g=0;g<h;g++)d[g][v]=d[g][v]/y[v][v];for(w=v+1;w<m;w++)for(y[v][w]=l(u(h).map(function(T){return d[T][v]*d[T][w]})),g=0;g<h;g++)d[g][w]=d[g][w]-d[g][v]*y[v][w]}return[d,y]}return a}(),lstsq:function(){function l(a){a=r.copy(a);var d=a.length,h=r.identity(d);return r.arange(d-1,-1,-1).forEach(function(m){r.sliceAssign(h,{row:m},r.divide(r.slice(h,{row:m}),a[m][m])),r.sliceAssign(a,{row:m},r.divide(r.slice(a,{row:m}),a[m][m])),r.arange(m).forEach(function(y){var g=r.multiply(a[y][m],-1),v=r.slice(a,{row:y}),w=r.multiply(r.slice(a,{row:m}),g);r.sliceAssign(a,{row:y},r.add(v,w));var T=r.slice(h,{row:y}),N=r.multiply(r.slice(h,{row:m}),g);r.sliceAssign(h,{row:y},r.add(T,N))})}),h}function u(a,d){var h=!1;d[0].length===void 0&&(d=d.map(function(x){return[x]}),h=!0);var m=r.QR(a),y=m[0],g=m[1],v=a[0].length,w=r.slice(y,{col:{end:v}}),T=r.slice(g,{row:{end:v}}),N=l(T),b=r.transpose(w);b[0].length===void 0&&(b=[b]);var S=r.multiply(r.multiply(N,b),d);return S.length===void 0&&(S=[[S]]),h?S.map(function(x){return x[0]}):S}return u}(),jacobi:function(u){for(var a=1,d=u.length,h=r.identity(d,d),m=[],y,g,v,w,T,N,b,S;a===1;){for(N=u[0][1],w=0,T=1,g=0;g<d;g++)for(v=0;v<d;v++)g!=v&&N<i.abs(u[g][v])&&(N=i.abs(u[g][v]),w=g,T=v);for(u[w][w]===u[T][T]?b=u[w][T]>0?i.PI/4:-i.PI/4:b=i.atan(2*u[w][T]/(u[w][w]-u[T][T]))/2,S=r.identity(d,d),S[w][w]=i.cos(b),S[w][T]=-i.sin(b),S[T][w]=i.sin(b),S[T][T]=i.cos(b),h=r.multiply(h,S),y=r.multiply(r.multiply(r.inv(S),u),S),u=y,a=0,g=1;g<d;g++)for(v=1;v<d;v++)g!=v&&i.abs(u[g][v])>.001&&(a=1)}for(g=0;g<d;g++)m.push(u[g][g]);return[h,m]},rungekutta:function(u,a,d,h,m,y){var g,v,w,T,N;if(y===2)for(;h<=d;)g=a*u(h,m),v=a*u(h+a,m+g),w=m+(g+v)/2,m=w,h=h+a;if(y===4)for(;h<=d;)g=a*u(h,m),v=a*u(h+a/2,m+g/2),T=a*u(h+a/2,m+v/2),N=a*u(h+a,m+T),w=m+(g+2*v+2*T+N)/6,m=w,h=h+a;return m},romberg:function(u,a,d,h){for(var m=0,y=(d-a)/2,g=[],v=[],w=[],T,N,b,S,x;m<h/2;){for(x=u(a),b=a,S=0;b<=d;b=b+y,S++)g[S]=b;for(T=g.length,b=1;b<T-1;b++)x+=(b%2!==0?4:2)*u(g[b]);x=y/3*(x+u(d)),w[m]=x,y/=2,m++}for(N=w.length,T=1;N!==1;){for(b=0;b<N-1;b++)v[b]=(i.pow(4,T)*w[b+1]-w[b])/(i.pow(4,T)-1);N=v.length,w=v,v=[],T++}return w},richardson:function(u,a,d,h){function m(O,M){for(var U=0,z=O.length,Q;U<z;U++)O[U]===M&&(Q=U);return Q}for(var y=i.abs(d-u[m(u,d)+1]),g=0,v=[],w=[],T,N,b,S,x;h>=y;)T=m(u,d+h),N=m(u,d),v[g]=(a[T]-2*a[N]+a[2*N-T])/(h*h),h/=2,g++;for(S=v.length,b=1;S!=1;){for(x=0;x<S-1;x++)w[x]=(i.pow(4,b)*v[x+1]-v[x])/(i.pow(4,b)-1);S=w.length,v=w,w=[],b++}return v},simpson:function(u,a,d,h){for(var m=(d-a)/h,y=u(a),g=[],v=a,w=0,T=1,N;v<=d;v=v+m,w++)g[w]=v;for(N=g.length;T<N-1;T++)y+=(T%2!==0?4:2)*u(g[T]);return m/3*(y+u(d))},hermite:function(u,a,d,h){for(var m=u.length,y=0,g=0,v=[],w=[],T=[],N=[],b;g<m;g++){for(v[g]=1,b=0;b<m;b++)g!=b&&(v[g]*=(h-u[b])/(u[g]-u[b]));for(w[g]=0,b=0;b<m;b++)g!=b&&(w[g]+=1/(u[g]-u[b]));T[g]=(1-2*(h-u[g])*w[g])*(v[g]*v[g]),N[g]=(h-u[g])*(v[g]*v[g]),y+=T[g]*a[g]+N[g]*d[g]}return y},lagrange:function(u,a,d){for(var h=0,m=0,y,g,v=u.length;m<v;m++){for(g=a[m],y=0;y<v;y++)m!=y&&(g*=(d-u[y])/(u[m]-u[y]));h+=g}return h},cubic_spline:function(u,a,d){for(var h=u.length,m=0,y,g=[],v=[],w=[],T=[],N=[],b=[],S=[];m<h-1;m++)N[m]=u[m+1]-u[m];for(w[0]=0,m=1;m<h-1;m++)w[m]=3/N[m]*(a[m+1]-a[m])-3/N[m-1]*(a[m]-a[m-1]);for(m=1;m<h-1;m++)g[m]=[],v[m]=[],g[m][m-1]=N[m-1],g[m][m]=2*(N[m-1]+N[m]),g[m][m+1]=N[m],v[m][0]=w[m];for(T=r.multiply(r.inv(g),v),y=0;y<h-1;y++)b[y]=(a[y+1]-a[y])/N[y]-N[y]*(T[y+1][0]+2*T[y][0])/3,S[y]=(T[y+1][0]-T[y][0])/(3*N[y]);for(y=0;y<h&&!(u[y]>d);y++);return y-=1,a[y]+(d-u[y])*b[y]+r.sq(d-u[y])*T[y]+(d-u[y])*r.sq(d-u[y])*S[y]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(u){var a=u.length,d=u[0].length,h=0,m,y,g=[],v=[],w=[],T=[],N=[],b=[],S=[],x=[],O=[],M=[];for(h=0;h<a;h++)g[h]=r.sum(u[h])/d;for(h=0;h<d;h++)for(S[h]=[],m=0;m<a;m++)S[h][m]=u[m][h]-g[m];for(S=r.transpose(S),h=0;h<a;h++)for(x[h]=[],m=0;m<a;m++)x[h][m]=r.dot([S[h]],[S[m]])/(d-1);for(w=r.jacobi(x),O=w[0],v=w[1],M=r.transpose(O),h=0;h<v.length;h++)for(m=h;m<v.length;m++)v[h]<v[m]&&(y=v[h],v[h]=v[m],v[m]=y,T=M[h],M[h]=M[m],M[m]=T);for(b=r.transpose(S),h=0;h<a;h++)for(N[h]=[],m=0;m<b.length;m++)N[h][m]=r.dot([M[h]],[b[m]]);return[u,v,M,N]}}),function(l){for(var u=0;u<l.length;u++)(function(a){r.fn[a]=function(d,h){var m=this;return h?(setTimeout(function(){h.call(m,r.fn[a].call(m,d))},15),this):typeof r[a](this,d)=="number"?r[a](this,d):r(r[a](this,d))}})(l[u])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(n,Math),function(r,i){var o=[].slice,s=r.utils.isNumber,c=r.utils.isArray;r.extend({zscore:function(){var a=o.call(arguments);return s(a[1])?(a[0]-a[1])/a[2]:(a[0]-r.mean(a[1]))/r.stdev(a[1],a[2])},ztest:function(){var a=o.call(arguments),d;return c(a[1])?(d=r.zscore(a[0],a[1],a[3]),a[2]===1?r.normal.cdf(-i.abs(d),0,1):r.normal.cdf(-i.abs(d),0,1)*2):a.length>2?(d=r.zscore(a[0],a[1],a[2]),a[3]===1?r.normal.cdf(-i.abs(d),0,1):r.normal.cdf(-i.abs(d),0,1)*2):(d=a[0],a[1]===1?r.normal.cdf(-i.abs(d),0,1):r.normal.cdf(-i.abs(d),0,1)*2)}}),r.extend(r.fn,{zscore:function(a,d){return(a-this.mean())/this.stdev(d)},ztest:function(a,d,h){var m=i.abs(this.zscore(a,h));return d===1?r.normal.cdf(-m,0,1):r.normal.cdf(-m,0,1)*2}}),r.extend({tscore:function(){var a=o.call(arguments);return a.length===4?(a[0]-a[1])/(a[2]/i.sqrt(a[3])):(a[0]-r.mean(a[1]))/(r.stdev(a[1],!0)/i.sqrt(a[1].length))},ttest:function(){var a=o.call(arguments),d;return a.length===5?(d=i.abs(r.tscore(a[0],a[1],a[2],a[3])),a[4]===1?r.studentt.cdf(-d,a[3]-1):r.studentt.cdf(-d,a[3]-1)*2):s(a[1])?(d=i.abs(a[0]),a[2]==1?r.studentt.cdf(-d,a[1]-1):r.studentt.cdf(-d,a[1]-1)*2):(d=i.abs(r.tscore(a[0],a[1])),a[2]==1?r.studentt.cdf(-d,a[1].length-1):r.studentt.cdf(-d,a[1].length-1)*2)}}),r.extend(r.fn,{tscore:function(a){return(a-this.mean())/(this.stdev(!0)/i.sqrt(this.cols()))},ttest:function(a,d){return d===1?1-r.studentt.cdf(i.abs(this.tscore(a)),this.cols()-1):r.studentt.cdf(-i.abs(this.tscore(a)),this.cols()-1)*2}}),r.extend({anovafscore:function(){var a=o.call(arguments),d,h,m,y,g,v,w,T;if(a.length===1){for(g=new Array(a[0].length),w=0;w<a[0].length;w++)g[w]=a[0][w];a=g}for(h=new Array,w=0;w<a.length;w++)h=h.concat(a[w]);for(m=r.mean(h),d=0,w=0;w<a.length;w++)d=d+a[w].length*i.pow(r.mean(a[w])-m,2);for(d/=a.length-1,v=0,w=0;w<a.length;w++)for(y=r.mean(a[w]),T=0;T<a[w].length;T++)v+=i.pow(a[w][T]-y,2);return v/=h.length-a.length,d/v},anovaftest:function(){var a=o.call(arguments),d,h,m,y;if(s(a[0]))return 1-r.centralF.cdf(a[0],a[1],a[2]);var g=r.anovafscore(a);for(d=a.length-1,m=0,y=0;y<a.length;y++)m=m+a[y].length;return h=m-d-1,1-r.centralF.cdf(g,d,h)},ftest:function(a,d,h){return 1-r.centralF.cdf(a,d,h)}}),r.extend(r.fn,{anovafscore:function(){return r.anovafscore(this.toArray())},anovaftes:function(){var a=0,d;for(d=0;d<this.length;d++)a=a+this[d].length;return r.ftest(this.anovafscore(),this.length-1,a-this.length)}}),r.extend({qscore:function(){var a=o.call(arguments),d,h,m,y,g;return s(a[0])?(d=a[0],h=a[1],m=a[2],y=a[3],g=a[4]):(d=r.mean(a[0]),h=r.mean(a[1]),m=a[0].length,y=a[1].length,g=a[2]),i.abs(d-h)/(g*i.sqrt((1/m+1/y)/2))},qtest:function(){var a=o.call(arguments),d;a.length===3?(d=a[0],a=a.slice(1)):a.length===7?(d=r.qscore(a[0],a[1],a[2],a[3],a[4]),a=a.slice(5)):(d=r.qscore(a[0],a[1],a[2]),a=a.slice(3));var h=a[0],m=a[1];return 1-r.tukey.cdf(d,m,h-m)},tukeyhsd:function(a){for(var d=r.pooledstdev(a),h=a.map(function(T){return r.mean(T)}),m=a.reduce(function(T,N){return T+N.length},0),y=[],g=0;g<a.length;++g)for(var v=g+1;v<a.length;++v){var w=r.qtest(h[g],h[v],a[g].length,a[v].length,d,m,a.length);y.push([[g,v],w])}return y}}),r.extend({normalci:function(){var a=o.call(arguments),d=new Array(2),h;return a.length===4?h=i.abs(r.normal.inv(a[1]/2,0,1)*a[2]/i.sqrt(a[3])):h=i.abs(r.normal.inv(a[1]/2,0,1)*r.stdev(a[2])/i.sqrt(a[2].length)),d[0]=a[0]-h,d[1]=a[0]+h,d},tci:function(){var a=o.call(arguments),d=new Array(2),h;return a.length===4?h=i.abs(r.studentt.inv(a[1]/2,a[3]-1)*a[2]/i.sqrt(a[3])):h=i.abs(r.studentt.inv(a[1]/2,a[2].length-1)*r.stdev(a[2],!0)/i.sqrt(a[2].length)),d[0]=a[0]-h,d[1]=a[0]+h,d},significant:function(a,d){return a<d}}),r.extend(r.fn,{normalci:function(a,d){return r.normalci(a,d,this.toArray())},tci:function(a,d){return r.tci(a,d,this.toArray())}});function l(u,a,d,h){if(u>1||d>1||u<=0||d<=0)throw new Error("Proportions should be greater than 0 and less than 1");var m=(u*a+d*h)/(a+h),y=i.sqrt(m*(1-m)*(1/a+1/h));return(u-d)/y}r.extend(r.fn,{oneSidedDifferenceOfProportions:function(a,d,h,m){var y=l(a,d,h,m);return r.ztest(y,1)},twoSidedDifferenceOfProportions:function(a,d,h,m){var y=l(a,d,h,m);return r.ztest(y,2)}})}(n,Math),n.models=function(){function r(l){var u=l[0].length,a=n.arange(u).map(function(d){var h=n.arange(u).filter(function(m){return m!==d});return i(n.col(l,d).map(function(m){return m[0]}),n.col(l,h))});return a}function i(l,u){var a=l.length,d=u[0].length-1,h=a-d-1,m=n.lstsq(u,l),y=n.multiply(u,m.map(function(S){return[S]})).map(function(S){return S[0]}),g=n.subtract(l,y),v=n.mean(l),w=n.sum(y.map(function(S){return Math.pow(S-v,2)})),T=n.sum(l.map(function(S,x){return Math.pow(S-y[x],2)})),N=w+T,b=w/N;return{exog:u,endog:l,nobs:a,df_model:d,df_resid:h,coef:m,predict:y,resid:g,ybar:v,SST:N,SSE:w,SSR:T,R2:b}}function o(l){var u=r(l.exog),a=Math.sqrt(l.SSR/l.df_resid),d=u.map(function(v){var w=v.SST,T=v.R2;return a/Math.sqrt(w*(1-T))}),h=l.coef.map(function(v,w){return(v-0)/d[w]}),m=h.map(function(v){var w=n.studentt.cdf(v,l.df_resid);return(w>.5?1-w:w)*2}),y=n.studentt.inv(.975,l.df_resid),g=l.coef.map(function(v,w){var T=y*d[w];return[v-T,v+T]});return{se:d,t:h,p:m,sigmaHat:a,interval95:g}}function s(l){var u=l.R2/l.df_model/((1-l.R2)/l.df_resid),a=function(h,m,y){return n.beta.cdf(h/(y/m+h),m/2,y/2)},d=1-a(u,l.df_model,l.df_resid);return{F_statistic:u,pvalue:d}}function c(l,u){var a=i(l,u),d=o(a),h=s(a),m=1-(1-a.R2)*((a.nobs-1)/a.df_resid);return a.t=d,a.f=h,a.adjust_R2=m,a}return{ols:c}}(),n.extend({buildxmatrix:function(){for(var i=new Array(arguments.length),o=0;o<arguments.length;o++){var s=[1];i[o]=s.concat(arguments[o])}return n(i)},builddxmatrix:function(){for(var i=new Array(arguments[0].length),o=0;o<arguments[0].length;o++){var s=[1];i[o]=s.concat(arguments[0][o])}return n(i)},buildjxmatrix:function(i){for(var o=new Array(i.length),s=0;s<i.length;s++)o[s]=i[s];return n.builddxmatrix(o)},buildymatrix:function(i){return n(i).transpose()},buildjymatrix:function(i){return i.transpose()},matrixmult:function(i,o){var s,c,l,u,a;if(i.cols()==o.rows()){if(o.rows()>1){for(u=[],s=0;s<i.rows();s++)for(u[s]=[],c=0;c<o.cols();c++){for(a=0,l=0;l<i.cols();l++)a+=i.toArray()[s][l]*o.toArray()[l][c];u[s][c]=a}return n(u)}for(u=[],s=0;s<i.rows();s++)for(u[s]=[],c=0;c<o.cols();c++){for(a=0,l=0;l<i.cols();l++)a+=i.toArray()[s][l]*o.toArray()[c];u[s][c]=a}return n(u)}},regress:function(i,o){var s=n.xtranspxinv(i),c=i.transpose(),l=n.matrixmult(n(s),c);return n.matrixmult(l,o)},regresst:function(i,o,s){var c=n.regress(i,o),l={};l.anova={};var u=n.jMatYBar(i,c);l.yBar=u;var a=o.mean();l.anova.residuals=n.residuals(o,u),l.anova.ssr=n.ssr(u,a),l.anova.msr=l.anova.ssr/(i[0].length-1),l.anova.sse=n.sse(o,u),l.anova.mse=l.anova.sse/(o.length-(i[0].length-1)-1),l.anova.sst=n.sst(o,a),l.anova.mst=l.anova.sst/(o.length-1),l.anova.r2=1-l.anova.sse/l.anova.sst,l.anova.r2<0&&(l.anova.r2=0),l.anova.fratio=l.anova.msr/l.anova.mse,l.anova.pvalue=n.anovaftest(l.anova.fratio,i[0].length-1,o.length-(i[0].length-1)-1),l.anova.rmse=Math.sqrt(l.anova.mse),l.anova.r2adj=1-l.anova.mse/l.anova.mst,l.anova.r2adj<0&&(l.anova.r2adj=0),l.stats=new Array(i[0].length);for(var d=n.xtranspxinv(i),h,m,y,g=0;g<c.length;g++)h=Math.sqrt(l.anova.mse*Math.abs(d[g][g])),m=Math.abs(c[g]/h),y=n.ttest(m,o.length-i[0].length-1,s),l.stats[g]=[c[g],h,m,y];return l.regress=c,l},xtranspx:function(i){return n.matrixmult(i.transpose(),i)},xtranspxinv:function(i){var o=n.matrixmult(i.transpose(),i),s=n.inv(o);return s},jMatYBar:function(i,o){var s=n.matrixmult(i,o);return new n(s)},residuals:function(i,o){return n.matrixsubtract(i,o)},ssr:function(i,o){for(var s=0,c=0;c<i.length;c++)s+=Math.pow(i[c]-o,2);return s},sse:function(i,o){for(var s=0,c=0;c<i.length;c++)s+=Math.pow(i[c]-o[c],2);return s},sst:function(i,o){for(var s=0,c=0;c<i.length;c++)s+=Math.pow(i[c]-o,2);return s},matrixsubtract:function(i,o){for(var s=new Array(i.length),c=0;c<i.length;c++){s[c]=new Array(i[c].length);for(var l=0;l<i[c].length;l++)s[c][l]=i[c][l]-o[c][l]}return n(s)}}),n.jStat=n,n})}(zh)),zh.exports}var p0,vx;function CB(){if(vx)return p0;vx=1;const e=fn(),t=kC(),{FormulaHelpers:n,Types:r}=xn(),i=n,o=OB(),s=PC(),c=536870911,l=-536870912,u=511,a=-512,d=/^\s?[+-]?\s?[0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?\s?$/,h=/^\s?([+-]?\s?([0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?)?)\s?[ij]\s?$/,m=/^\s?([+-]?\s?[0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?)\s?([+-]?\s?([0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?)?)\s?[ij]\s?$/;function y(v){v=i.accept(v);let w=0,T=0,N="i";if(typeof v=="number")return{real:v,im:T,unit:N};if(typeof v=="boolean")throw e.VALUE;let b=v.match(d);if(b)return w=Number(b[0]),{real:w,im:T,unit:N};if(b=v.match(h),b)return T=Number(/^\s?[+-]?\s?$/.test(b[1])?b[1]+"1":b[1]),N=b[0].slice(-1),{real:w,im:T,unit:N};if(b=v.match(m),b)return w=Number(b[1]),T=Number(/^\s?[+-]?\s?$/.test(b[3])?b[3]+"1":b[3]),N=b[0].slice(-1),{real:w,im:T,unit:N};throw e.NUM}const g={BESSELI:(v,w)=>{if(v=i.accept(v,r.NUMBER_NO_BOOLEAN),w=i.accept(w,r.NUMBER_NO_BOOLEAN),w=Math.trunc(w),w<0)throw e.NUM;return o.besseli(v,w)},BESSELJ:(v,w)=>{if(v=i.accept(v,r.NUMBER_NO_BOOLEAN),w=i.accept(w,r.NUMBER_NO_BOOLEAN),w=Math.trunc(w),w<0)throw e.NUM;return o.besselj(v,w)},BESSELK:(v,w)=>{if(v=i.accept(v,r.NUMBER_NO_BOOLEAN),w=i.accept(w,r.NUMBER_NO_BOOLEAN),w=Math.trunc(w),w<0)throw e.NUM;return o.besselk(v,w)},BESSELY:(v,w)=>{if(v=i.accept(v,r.NUMBER_NO_BOOLEAN),w=i.accept(w,r.NUMBER_NO_BOOLEAN),w=Math.trunc(w),w<0)throw e.NUM;return o.bessely(v,w)},BIN2DEC:v=>{v=i.accept(v,r.NUMBER_NO_BOOLEAN);let w=v.toString();if(w.length>10)throw e.NUM;return w.length===10&&w.substring(0,1)==="1"?parseInt(w.substring(1),2)+a:parseInt(w,2)},BIN2HEX:(v,w)=>{v=i.accept(v,r.NUMBER_NO_BOOLEAN),w=i.accept(w,r.NUMBER_NO_BOOLEAN,null);const T=v.toString();if(T.length>10)throw e.NUM;if(T.length===10&&T.substring(0,1)==="1")return(parseInt(T.substring(1),2)+0xfffffffe00).toString(16).toUpperCase();const N=parseInt(v,2).toString(16);if(w==null)return N.toUpperCase();if(w<0)throw e.NUM;if(w=Math.trunc(w),w>=N.length)return(t.REPT("0",w-N.length)+N).toUpperCase();throw e.NUM},BIN2OCT:(v,w)=>{v=i.accept(v,r.NUMBER_NO_BOOLEAN),w=i.accept(w,r.NUMBER,null);let T=v.toString();if(T.length>10)throw e.NUM;if(T.length===10&&T.substr(0,1)==="1")return(parseInt(T.substr(1),2)+1073741312).toString(8);let N=parseInt(v,2).toString(8);if(w==null)return N.toUpperCase();if(w<0)throw e.NUM;if(w=Math.trunc(w),w>=N.length)return t.REPT("0",w-N.length)+N;throw e.NUM},BITAND:(v,w)=>{if(v=i.accept(v,r.NUMBER),w=i.accept(w,r.NUMBER),v<0||w<0||Math.floor(v)!==v||Math.floor(w)!==w||v>0xffffffffffff||w>0xffffffffffff)throw e.NUM;return v&w},BITLSHIFT:(v,w)=>{if(v=i.accept(v,r.NUMBER),w=i.accept(w,r.NUMBER),w=Math.trunc(w),Math.abs(w)>53||v<0||Math.floor(v)!==v||v>0xffffffffffff)throw e.NUM;const T=w>=0?v*2**w:Math.trunc(v/2**-w);if(T>0xffffffffffff)throw e.NUM;return T},BITOR:(v,w)=>{if(v=i.accept(v,r.NUMBER),w=i.accept(w,r.NUMBER),v<0||w<0||Math.floor(v)!==v||Math.floor(w)!==w||v>0xffffffffffff||w>0xffffffffffff)throw e.NUM;return v|w},BITRSHIFT:(v,w)=>(v=i.accept(v,r.NUMBER),w=i.accept(w,r.NUMBER),g.BITLSHIFT(v,-w)),BITXOR:(v,w)=>{if(v=i.accept(v,r.NUMBER),w=i.accept(w,r.NUMBER),v<0||v>0xffffffffffff||Math.floor(v)!==v||w<0||w>0xffffffffffff||Math.floor(w)!==w)throw e.NUM;return v^w},COMPLEX:(v,w,T)=>{if(v=i.accept(v,r.NUMBER_NO_BOOLEAN),w=i.accept(w,r.NUMBER_NO_BOOLEAN),T=i.accept(T,r.STRING,"i"),T!=="i"&&T!=="j")throw e.VALUE;if(v===0&&w===0)return 0;if(v===0)return w===1?T:w===-1?"-"+T:w.toString()+T;if(w===0)return v.toString();{let N=w>0?"+":"";return w===1?v.toString()+N+T:w===-1?v.toString()+N+"-"+T:v.toString()+N+w.toString()+T}},DEC2BIN:(v,w)=>{if(v=i.accept(v,r.NUMBER),w=i.accept(w,r.NUMBER,null),v<a||v>u)throw e.NUM;if(v<0)return"1"+t.REPT("0",9-(512+v).toString(2).length)+(512+v).toString(2);let T=parseInt(v,10).toString(2);if(w==null)return T;if(w=Math.trunc(w),w<=0||w<T.length)throw e.NUM;return t.REPT("0",w-T.length)+T},DEC2HEX:(v,w)=>{if(v=i.accept(v,r.NUMBER),w=i.accept(w,r.NUMBER,null),v<-549755813888||v>549755813888)throw e.NUM;if(v<0)return(1099511627776+v).toString(16).toUpperCase();let T=parseInt(v,10).toString(16);if(w==null)return T.toUpperCase();if(w=Math.trunc(w),w<=0||w<T.length)throw e.NUM;return t.REPT("0",w-T.length)+T.toUpperCase()},DEC2OCT:(v,w)=>{if(v=i.accept(v,r.NUMBER),w=i.accept(w,r.NUMBER,null),v<-536870912||v>536870912)throw e.NUM;if(v<0)return(v+1073741824).toString(8);let T=parseInt(v,10).toString(8);if(w==null)return T.toUpperCase();if(w=Math.trunc(w),w<=0||w<T.length)throw e.NUM;return t.REPT("0",w-T.length)+T},DELTA:(v,w)=>(v=i.accept(v,r.NUMBER_NO_BOOLEAN),w=i.accept(w,r.NUMBER_NO_BOOLEAN,0),v===w?1:0),ERF:(v,w)=>(v=i.accept(v,r.NUMBER_NO_BOOLEAN),w=i.accept(w,r.NUMBER_NO_BOOLEAN,0),s.erf(v)),ERFC:v=>(v=i.accept(v,r.NUMBER_NO_BOOLEAN),s.erfc(v)),GESTEP:(v,w)=>(v=i.accept(v,r.NUMBER_NO_BOOLEAN),w=i.accept(w,r.NUMBER_NO_BOOLEAN,0),v>=w?1:0),HEX2BIN:(v,w)=>{if(v=i.accept(v,r.STRING),w=i.accept(w,r.NUMBER,null),v.length>10||!/^[0-9a-fA-F]*$/.test(v))throw e.NUM;let T=v.length===10&&v.substr(0,1).toLowerCase()==="f",N=T?parseInt(v,16)-1099511627776:parseInt(v,16);if(N<a||N>u)throw e.NUM;if(T)return"1"+t.REPT("0",9-(N+512).toString(2).length)+(N+512).toString(2);let b=N.toString(2);if(w==null)return b;if(w=Math.trunc(w),w<=0||w<b.length)throw e.NUM;return t.REPT("0",w-b.length)+b},HEX2DEC:v=>{if(v=i.accept(v,r.STRING),v.length>10||!/^[0-9a-fA-F]*$/.test(v))throw e.NUM;let w=parseInt(v,16);return w>=549755813888?w-1099511627776:w},HEX2OCT:(v,w)=>{if(v=i.accept(v,r.STRING),v.length>10||!/^[0-9a-fA-F]*$/.test(v))throw e.NUM;let T=g.HEX2DEC(v);if(T>c||T<l)throw e.NUM;return g.DEC2OCT(T,w)},IMABS:v=>{const{real:w,im:T}=y(v);return Math.sqrt(Math.pow(w,2)+Math.pow(T,2))},IMAGINARY:v=>y(v).im,IMARGUMENT:v=>{const{real:w,im:T}=y(v);if(w===0&&T===0)throw e.DIV0;return w===0&&T>0?Math.PI/2:w===0&&T<0?-Math.PI/2:w<0&&T===0?Math.PI:w>0&&T===0?0:w>0?Math.atan(T/w):w<0&&T>0?Math.atan(T/w)+Math.PI:Math.atan(T/w)-Math.PI},IMCONJUGATE:v=>{const{real:w,im:T,unit:N}=y(v);return T!==0?g.COMPLEX(w,-T,N):""+w},IMCOS:v=>{const{real:w,im:T,unit:N}=y(v);let b=Math.cos(w)*(Math.exp(T)+Math.exp(-T))/2,S=-Math.sin(w)*(Math.exp(T)-Math.exp(-T))/2;return g.COMPLEX(b,S,N)},IMCOSH:v=>{const{real:w,im:T,unit:N}=y(v);let b=Math.cos(T)*(Math.exp(w)+Math.exp(-w))/2,S=-Math.sin(T)*(Math.exp(w)-Math.exp(-w))/2;return g.COMPLEX(b,-S,N)},IMCOT:v=>{v=i.accept(v);let w=g.IMCOS(v),T=g.IMSIN(v);return g.IMDIV(w,T)},IMCSC:v=>(v=i.accept(v),g.IMDIV("1",g.IMSIN(v))),IMCSCH:v=>(v=i.accept(v),g.IMDIV("1",g.IMSINH(v))),IMDIV:(v,w)=>{const T=y(v),N=T.real,b=T.im,S=T.unit,x=y(w),O=x.real,M=x.im,U=x.unit;if(O===0&&M===0||S!==U)throw e.NUM;let z=S,Q=Math.pow(O,2)+Math.pow(M,2);return g.COMPLEX((N*O+b*M)/Q,(b*O-N*M)/Q,z)},IMEXP:v=>{const{real:w,im:T,unit:N}=y(v);let b=Math.exp(w);return g.COMPLEX(b*Math.cos(T),b*Math.sin(T),N)},IMLN:v=>{const{real:w,im:T,unit:N}=y(v);return g.COMPLEX(Math.log(Math.sqrt(Math.pow(w,2)+Math.pow(T,2))),Math.atan(T/w),N)},IMLOG10:v=>{const{real:w,im:T,unit:N}=y(v);let b=Math.log(Math.sqrt(Math.pow(w,2)+Math.pow(T,2)))/Math.log(10),S=Math.atan(T/w)/Math.log(10);return g.COMPLEX(b,S,N)},IMLOG2:v=>{const{real:w,im:T,unit:N}=y(v);let b=Math.log(Math.sqrt(Math.pow(w,2)+Math.pow(T,2)))/Math.log(2),S=Math.atan(T/w)/Math.log(2);return g.COMPLEX(b,S,N)},IMPOWER:(v,w)=>{let{unit:T}=y(v);w=i.accept(w,r.NUMBER_NO_BOOLEAN);let N=Math.pow(g.IMABS(v),w),b=g.IMARGUMENT(v),S=N*Math.cos(w*b),x=N*Math.sin(w*b);return g.COMPLEX(S,x,T)},IMPRODUCT:(...v)=>{let w,T=0;return i.flattenParams(v,null,!1,N=>{if(T===0)w=i.accept(N),y(w);else{const b=y(w),S=b.real,x=b.im,O=b.unit,M=y(N),U=M.real,z=M.im,Q=M.unit;if(O!==Q)throw e.VALUE;w=g.COMPLEX(S*U-x*z,S*z+x*U)}T++},1),w},IMREAL:v=>y(v).real,IMSEC:v=>g.IMDIV("1",g.IMCOS(v)),IMSECH:v=>g.IMDIV("1",g.IMCOSH(v)),IMSIN:v=>{const{real:w,im:T,unit:N}=y(v);let b=Math.sin(w)*(Math.exp(T)+Math.exp(-T))/2,S=Math.cos(w)*(Math.exp(T)-Math.exp(-T))/2;return g.COMPLEX(b,S,N)},IMSINH:v=>{const{real:w,im:T,unit:N}=y(v);let b=Math.cos(T)*(Math.exp(w)-Math.exp(-w))/2,S=Math.sin(T)*(Math.exp(w)+Math.exp(-w))/2;return g.COMPLEX(b,S,N)},IMSQRT:v=>{const{unit:w}=y(v);let T=Math.sqrt(g.IMABS(v)),N=g.IMARGUMENT(v);return g.COMPLEX(T*Math.cos(N/2),T*Math.sin(N/2),w)},IMSUB:(v,w)=>{const T=y(v),N=T.real,b=T.im,S=T.unit,x=y(w),O=x.real,M=x.im,U=x.unit;if(S!==U)throw e.VALUE;return g.COMPLEX(N-O,b-M,S)},IMSUM:(...v)=>{let w=0,T=0,N;return i.flattenParams(v,null,!1,b=>{const{real:S,im:x,unit:O}=y(b);if(N||(N=O),N!==O)throw e.VALUE;w+=S,T+=x}),g.COMPLEX(w,T,N)},IMTAN:v=>{const{unit:w}=y(v);return g.IMDIV(g.IMSIN(v),g.IMCOS(v),w)},OCT2BIN:(v,w)=>{if(v=i.accept(v,r.STRING),w=i.accept(w,r.NUMBER,null),v.length>10||w>10||w!==null&&w<0)throw e.NUM;w=Math.trunc(w);let T=v.length===10&&v.substring(0,1)==="7",N=g.OCT2DEC(v);if(N<a||N>u)return e.NUM;if(T)return"1"+t.REPT("0",9-(512+N).toString(2).length)+(512+N).toString(2);let b=N.toString(2);if(w===0)return b;if(w<b.length)throw e.NUM;return t.REPT("0",w-b.length)+b},OCT2DEC:v=>{if(v=i.accept(v,r.STRING),v.length>10)throw e.NUM;for(const T of v)if(T<"0"||T>"7")throw e.NUM;let w=parseInt(v,8);return w>=536870912?w-1073741824:w},OCT2HEX:(v,w)=>{if(v=i.accept(v,r.STRING),w=i.accept(w,r.NUMBER_NO_BOOLEAN,null),v.length>10)throw e.NUM;for(const b of v)if(b<"0"||b>"7")throw e.NUM;if(w=Math.trunc(w),w<0||w>10)throw e.NUM;let T=g.OCT2DEC(v),N=g.DEC2HEX(T);if(w===0)return N;if(w<N.length)throw e.NUM;return t.REPT("0",w-N.length)+N}};return p0=g,p0}var m0,yx;function kB(){if(yx)return m0;yx=1;const e=fn(),{FormulaHelpers:t,Types:n,WildCard:r,Address:i}=xn(),o=lm(),s=t;return m0={ADDRESS:(l,u,a,d,h)=>{if(l=s.accept(l,n.NUMBER),u=s.accept(u,n.NUMBER),a=s.accept(a,n.NUMBER,1),d=s.accept(d,n.BOOLEAN,!0),h=s.accept(h,n.STRING,""),l<1||u<1||a<1||a>4)throw e.VALUE;let m="";return h.length>0&&(/[^A-Za-z_.\d\u007F-\uFFFF]/.test(h)?m+=`'${h}'!`:m+=h+"!"),d?(m+=a===1||a===3?"$":"",m+=i.columnNumberToName(u),m+=a===1||a===2?"$":"",m+=l):(m+="R",m+=a===4||a===3?`[${l}]`:l,m+="C",m+=a===4||a===2?`[${u}]`:u),m},AREAS:l=>(l=s.accept(l),l instanceof o?l.length:1),CHOOSE:(l,...u)=>{},COLUMN:(l,u)=>{if(u==null){if(l.position.col!=null)return l.position.col;throw Error("FormulaParser.parse is called without position parameter.")}else{if(typeof u!="object"||Array.isArray(u))throw e.VALUE;if(s.isCellRef(u))return u.ref.col;if(s.isRangeRef(u))return u.ref.from.col;throw Error("ReferenceFunctions.COLUMN should not reach here.")}},COLUMNS:(l,u)=>{if(u==null)throw Error("COLUMNS requires one argument");if(typeof u!="object"||Array.isArray(u))throw e.VALUE;if(s.isCellRef(u))return 1;if(s.isRangeRef(u))return Math.abs(u.ref.from.col-u.ref.to.col)+1;throw Error("ReferenceFunctions.COLUMNS should not reach here.")},HLOOKUP:(l,u,a,d)=>{l=s.accept(l);try{u=s.accept(u,n.ARRAY,void 0,!1)}catch(m){throw m instanceof e?e.NA:m}if(a=s.accept(a,n.NUMBER),d=s.accept(d,n.BOOLEAN,!0),a<1)throw e.VALUE;if(u[a-1]===void 0)throw e.REF;const h=typeof l;if(d){let m=h===typeof u[0][0]?u[0][0]:null;for(let y=1;y<u[0].length;y++){const g=u[0][y];if(typeof g===h){if(m>l&&g>l)throw e.NA;if(g===l)return u[a-1][y];if(m!=null&&g>l&&m<=l)return u[a-1][y-1];m=g}}if(m==null)throw e.NA;return m}else{let m=-1;if(r.isWildCard(l)?m=u[0].findIndex(y=>r.toRegex(l,"i").test(y)):m=u[0].findIndex(y=>y===l),m===-1)throw e.NA;return u[a-1][m]}},INDEX:(l,u,a,d,h)=>{a=l.utils.extractRefValue(a),a={value:a.val,isArray:a.isArray},a=s.accept(a,n.NUMBER),a=Math.trunc(a),d==null?d=1:(d=l.utils.extractRefValue(d),d={value:d.val,isArray:d.isArray},d=s.accept(d,n.NUMBER,1),d=Math.trunc(d)),h==null?h=1:(h=l.utils.extractRefValue(h),h={value:h.val,isArray:h.isArray},h=s.accept(h,n.NUMBER,1),h=Math.trunc(h));let m=u;if(u instanceof o)m=u.refs[h-1];else if(h>1)throw e.REF;if(a===0&&d===0)return m;if(a===0){if(s.isRangeRef(m)){if(m.ref.to.col-m.ref.from.col<d-1)throw e.REF;return m.ref.from.col+=d-1,m.ref.to.col=m.ref.from.col,m}else if(Array.isArray(m)){const y=[];return m.forEach(g=>y.push([g[d-1]])),y}}if(d===0){if(s.isRangeRef(m)){if(m.ref.to.row-m.ref.from.row<a-1)throw e.REF;return m.ref.from.row+=a-1,m.ref.to.row=m.ref.from.row,m}else if(Array.isArray(m))return m[d-1]}if(a!==0&&d!==0){if(s.isRangeRef(m)){if(m=m.ref,m.to.row-m.from.row<a-1||m.to.col-m.from.col<d-1)throw e.REF;return{ref:{row:m.from.row+a-1,col:m.from.col+d-1}}}else if(s.isCellRef(m)){if(m=m.ref,a>1||d>1)throw e.REF;return{ref:{row:m.row+a-1,col:m.col+d-1}}}else if(Array.isArray(m)){if(m.length<a||m[0].length<d)throw e.REF;return m[a-1][d-1]}}},MATCH:()=>{},ROW:(l,u)=>{if(u==null){if(l.position.row!=null)return l.position.row;throw Error("FormulaParser.parse is called without position parameter.")}else{if(typeof u!="object"||Array.isArray(u))throw e.VALUE;if(s.isCellRef(u))return u.ref.row;if(s.isRangeRef(u))return u.ref.from.row;throw Error("ReferenceFunctions.ROW should not reach here.")}},ROWS:(l,u)=>{if(u==null)throw Error("ROWS requires one argument");if(typeof u!="object"||Array.isArray(u))throw e.VALUE;if(s.isCellRef(u))return 1;if(s.isRangeRef(u))return Math.abs(u.ref.from.row-u.ref.to.row)+1;throw Error("ReferenceFunctions.ROWS should not reach here.")},TRANSPOSE:l=>{l=s.accept(l,n.ARRAY,void 0,!1);const u=[];for(let a=0;a<l[0].length;a++){u[a]=[];for(let d=0;d<l.length;d++)u[a][d]=l[d][a]}return u},VLOOKUP:(l,u,a,d)=>{l=s.accept(l);try{u=s.accept(u,n.ARRAY,void 0,!1)}catch(m){throw m instanceof e?e.NA:m}if(a=s.accept(a,n.NUMBER),d=s.accept(d,n.BOOLEAN,!0),a<1)throw e.VALUE;if(u[0][a-1]===void 0)throw e.REF;const h=typeof l;if(d){let m=h===typeof u[0][0]?u[0][0]:null;for(let y=1;y<u.length;y++){const g=u[y],v=u[y][0];if(typeof v===h){if(m>l&&v>l)throw e.NA;if(v===l)return g[a-1];if(m!=null&&v>l&&m<=l)return u[y-1][a-1];m=v}}if(m==null)throw e.NA;return m}else{let m=-1;if(r.isWildCard(l)?m=u.findIndex(y=>r.toRegex(l,"i").test(y[0])):m=u.findIndex(y=>y[0]===l),m===-1)throw e.NA;return u[m][a-1]}}},m0}var g0,Ex;function MB(){if(Ex)return g0;Ex=1;const e=fn(),{FormulaHelpers:t,Types:n}=xn(),r=t,i={"#NULL!":1,"#DIV/0!":2,"#VALUE!":3,"#REF!":4,"#NAME?":5,"#NUM!":6,"#N/A":7};return g0={CELL:(s,c)=>{},"ERROR.TYPE":s=>{if(s=r.accept(s),s instanceof e)return i[s.toString()];throw e.NA},INFO:()=>{},ISBLANK:s=>s.ref?s.value==null||s.value==="":!1,ISERR:s=>(s=r.accept(s),s instanceof e&&s.toString()!=="#N/A"),ISERROR:s=>(s=r.accept(s),s instanceof e),ISEVEN:s=>(s=r.accept(s,n.NUMBER),s=Math.trunc(s),s%2===0),ISLOGICAL:s=>(s=r.accept(s),typeof s=="boolean"),ISNA:s=>(s=r.accept(s),s instanceof e&&s.toString()==="#N/A"),ISNONTEXT:s=>(s=r.accept(s),typeof s!="string"),ISNUMBER:s=>(s=r.accept(s),typeof s=="number"),ISREF:s=>!s.ref||r.isCellRef(s)&&(s.ref.row>1048576||s.ref.col>16384)||r.isRangeRef(s)&&(s.ref.from.row>1048576||s.ref.from.col>16384||s.ref.to.row>1048576||s.ref.to.col>16384)?!1:(s=r.accept(s),!(s instanceof e&&s.toString()==="#REF!")),ISTEXT:s=>(s=r.accept(s),typeof s=="string"),N:s=>{s=r.accept(s);const c=typeof s;if(c==="number")return s;if(c==="boolean")return Number(s);if(s instanceof e)throw s;return 0},NA:()=>{throw e.NA},TYPE:s=>{if(s.ref){if(r.isRangeRef(s))return 16;if(r.isCellRef(s)&&(s=r.accept(s),typeof s=="string"&&s.length===0))return 1}s=r.accept(s);const c=typeof s;if(c==="number")return 1;if(c==="string")return 2;if(c==="boolean")return 4;if(s instanceof e)return 16;if(Array.isArray(s))return 64}},g0}var v0,wx;function PB(){if(wx)return v0;wx=1;const e=fn(),{FormulaHelpers:t,Types:n}=xn(),r=t,i=PC(),o=MC(),s=2.5066282746310002,c={"BETA.DIST":(l,u,a,d,h,m)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),d=r.accept(d,n.BOOLEAN),h=r.accept(h,n.NUMBER,0),m=r.accept(m,n.NUMBER,1),u<=0||a<=0||l<h||l>m||h===m)throw e.NUM;return l=(l-h)/(m-h),d?i.beta.cdf(l,u,a):i.beta.pdf(l,u,a)/(m-h)},"BETA.INV":(l,u,a,d,h)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),d=r.accept(d,n.NUMBER,0),h=r.accept(h,n.NUMBER,1),u<=0||a<=0||l<=0||l>1)throw e.NUM;return i.beta.inv(l,u,a)*(h-d)+d},"BINOM.DIST":(l,u,a,d)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),d=r.accept(d,n.BOOLEAN),u<0||a<0||a>1||l<0||l>u)throw e.NUM;return d?i.binomial.cdf(l,u,a):i.binomial.pdf(l,u,a)},"BINOM.DIST.RANGE":(l,u,a,d)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),d=r.accept(d,n.NUMBER,a),l<0||u<0||u>1||a<0||a>l||d<a||d>l)throw e.NUM;let h=0;for(let m=a;m<=d;m++)h+=o.COMBIN(l,m)*Math.pow(u,m)*Math.pow(1-u,l-m);return h},"BINOM.INV":(l,u,a)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),l<0||u<0||u>1||a<0||a>1)throw e.NUM;let d=0;for(;d<=l;){if(i.binomial.cdf(d,l,u)>=a)return d;d++}},"CHISQ.DIST":(l,u,a)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),u=Math.trunc(u),l<0||u<1||u>10**10)throw e.NUM;return a?i.chisquare.cdf(l,u):i.chisquare.pdf(l,u)},"CHISQ.DIST.RT":(l,u)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),u=Math.trunc(u),l<0||u<1||u>10**10)throw e.NUM;return 1-i.chisquare.cdf(l,u)},"CHISQ.INV":(l,u)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),u=Math.trunc(u),l<0||l>1||u<1||u>10**10)throw e.NUM;return i.chisquare.inv(l,u)},"CHISQ.INV.RT":(l,u)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),u=Math.trunc(u),l<0||l>1||u<1||u>10**10)throw e.NUM;return i.chisquare.inv(1-l,u)},"CHISQ.TEST":(l,u)=>{const a=r.accept(l,n.ARRAY,void 0,!1,!1),d=r.accept(u,n.ARRAY,void 0,!1,!1);if(a.length!==d.length||a[0].length!==d[0].length||a.length===1&&a[0].length===1)throw e.NA;const h=a.length,m=a[0].length;let y=(h-1)*(m-1);h===1?y=m-1:y=h-1;let g=0;for(let b=0;b<h;b++)for(let S=0;S<m;S++)if(!(typeof a[b][S]!="number"||typeof d[b][S]!="number")){if(d[b][S]===0)throw e.DIV0;g+=Math.pow(a[b][S]-d[b][S],2)/d[b][S]}let v=Math.exp(-.5*g);y%2===1&&(v=v*Math.sqrt(2*g/Math.PI));let w=y;for(;w>=2;)v=v*g/w,w=w-2;let T=v,N=y;for(;T>1e-15*v;)N=N+2,T=T*g/N,v=v+T;return 1-v},"CONFIDENCE.NORM":(l,u,a)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),a=Math.trunc(a),l<=0||l>=1||u<=0||a<1)throw e.NUM;return i.normalci(1,l,u,a)[1]-1},"CONFIDENCE.T":(l,u,a)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),a=Math.trunc(a),l<=0||l>=1||u<=0||a<1)throw e.NUM;if(a===1)throw e.DIV0;return i.tci(1,l,u,a)[1]-1},CORREL:(l,u)=>{if(l=r.accept(l,n.ARRAY,void 0,!0,!0),u=r.accept(u,n.ARRAY,void 0,!0,!0),l.length!==u.length)throw e.NA;const a=[],d=[];for(let h=0;h<l.length;h++)typeof l[h]!="number"||typeof u[h]!="number"||(a.push(l[h]),d.push(u[h]));if(a.length<=1)throw e.DIV0;return i.corrcoeff(a,d)},"COVARIANCE.P":(l,u)=>{if(l=r.accept(l,n.ARRAY,void 0,!0,!0),u=r.accept(u,n.ARRAY,void 0,!0,!0),l.length!==u.length)throw e.NA;const a=[],d=[];for(let g=0;g<l.length;g++)typeof l[g]!="number"||typeof u[g]!="number"||(a.push(l[g]),d.push(u[g]));const h=i.mean(a),m=i.mean(d);let y=0;for(let g=0;g<a.length;g++)y+=(a[g]-h)*(d[g]-m);return y/a.length},"COVARIANCE.S":(l,u)=>{if(l=r.accept(l,n.ARRAY,void 0,!0,!0),u=r.accept(u,n.ARRAY,void 0,!0,!0),l.length!==u.length)throw e.NA;const a=[],d=[];for(let h=0;h<l.length;h++)typeof l[h]!="number"||typeof u[h]!="number"||(a.push(l[h]),d.push(u[h]));if(a.length<=1)throw e.DIV0;return i.covariance(a,d)},DEVSQ:(...l)=>{let u=0,a=[];r.flattenParams(l,n.NUMBER,!0,(h,m)=>{typeof h=="number"&&(u+=h,a.push(h))});const d=u/a.length;u=0;for(let h=0;h<a.length;h++)u+=(a[h]-d)**2;return u},"EXPON.DIST":(l,u,a)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.BOOLEAN),l<0||u<=0)throw e.NUM;return a?i.exponential.cdf(l,u):i.exponential.pdf(l,u)},"F.DIST":(l,u,a,d)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),d=r.accept(d,n.BOOLEAN),l<0||u<1||a<1)throw e.NUM;return u=Math.trunc(u),a=Math.trunc(a),d?i.centralF.cdf(l,u,a):i.centralF.pdf(l,u,a)},"F.DIST.RT":(l,u,a)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),l<0||u<1||a<1)throw e.NUM;return u=Math.trunc(u),a=Math.trunc(a),1-i.centralF.cdf(l,u,a)},"F.INV":(l,u,a)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),l<0||l>1||u<1||a<1)throw e.NUM;return u=Math.trunc(u),a=Math.trunc(a),i.centralF.inv(l,u,a)},"F.INV.RT":(l,u,a)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),l<0||l>1||u<1||u>=Math.pow(10,10)||a<1||a>=Math.pow(10,10))throw e.NUM;return u=Math.trunc(u),a=Math.trunc(a),i.centralF.inv(1-l,u,a)},"F.TEST":(l,u)=>{l=r.accept(l,n.ARRAY,void 0,!0,!0),u=r.accept(u,n.ARRAY,void 0,!0,!0);const a=[],d=[];let h=0,m=0;for(let v=0;v<Math.max(l.length,u.length);v++)typeof l[v]=="number"&&(a.push(l[v]),h+=l[v]),typeof u[v]=="number"&&(d.push(u[v]),m+=u[v]);if(a.length<=1||d.length<=1)throw e.DIV0;h/=a.length,m/=d.length;let y=0,g=0;for(let v=0;v<a.length;v++)y+=(h-a[v])**2;y/=a.length-1;for(let v=0;v<d.length;v++)g+=(m-d[v])**2;return g/=d.length-1,i.centralF.cdf(y/g,a.length-1,d.length-1)*2},FISHER:l=>{if(l=r.accept(l,n.NUMBER),l<=-1||l>=1)throw e.NUM;return Math.log((1+l)/(1-l))/2},FISHERINV:l=>{l=r.accept(l,n.NUMBER);let u=Math.exp(2*l);return(u-1)/(u+1)},FORECAST:(l,u,a)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.ARRAY,void 0,!0,!0),a=r.accept(a,n.ARRAY,void 0,!0,!0),a.length!==u.length)throw e.NA;const d=[],h=[];let m=!0;for(let b=0;b<u.length;b++)typeof u[b]!="number"||typeof a[b]!="number"||(d.push(u[b]),h.push(a[b]),a[b]!==a[0]&&(m=!1));if(m)throw e.DIV0;const y=i.mean(d),g=i.mean(h);let v=0,w=0;for(let b=0;b<d.length;b++)v+=(h[b]-g)*(d[b]-y),w+=(h[b]-g)**2;const T=v/w;return y-T*g+T*l},"FORECAST.ETS":()=>{},"FORECAST.ETS.CONFINT":()=>{},"FORECAST.ETS.SEASONALITY":()=>{},"FORECAST.ETS.STAT":()=>{},"FORECAST.LINEAR":(...l)=>c.FORECAST(...l),FREQUENCY:(l,u)=>{l=r.accept(l,n.ARRAY,void 0,!0,!0),u=r.accept(u,n.ARRAY,void 0,!0,!0);const a=[];for(let h=0;h<u.length;h++)typeof u[h]=="number"&&a.push(u[h]);a.sort(),a.push(1/0);const d=[];for(let h=0;h<a.length;h++){d[h]=[],d[h][0]=0;for(let m=0;m<l.length;m++){if(typeof l[m]!="number")continue;l[m]<=a[h]&&(d[h][0]++,l[m]=null)}}return d},GAMMA:l=>{if(l=r.accept(l,n.NUMBER),l===0||l<0&&l===Math.trunc(l))throw e.NUM;return i.gammafn(l)},"GAMMA.DIST":(l,u,a,d)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),d=r.accept(d,n.BOOLEAN),l<0||u<=0||a<=0)throw e.NUM;return d?i.gamma.cdf(l,u,a,!0):i.gamma.pdf(l,u,a,!1)},"GAMMA.INV":(l,u,a)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),l<0||l>1||u<=0||a<=0)throw e.NUM;return i.gamma.inv(l,u,a)},GAMMALN:l=>{if(l=r.accept(l,n.NUMBER),l<=0)throw e.NUM;return i.gammaln(l)},"GAMMALN.PRECISE":l=>{if(l=r.accept(l,n.NUMBER),l<=0)throw e.NUM;return i.gammaln(l)},GAUSS:l=>(l=r.accept(l,n.NUMBER),i.normal.cdf(l,0,1)-.5),GEOMEAN:(...l)=>{const u=[];return r.flattenParams(l,n.NUMBER,!0,(a,d)=>{typeof a=="number"&&u.push(a)}),i.geomean(u)},GROWTH:(l,u,a,d)=>{l=r.accept(l,n.ARRAY,void 0,!0,!0);for(let S=0;S<l.length;S++)if(typeof l[S]!="number")throw e.VALUE;u=r.accept(u,n.ARRAY,null,!0,!0);const h=u==null;if(u==null){u=[];for(let S=1;S<=l.length;S++)u.push(S)}else{if(u.length!==l.length)throw e.REF;for(let S=0;S<u.length;S++)if(typeof u[S]!="number")throw e.VALUE}if(a=r.accept(a,n.ARRAY,null,!1,!0),a==null&&h){a=[];for(let S=1;S<=l.length;S++)a.push(S);a=[a]}else a==null&&(a=Array.isArray(u[0])?u:[u]);d=r.accept(d,n.BOOLEAN,!0);const m=l.length;let y=0,g=0,v=0,w=0;for(let S=0;S<m;S++){const x=u[S],O=Math.log(l[S]);y+=x,g+=O,v+=x*O,w+=x*x}y/=m,g/=m,v/=m,w/=m;let T,N;d?(T=(v-y*g)/(w-y*y),N=g-T*y):(T=v/w,N=0);const b=[];for(let S=0;S<a.length;S++){b[S]=[];for(let x=0;x<a[0].length;x++){if(typeof a[S][x]!="number")throw e.VALUE;b[S][x]=Math.exp(N+T*a[S][x])}}return b},HARMEAN:(...l)=>{let u=0,a=0;return r.flattenParams(l,n.NUMBER,!0,(d,h)=>{typeof d=="number"&&(a+=1/d,u++)}),u/a},"HYPGEOM.DIST":(l,u,a,d,h)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),d=r.accept(d,n.NUMBER),h=r.accept(h,n.BOOLEAN),l=Math.trunc(l),u=Math.trunc(u),a=Math.trunc(a),d=Math.trunc(d),d<=0||l<0||u<=0||a<=0||u>d||a>d||u<l||a<l||l<u-d+a)throw e.NUM;function m(g,v,w,T){return o.COMBIN(w,g)*o.COMBIN(T-w,v-g)/o.COMBIN(T,v)}function y(g,v,w,T){let N=0;for(let b=0;b<=g;b++)N+=m(b,v,w,T);return N}return h?y(l,u,a,d):m(l,u,a,d)},INTERCEPT:(l,u)=>{if(l=r.accept(l,n.ARRAY,void 0,!0,!0),u=r.accept(u,n.ARRAY,void 0,!0,!0),u.length!==l.length)throw e.NA;const a=[],d=[];for(let w=0;w<l.length;w++)typeof l[w]!="number"||typeof u[w]!="number"||(a.push(l[w]),d.push(u[w]));if(a.length<=1)throw e.DIV0;const h=i.mean(a),m=i.mean(d);let y=0,g=0;for(let w=0;w<a.length;w++)y+=(d[w]-m)*(a[w]-h),g+=(d[w]-m)**2;const v=y/g;return h-v*m},KURT:(...l)=>{let u=0,a=[];r.flattenParams(l,n.NUMBER,!0,(m,y)=>{typeof m=="number"&&(u+=m,a.push(m))});const d=a.length;u/=d;let h=0;for(let m=0;m<d;m++)h+=Math.pow(a[m]-u,4);return h=h/Math.pow(i.stdev(a,!0),4),d*(d+1)/((d-1)*(d-2)*(d-3))*h-3*(d-1)*(d-1)/((d-2)*(d-3))},LINEST:()=>{},LOGEST:()=>{},"LOGNORM.DIST":(l,u,a,d)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),d=r.accept(d,n.BOOLEAN),l<=0||a<=0)throw e.NUM;return d?i.lognormal.cdf(l,u,a):i.lognormal.pdf(l,u,a)},"LOGNORM.INV":(l,u,a)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),l<=0||l>=1||a<=0)throw e.NUM;return i.lognormal.inv(l,u,a)},"MODE.MULT":()=>{},"MODE.SNGL":()=>{},"NEGBINOM.DIST":(l,u,a,d)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),d=r.accept(d,n.BOOLEAN),l=Math.trunc(l),u=Math.trunc(u),a<0||a>1||l<0||u<1)throw e.NUM;return d?i.negbin.cdf(l,u,a):i.negbin.pdf(l,u,a)},"NORM.DIST":(l,u,a,d)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),d=r.accept(d,n.BOOLEAN),a<=0)throw e.NUM;return d?i.normal.cdf(l,u,a):i.normal.pdf(l,u,a)},"NORM.INV":(l,u,a)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),l<=0||l>=1||a<=0)throw e.NUM;return i.normal.inv(l,u,a)},"NORM.S.DIST":(l,u)=>(l=r.accept(l,n.NUMBER),u=r.accept(u,n.BOOLEAN),u?i.normal.cdf(l,0,1):i.normal.pdf(l,0,1)),"NORM.S.INV":l=>{if(l=r.accept(l,n.NUMBER),l<=0||l>=1)throw e.NUM;return i.normal.inv(l,0,1)},PEARSON:()=>{},"PERCENTILE.EXC":()=>{},"PERCENTILE.INC":()=>{},"PERCENTRANK.EXC":()=>{},"PERCENTRANK.INC":()=>{},PERMUTATIONA:()=>{},PHI:l=>(l=r.accept(l,n.NUMBER),Math.exp(-.5*l*l)/s),"POISSON.DIST":(l,u,a)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.BOOLEAN),l<0||u<0)throw e.NUM;return l=Math.trunc(l),a?i.poisson.cdf(l,u):i.poisson.pdf(l,u)},PROB:()=>{},"QUARTILE.EXC":()=>{},"QUARTILE.INC":()=>{},"RANK.AVG":()=>{},"RANK.EQ":()=>{},RSQ:()=>{},SKEW:()=>{},"SKEW.P":()=>{},SLOPE:()=>{},STANDARDIZE:(l,u,a)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),a<=0)throw e.NUM;return(l-u)/a},"STDEV.P":()=>{},"STDEV.S":()=>{},STDEVA:()=>{},STDEVPA:()=>{},STEYX:()=>{},"T.DIST":(l,u,a)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.BOOLEAN),u<1)throw e.NUM;return a?i.studentt.cdf(l,u):i.studentt.pdf(l,u)},"T.DIST.2T":(l,u)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),u<1||l<0)throw e.NUM;return(1-i.studentt.cdf(l,u))*2},"T.DIST.RT":(l,u)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),u<1)throw e.NUM;return 1-i.studentt.cdf(l,u)},"T.INV":(l,u)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),l<=0||l>1||u<1)throw e.NUM;return u=u%1===0?u:Math.trunc(u),i.studentt.inv(l,u)},"T.INV.2T":(l,u)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),l<=0||l>1||u<1)throw e.NUM;return u=u%1===0?u:Math.trunc(u),Math.abs(i.studentt.inv(l/2,u))},"T.TEST":()=>{},TREND:()=>{},TRIMMEAN:()=>{},"VAR.P":()=>{},"VAR.S":()=>{},VARA:()=>{},VARPA:()=>{},"WEIBULL.DIST":(l,u,a,d)=>{if(l=r.accept(l,n.NUMBER),u=r.accept(u,n.NUMBER),a=r.accept(a,n.NUMBER),d=r.accept(d,n.BOOLEAN),l<0||u<=0||a<=0)throw e.NUM;return d?1-Math.exp(-Math.pow(l/a,u)):Math.pow(l,u-1)*Math.exp(-Math.pow(l/a,u))*u/Math.pow(a,u)},"Z.TEST":()=>{}};return v0={DistributionFunctions:c},v0}var y0,Tx;function LB(){if(Tx)return y0;Tx=1;const e=fn(),{FormulaHelpers:t,Types:n,Criteria:r,Address:i}=xn(),{Infix:o}=cm(),s=t,{DistributionFunctions:c}=PB();return y0=Object.assign({AVEDEV:(...u)=>{let a=0;const d=[];s.flattenParams(u,n.NUMBER,!0,(m,y)=>{typeof m=="number"&&(a+=m,d.push(m))});const h=a/d.length;a=0;for(let m=0;m<d.length;m++)a+=Math.abs(d[m]-h);return a/d.length},AVERAGE:(...u)=>{let a=0,d=0;return s.flattenParams(u,n.NUMBER,!0,(h,m)=>{typeof h=="number"&&(a+=h,d++)}),a/d},AVERAGEA:(...u)=>{let a=0,d=0;return s.flattenParams(u,n.NUMBER,!0,(h,m)=>{const y=typeof h;y==="number"?(a+=h,d++):y==="string"&&d++}),a/d},AVERAGEIF:(u,a,d,h)=>{const m=s.retrieveRanges(u,a,h);a=m[0],h=m[1],d=s.retrieveArg(u,d);const y=d.isArray;d=r.parse(s.accept(d));let g=0,v=0;if(a.forEach((w,T)=>{w.forEach((N,b)=>{const S=h[T][b];typeof S=="number"&&(d.op==="wc"?d.match===d.value.test(N)&&(g+=S,v++):o.compareOp(N,d.op,d.value,Array.isArray(N),y)&&(g+=S,v++))})}),v===0)throw e.DIV0;return g/v},AVERAGEIFS:()=>{},COUNT:(...u)=>{let a=0;return s.flattenParams(u,null,!0,(d,h)=>{(h.isLiteral&&!isNaN(d)||typeof d=="number")&&a++}),a},COUNTIF:(u,a)=>{u=s.accept(u,n.ARRAY,void 0,!1,!0);const d=a.isArray;a=s.accept(a);let h=0;return a=r.parse(a),u.forEach(m=>{m.forEach(y=>{a.op==="wc"?a.match===a.value.test(y)&&h++:o.compareOp(y,a.op,a.value,Array.isArray(y),d)&&h++})}),h},LARGE:()=>{},MAX:()=>{},MAXA:()=>{},MAXIFS:()=>{},MEDIAN:()=>{},MIN:()=>{},MINA:()=>{},MINIFS:()=>{},PERMUT:()=>{},PERMUTATIONA:()=>{},SMALL:()=>{}},c),y0}var E0,_x;function DB(){if(_x)return E0;_x=1;const e=fn(),{FormulaHelpers:t,Types:n}=xn(),r=t,i=1e3*60*60*24,o=new Date(Date.UTC(1900,0,1)),s=[void 0,0,1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,1,2,3,4,5,6,0],c=[void 0,[1,2,3,4,5,6,7],[7,1,2,3,4,5,6],[6,0,1,2,3,4,5],void 0,void 0,void 0,void 0,void 0,void 0,void 0,[7,1,2,3,4,5,6],[6,7,1,2,3,4,5],[5,6,7,1,2,3,4],[4,5,6,7,1,2,3],[3,4,5,6,7,1,2],[2,3,4,5,6,7,1],[1,2,3,4,5,6,7]],l=[void 0,[6,0],[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],void 0,void 0,void 0,[0],[1],[2],[3],[4],[5],[6]],u=/^\s*(\d\d?)\s*(:\s*\d\d?)?\s*(:\s*\d\d?)?\s*(pm|am)?\s*$/i,a=/^\s*((\d\d?)\s*([-\/])\s*(\d\d?))([\d:.apm\s]*)$/i,d=/^\s*((\d\d?)\s*([-/])\s*(jan\w*|feb\w*|mar\w*|apr\w*|may\w*|jun\w*|jul\w*|aug\w*|sep\w*|oct\w*|nov\w*|dec\w*))([\d:.apm\s]*)$/i,h=/^\s*((jan\w*|feb\w*|mar\w*|apr\w*|may\w*|jun\w*|jul\w*|aug\w*|sep\w*|oct\w*|nov\w*|dec\w*)\s*([-/])\s*(\d\d?))([\d:.apm\s]*)$/i;function m(x){const O=x.match(a),M=x.match(d),U=x.match(h);return O?x=O[1]+O[3]+new Date().getFullYear()+O[5]:M?x=M[1]+M[3]+new Date().getFullYear()+M[5]:U&&(x=U[1]+U[3]+new Date().getFullYear()+U[5]),new Date(Date.parse(`${x} UTC`))}function y(x){const O=x.match(u);if(!O)return;const M=O[2]?O[2]:":00",U=O[3]?O[3]:":00",z=O[4]?" "+O[4]:"",Q=new Date(Date.parse(`1/1/1900 ${O[1]+M+U+z} UTC`));let ee=new Date;return ee=new Date(Date.UTC(ee.getFullYear(),ee.getMonth(),ee.getDate(),ee.getHours(),ee.getMinutes(),ee.getSeconds(),ee.getMilliseconds())),new Date(Date.UTC(ee.getUTCFullYear(),ee.getUTCMonth(),ee.getUTCDate(),Q.getUTCHours(),Q.getUTCMinutes(),Q.getUTCSeconds(),Q.getUTCMilliseconds()))}function g(x){const O=x>-22038912e5?2:1;return Math.floor((x-o)/864e5)+O}function v(x){if(x<0)throw e.VALUE;return x<=60?new Date(o.getTime()+(x-1)*864e5):new Date(o.getTime()+(x-2)*864e5)}function w(x){if(x instanceof Date)return{date:x};x=r.accept(x);let O=!0,M;return isNaN(x)?(M=y(x),M?O=!1:M=m(x)):(x=Number(x),M=v(x)),{date:M,isDateGiven:O}}function T(x){return w(x).date}function N(x,O){return x.getUTCFullYear()===O.getUTCFullYear()&&x.getUTCMonth()===O.getUTCMonth()&&x.getUTCDate()===O.getUTCDate()}function b(x){return x===1900?!0:new Date(x,1,29).getMonth()===1}const S={DATE:(x,O,M)=>{if(x=r.accept(x,n.NUMBER),O=r.accept(O,n.NUMBER),M=r.accept(M,n.NUMBER),x<0||x>=1e4)throw e.NUM;return x<1900&&(x+=1900),g(Date.UTC(x,O-1,M))},DATEDIF:(x,O,M)=>{if(x=T(x),O=T(O),M=r.accept(M,n.STRING).toLowerCase(),x>O)throw e.NUM;const U=O.getUTCFullYear()-x.getUTCFullYear(),z=O.getUTCMonth()-x.getUTCMonth(),Q=O.getUTCDate()-x.getUTCDate();let ee;switch(M){case"y":return ee=z<0||z===0&&Q<0?-1:0,ee+U;case"m":return ee=Q<0?-1:0,U*12+z+ee;case"d":return Math.floor(O-x)/i;case"md":return x.setUTCFullYear(O.getUTCFullYear()),Q<0?x.setUTCMonth(O.getUTCMonth()-1):x.setUTCMonth(O.getUTCMonth()),Math.floor(O-x)/i;case"ym":return ee=Q<0?-1:0,(ee+U*12+z)%12;case"yd":return z<0||z===0&&Q<0?x.setUTCFullYear(O.getUTCFullYear()-1):x.setUTCFullYear(O.getUTCFullYear()),Math.floor(O-x)/i}},DATEVALUE:x=>{x=r.accept(x,n.STRING);const{date:O,isDateGiven:M}=w(x);if(!M)return 0;const U=g(O);if(U<0||U>2958465)throw e.VALUE;return U},DAY:x=>T(x).getUTCDate(),DAYS:(x,O)=>{x=T(x),O=T(O);let M=0;return O<-22038912e5&&-22038912e5<x&&(M=1),Math.floor(x-O)/i+M},DAYS360:(x,O,M)=>{x=T(x),O=T(O),M=r.accept(M,n.BOOLEAN,!1),x.getUTCDate()===31&&x.setUTCDate(30),!M&&x.getUTCDate()<30&&O.getUTCDate()>30?O.setUTCMonth(O.getUTCMonth()+1,1):O.getUTCDate()===31&&O.setUTCDate(30);const U=O.getUTCFullYear()-x.getUTCFullYear(),z=O.getUTCMonth()-x.getUTCMonth(),Q=O.getUTCDate()-x.getUTCDate();return z*30+Q+U*12*30},EDATE:(x,O)=>(x=T(x),O=r.accept(O,n.NUMBER),x.setUTCMonth(x.getUTCMonth()+O),g(x)),EOMONTH:(x,O)=>(x=T(x),O=r.accept(O,n.NUMBER),x.setUTCMonth(x.getUTCMonth()+O+1,0),g(x)),HOUR:x=>T(x).getUTCHours(),ISOWEEKNUM:x=>{const O=T(x),M=new Date(Date.UTC(O.getFullYear(),O.getMonth(),O.getDate())),U=M.getUTCDay();M.setUTCDate(M.getUTCDate()+4-U);const z=new Date(Date.UTC(M.getUTCFullYear(),0,1));return Math.ceil(((M-z)/864e5+1)/7)},MINUTE:x=>T(x).getUTCMinutes(),MONTH:x=>T(x).getUTCMonth()+1,NETWORKDAYS:(x,O,M)=>{x=T(x),O=T(O);let U=1;if(x>O){U=-1;const ee=x;x=O,O=ee}const z=[];M!=null&&r.flattenParams([M],n.NUMBER,!1,ee=>{z.push(T(ee))});let Q=0;for(;x<=O;){if(x.getUTCDay()!==0&&x.getUTCDay()!==6){let ee=!1;for(let X=0;X<z.length;X++)if(N(x,z[X])){ee=!0;break}ee||Q++}x.setUTCDate(x.getUTCDate()+1)}return U*Q},"NETWORKDAYS.INTL":(x,O,M,U)=>{x=T(x),O=T(O);let z=1;if(x>O){z=-1;const X=x;x=O,O=X}if(M=r.accept(M,null,1),M==="1111111")return 0;if(typeof M=="string"&&Number(M).toString()!==M){if(M.length!==7)throw e.VALUE;M=M.charAt(6)+M.slice(0,6);const X=[];for(let F=0;F<M.length;F++)M.charAt(F)==="1"&&X.push(F);M=X}else{if(typeof M!="number")throw e.VALUE;M=l[M]}const Q=[];U!=null&&r.flattenParams([U],n.NUMBER,!1,X=>{Q.push(T(X))});let ee=0;for(;x<=O;){let X=!1;for(let F=0;F<M.length;F++)if(M[F]===x.getUTCDay()){X=!0;break}if(!X){let F=!1;for(let J=0;J<Q.length;J++)if(N(x,Q[J])){F=!0;break}F||ee++}x.setUTCDate(x.getUTCDate()+1)}return z*ee},NOW:()=>{const x=new Date;return g(Date.UTC(x.getFullYear(),x.getMonth(),x.getDate(),x.getHours(),x.getMinutes(),x.getSeconds(),x.getMilliseconds()))+(3600*x.getHours()+60*x.getMinutes()+x.getSeconds())/86400},SECOND:x=>T(x).getUTCSeconds(),TIME:(x,O,M)=>{if(x=r.accept(x,n.NUMBER),O=r.accept(O,n.NUMBER),M=r.accept(M,n.NUMBER),x<0||x>32767||O<0||O>32767||M<0||M>32767)throw e.NUM;return(3600*x+60*O+M)/86400},TIMEVALUE:x=>(x=T(x),(3600*x.getUTCHours()+60*x.getUTCMinutes()+x.getUTCSeconds())/86400),TODAY:()=>{const x=new Date;return g(Date.UTC(x.getFullYear(),x.getMonth(),x.getDate()))},WEEKDAY:(x,O)=>{const M=T(x);O=r.accept(O,n.NUMBER,1);const U=M.getUTCDay(),z=c[O];if(!z)throw e.NUM;return z[U]},WEEKNUM:(x,O)=>{const M=T(x);if(O=r.accept(O,n.NUMBER,1),O===21)return S.ISOWEEKNUM(x);const U=s[O],z=new Date(Date.UTC(M.getUTCFullYear(),0,1)),Q=z.getUTCDay()<U?1:0;return Math.ceil(((M-z)/864e5+1)/7)+Q},WORKDAY:(x,O,M)=>S["WORKDAY.INTL"](x,O,1,M),"WORKDAY.INTL":(x,O,M,U)=>{if(x=T(x),O=r.accept(O,n.NUMBER),M=r.accept(M,null,1),M==="1111111")throw e.VALUE;if(typeof M=="string"&&Number(M).toString()!==M){if(M.length!==7)throw e.VALUE;M=M.charAt(6)+M.slice(0,6);const ee=[];for(let X=0;X<M.length;X++)M.charAt(X)==="1"&&ee.push(X);M=ee}else{if(typeof M!="number")throw e.VALUE;if(M=l[M],M==null)throw e.NUM}const z=[];U!=null&&r.flattenParams([U],n.NUMBER,!1,ee=>{z.push(T(ee))}),x.setUTCDate(x.getUTCDate()+1);let Q=0;for(;Q<O;){let ee=!1;for(let X=0;X<M.length;X++)if(M[X]===x.getUTCDay()){ee=!0;break}if(!ee){let X=!1;for(let F=0;F<z.length;F++)if(N(x,z[F])){X=!0;break}X||Q++}x.setUTCDate(x.getUTCDate()+1)}return g(x)-1},YEAR:x=>T(x).getUTCFullYear(),YEARFRAC:(x,O,M)=>{if(x=T(x),O=T(O),x>O){const J=x;x=O,O=J}if(M=r.accept(M,n.NUMBER,0),M=Math.trunc(M),M<0||M>4)throw e.VALUE;let U=x.getUTCDate();const z=x.getUTCMonth()+1,Q=x.getUTCFullYear();let ee=O.getUTCDate();const X=O.getUTCMonth()+1,F=O.getUTCFullYear();switch(M){case 0:return U===31&&ee===31?(U=30,ee=30):U===31?U=30:U===30&&ee===31&&(ee=30),Math.abs(ee+X*30+F*360-(U+z*30+Q*360))/360;case 1:if(F-Q<2){const J=b(Q)&&Q!==1900?366:365;return S.DAYS(O,x)/J}else{const J=F-Q+1,te=(new Date(F+1,0,1)-new Date(Q,0,1))/1e3/60/60/24/J;return S.DAYS(O,x)/te}case 2:return Math.abs(S.DAYS(O,x)/360);case 3:return Math.abs(S.DAYS(O,x)/365);case 4:return Math.abs(ee+X*30+F*360-(U+z*30+Q*360))/360}}};return E0=S,E0}var w0,Nx;function FB(){if(Nx)return w0;Nx=1;const e=fn(),{FormulaHelpers:t,Types:n}=xn(),r=t;return w0={ENCODEURL:o=>encodeURIComponent(r.accept(o,n.STRING)),FILTERXML:()=>{},WEBSERVICE:(o,s)=>{throw e.ERROR("WEBSERVICE is not supported in sync mode.")}},w0}var Wy="7.1.2";function Ot(e){return e&&e.length===0}function di(e){return e==null?[]:Object.keys(e)}function ar(e){for(var t=[],n=Object.keys(e),r=0;r<n.length;r++)t.push(e[n[r]]);return t}function UB(e,t){for(var n=[],r=di(e),i=0;i<r.length;i++){var o=r[i];n.push(t.call(null,e[o],o))}return n}function Fe(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t.call(null,e[r],r));return n}function _r(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?t=t.concat(_r(r)):t.push(r)}return t}function hi(e){return Ot(e)?void 0:e[0]}function LC(e){var t=e&&e.length;return t?e[t-1]:void 0}function qe(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t.call(null,e[n],n);else if(Ww(e))for(var r=di(e),n=0;n<r.length;n++){var i=r[n],o=e[i];t.call(null,o,i)}else throw Error("non exhaustive match")}function Vi(e){return typeof e=="string"}function Eo(e){return e===void 0}function Is(e){return e instanceof Function}function Cn(e,t){return t===void 0&&(t=1),e.slice(t,e.length)}function tf(e,t){return t===void 0&&(t=1),e.slice(0,e.length-t)}function Ei(e,t){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r++){var i=e[r];t.call(null,i)&&n.push(i)}return n}function El(e,t){return Ei(e,function(n){return!t(n)})}function wi(e,t){for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i],s=e[o];t(s)&&(r[o]=s)}return r}function Ye(e,t){return Ww(e)?e.hasOwnProperty(t):!1}function cn(e,t){return rl(e,function(n){return n===t})!==void 0}function fr(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function bf(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function rl(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t.call(null,r))return r}}function BB(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];t.call(null,i)&&n.push(i)}return n}function Pn(e,t,n){for(var r=Array.isArray(e),i=r?e:ar(e),o=r?[]:di(e),s=n,c=0;c<i.length;c++)s=t.call(null,s,i[c],r?c:o[c]);return s}function xf(e){return El(e,function(t){return t==null})}function qw(e,t){t===void 0&&(t=function(r){return r});var n=[];return Pn(e,function(r,i){var o=t(i);return cn(n,o)?r:(n.push(o),r.concat(i))},[])}function Mi(e){return Array.isArray(e)}function wo(e){return e instanceof RegExp}function Ww(e){return e instanceof Object}function Fr(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}function fm(e,t){return El(e,function(n){return cn(t,n)})}function DC(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}function $B(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function Ti(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var i=t[r],o=di(i),s=0;s<o.length;s++){var c=o[s];e[c]=i[c]}return e}function VB(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var i=t[r],o=di(i),s=0;s<o.length;s++){var c=o[s];Ye(e,c)||(e[c]=i[c])}return e}function Hw(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return VB.apply(null,[{}].concat(e))}function jB(e,t){var n={};return qe(e,function(r){var i=t(r),o=n[i];o?o.push(r):n[i]=[r]}),n}function bx(e,t){for(var n=bf(e),r=di(t),i=0;i<r.length;i++){var o=r[i],s=t[o];n[o]=s}return n}function yn(){}function xx(e){return e}function zB(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r!==void 0?r:void 0)}return t}function Hy(e){console&&console.error&&console.error("Error: "+e)}function FC(e){console&&console.warn&&console.warn("Warning: "+e)}function Rx(){return typeof Map=="function"}function qB(e,t){t.forEach(function(n){var r=n.prototype;Object.getOwnPropertyNames(r).forEach(function(i){if(i!=="constructor"){var o=Object.getOwnPropertyDescriptor(r,i);o&&(o.get||o.set)?Object.defineProperty(e.prototype,i,o):e.prototype[i]=n.prototype[i]}})})}function UC(e){function t(){}t.prototype=e;var n=new t;function r(){return typeof n.bar}return r(),r(),e}function yp(e){return e[e.length-1]}function BC(e){var t=new Date().getTime(),n=e(),r=new Date().getTime(),i=r-t;return{time:i,value:n}}var qh={exports:{}},WB=qh.exports,Sx;function HB(){return Sx||(Sx=1,function(e){(function(t,n){e.exports?e.exports=n():t.regexpToAst=n()})(typeof self<"u"?self:WB,function(){function t(){}t.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},t.prototype.restoreState=function(g){this.idx=g.idx,this.input=g.input,this.groupIdx=g.groupIdx},t.prototype.pattern=function(g){this.idx=0,this.input=g,this.groupIdx=0,this.consumeChar("/");var v=this.disjunction();this.consumeChar("/");for(var w={type:"Flags",loc:{begin:this.idx,end:g.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":c(w,"global");break;case"i":c(w,"ignoreCase");break;case"m":c(w,"multiLine");break;case"u":c(w,"unicode");break;case"y":c(w,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:w,value:v,loc:this.loc(0)}},t.prototype.disjunction=function(){var g=[],v=this.idx;for(g.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),g.push(this.alternative());return{type:"Disjunction",value:g,loc:this.loc(v)}},t.prototype.alternative=function(){for(var g=[],v=this.idx;this.isTerm();)g.push(this.term());return{type:"Alternative",value:g,loc:this.loc(v)}},t.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},t.prototype.assertion=function(){var g=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(g)};case"$":return{type:"EndAnchor",loc:this.loc(g)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(g)};case"B":return{type:"NonWordBoundary",loc:this.loc(g)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");var v;switch(this.popChar()){case"=":v="Lookahead";break;case"!":v="NegativeLookahead";break}l(v);var w=this.disjunction();return this.consumeChar(")"),{type:v,value:w,loc:this.loc(g)}}u()},t.prototype.quantifier=function(g){var v,w=this.idx;switch(this.popChar()){case"*":v={atLeast:0,atMost:1/0};break;case"+":v={atLeast:1,atMost:1/0};break;case"?":v={atLeast:0,atMost:1};break;case"{":var T=this.integerIncludingZero();switch(this.popChar()){case"}":v={atLeast:T,atMost:T};break;case",":var N;this.isDigit()?(N=this.integerIncludingZero(),v={atLeast:T,atMost:N}):v={atLeast:T,atMost:1/0},this.consumeChar("}");break}if(g===!0&&v===void 0)return;l(v);break}if(!(g===!0&&v===void 0))return l(v),this.peekChar(0)==="?"?(this.consumeChar("?"),v.greedy=!1):v.greedy=!0,v.type="Quantifier",v.loc=this.loc(w),v},t.prototype.atom=function(){var g,v=this.idx;switch(this.peekChar()){case".":g=this.dotAll();break;case"\\":g=this.atomEscape();break;case"[":g=this.characterClass();break;case"(":g=this.group();break}return g===void 0&&this.isPatternCharacter()&&(g=this.patternCharacter()),l(g),g.loc=this.loc(v),this.isQuantifier()&&(g.quantifier=this.quantifier()),g},t.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[o(`
`),o("\r"),o("\u2028"),o("\u2029")]}},t.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.decimalEscapeAtom=function(){var g=this.positiveInteger();return{type:"GroupBackReference",value:g}},t.prototype.characterClassEscape=function(){var g,v=!1;switch(this.popChar()){case"d":g=d;break;case"D":g=d,v=!0;break;case"s":g=m;break;case"S":g=m,v=!0;break;case"w":g=h;break;case"W":g=h,v=!0;break}return l(g),{type:"Set",value:g,complement:v}},t.prototype.controlEscapeAtom=function(){var g;switch(this.popChar()){case"f":g=o("\f");break;case"n":g=o(`
`);break;case"r":g=o("\r");break;case"t":g=o("	");break;case"v":g=o("\v");break}return l(g),{type:"Character",value:g}},t.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var g=this.popChar();if(/[a-zA-Z]/.test(g)===!1)throw Error("Invalid ");var v=g.toUpperCase().charCodeAt(0)-64;return{type:"Character",value:v}},t.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:o("\0")}},t.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},t.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},t.prototype.identityEscapeAtom=function(){var g=this.popChar();return{type:"Character",value:o(g)}},t.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:var g=this.popChar();return{type:"Character",value:o(g)}}},t.prototype.characterClass=function(){var g=[],v=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),v=!0);this.isClassAtom();){var w=this.classAtom(),T=w.type==="Character";if(T&&this.isRangeDash()){this.consumeChar("-");var N=this.classAtom(),b=N.type==="Character";if(b){if(N.value<w.value)throw Error("Range out of order in character class");g.push({from:w.value,to:N.value})}else s(w.value,g),g.push(o("-")),s(N.value,g)}else s(w.value,g)}return this.consumeChar("]"),{type:"Set",complement:v,value:g}},t.prototype.classAtom=function(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},t.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:o("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.group=function(){var g=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),g=!1;break;default:this.groupIdx++;break}var v=this.disjunction();this.consumeChar(")");var w={type:"Group",capturing:g,value:v};return g&&(w.idx=this.groupIdx),w},t.prototype.positiveInteger=function(){var g=this.popChar();if(i.test(g)===!1)throw Error("Expecting a positive integer");for(;r.test(this.peekChar(0));)g+=this.popChar();return parseInt(g,10)},t.prototype.integerIncludingZero=function(){var g=this.popChar();if(r.test(g)===!1)throw Error("Expecting an integer");for(;r.test(this.peekChar(0));)g+=this.popChar();return parseInt(g,10)},t.prototype.patternCharacter=function(){var g=this.popChar();switch(g){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:o(g)}}},t.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},t.prototype.isRangeDash=function(){return this.peekChar()==="-"&&this.isClassAtom(1)},t.prototype.isDigit=function(){return r.test(this.peekChar(0))},t.prototype.isClassAtom=function(g){switch(g===void 0&&(g=0),this.peekChar(g)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},t.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},t.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}},t.prototype.isQuantifier=function(){var g=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(g)}},t.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.parseHexDigits=function(g){for(var v="",w=0;w<g;w++){var T=this.popChar();if(n.test(T)===!1)throw Error("Expecting a HexDecimal digits");v+=T}var N=parseInt(v,16);return{type:"Character",value:N}},t.prototype.peekChar=function(g){return g===void 0&&(g=0),this.input[this.idx+g]},t.prototype.popChar=function(){var g=this.peekChar(0);return this.consumeChar(),g},t.prototype.consumeChar=function(g){if(g!==void 0&&this.input[this.idx]!==g)throw Error("Expected: '"+g+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},t.prototype.loc=function(g){return{begin:g,end:this.idx}};var n=/[0-9a-fA-F]/,r=/[0-9]/,i=/[1-9]/;function o(g){return g.charCodeAt(0)}function s(g,v){g.length!==void 0?g.forEach(function(w){v.push(w)}):v.push(g)}function c(g,v){if(g[v]===!0)throw"duplicate flag "+v;g[v]=!0}function l(g){if(g===void 0)throw Error("Internal Error - Should never get here!")}function u(){throw Error("Internal Error - Should never get here!")}var a,d=[];for(a=o("0");a<=o("9");a++)d.push(a);var h=[o("_")].concat(d);for(a=o("a");a<=o("z");a++)h.push(a);for(a=o("A");a<=o("Z");a++)h.push(a);var m=[o(" "),o("\f"),o(`
`),o("\r"),o("	"),o("\v"),o("	"),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o("\u2028"),o("\u2029"),o(""),o(""),o(""),o("\uFEFF")];function y(){}return y.prototype.visitChildren=function(g){for(var v in g){var w=g[v];g.hasOwnProperty(v)&&(w.type!==void 0?this.visit(w):Array.isArray(w)&&w.forEach(function(T){this.visit(T)},this))}},y.prototype.visit=function(g){switch(g.type){case"Pattern":this.visitPattern(g);break;case"Flags":this.visitFlags(g);break;case"Disjunction":this.visitDisjunction(g);break;case"Alternative":this.visitAlternative(g);break;case"StartAnchor":this.visitStartAnchor(g);break;case"EndAnchor":this.visitEndAnchor(g);break;case"WordBoundary":this.visitWordBoundary(g);break;case"NonWordBoundary":this.visitNonWordBoundary(g);break;case"Lookahead":this.visitLookahead(g);break;case"NegativeLookahead":this.visitNegativeLookahead(g);break;case"Character":this.visitCharacter(g);break;case"Set":this.visitSet(g);break;case"Group":this.visitGroup(g);break;case"GroupBackReference":this.visitGroupBackReference(g);break;case"Quantifier":this.visitQuantifier(g);break}this.visitChildren(g)},y.prototype.visitPattern=function(g){},y.prototype.visitFlags=function(g){},y.prototype.visitDisjunction=function(g){},y.prototype.visitAlternative=function(g){},y.prototype.visitStartAnchor=function(g){},y.prototype.visitEndAnchor=function(g){},y.prototype.visitWordBoundary=function(g){},y.prototype.visitNonWordBoundary=function(g){},y.prototype.visitLookahead=function(g){},y.prototype.visitNegativeLookahead=function(g){},y.prototype.visitCharacter=function(g){},y.prototype.visitSet=function(g){},y.prototype.visitGroup=function(g){},y.prototype.visitGroupBackReference=function(g){},y.prototype.visitQuantifier=function(g){},{RegExpParser:t,BaseRegExpVisitor:y,VERSION:"0.5.0"}})}(qh)),qh.exports}var Rf=HB(),Wh={},GB=new Rf.RegExpParser;function dm(e){var t=e.toString();if(Wh.hasOwnProperty(t))return Wh[t];var n=GB.pattern(t);return Wh[t]=n,n}function YB(){Wh={}}var QB=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$C="Complement Sets are not supported for first char optimization",Ep=`Unable to use "first char" lexer optimizations:
`;function KB(e,t){t===void 0&&(t=!1);try{var n=dm(e),r=Gy(n.value,{},n.flags.ignoreCase);return r}catch(o){if(o.message===$C)t&&FC(""+Ep+("	Unable to optimize: < "+e.toString()+` >
`)+`	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{var i="";t&&(i=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),Hy(Ep+`
`+("	Failed parsing: < "+e.toString()+` >
`)+("	Using the regexp-to-ast library version: "+Rf.VERSION+`
`)+"	Please open an issue at: https://github.com/bd82/regexp-to-ast/issues"+i)}}return[]}function Gy(e,t,n){switch(e.type){case"Disjunction":for(var r=0;r<e.value.length;r++)Gy(e.value[r],t,n);break;case"Alternative":for(var i=e.value,r=0;r<i.length;r++){var o=i[r];switch(o.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var s=o;switch(s.type){case"Character":dh(s.value,t,n);break;case"Set":if(s.complement===!0)throw Error($C);qe(s.value,function(u){if(typeof u=="number")dh(u,t,n);else{var a=u;if(n===!0)for(var d=a.from;d<=a.to;d++)dh(d,t,n);else{for(var d=a.from;d<=a.to&&d<Sc;d++)dh(d,t,n);if(a.to>=Sc)for(var h=a.from>=Sc?a.from:Sc,m=a.to,y=xs(h),g=xs(m),v=y;v<=g;v++)t[v]=v}}});break;case"Group":Gy(s.value,t,n);break;default:throw Error("Non Exhaustive Match")}var c=s.quantifier!==void 0&&s.quantifier.atLeast===0;if(s.type==="Group"&&Yy(s)===!1||s.type!=="Group"&&c===!1)break}break;default:throw Error("non exhaustive match!")}return ar(t)}function dh(e,t,n){var r=xs(e);t[r]=r,n===!0&&XB(e,t)}function XB(e,t){var n=String.fromCharCode(e),r=n.toUpperCase();if(r!==n){var i=xs(r.charCodeAt(0));t[i]=i}else{var o=n.toLowerCase();if(o!==n){var i=xs(o.charCodeAt(0));t[i]=i}}}function Ax(e,t){return rl(e.value,function(n){if(typeof n=="number")return cn(t,n);var r=n;return rl(t,function(i){return r.from<=i&&i<=r.to})!==void 0})}function Yy(e){return e.quantifier&&e.quantifier.atLeast===0?!0:e.value?Mi(e.value)?Fr(e.value,Yy):Yy(e.value):!1}var JB=function(e){QB(t,e);function t(n){var r=e.call(this)||this;return r.targetCharCodes=n,r.found=!1,r}return t.prototype.visitChildren=function(n){if(this.found!==!0){switch(n.type){case"Lookahead":this.visitLookahead(n);return;case"NegativeLookahead":this.visitNegativeLookahead(n);return}e.prototype.visitChildren.call(this,n)}},t.prototype.visitCharacter=function(n){cn(this.targetCharCodes,n.value)&&(this.found=!0)},t.prototype.visitSet=function(n){n.complement?Ax(n,this.targetCharCodes)===void 0&&(this.found=!0):Ax(n,this.targetCharCodes)!==void 0&&(this.found=!0)},t}(Rf.BaseRegExpVisitor);function Gw(e,t){if(t instanceof RegExp){var n=dm(t),r=new JB(e);return r.visit(n),r.found}else return rl(t,function(i){return cn(e,i.charCodeAt(0))})!==void 0}var VC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ji="PATTERN",ua="defaultMode",hh="modes",jC=typeof new RegExp("(?:)").sticky=="boolean";function ZB(e,t){t=Hw(t,{useSticky:jC,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:function(T,N){return N()}});var n=t.tracer;n("initCharCodeToOptimizedIndexMap",function(){_$()});var r;n("Reject Lexer.NA",function(){r=El(e,function(T){return T[ji]===ai.NA})});var i=!1,o;n("Transform Patterns",function(){i=!1,o=Fe(r,function(T){var N=T[ji];if(wo(N)){var b=N.source;return b.length===1&&b!=="^"&&b!=="$"&&b!=="."&&!N.ignoreCase?b:b.length===2&&b[0]==="\\"&&!cn(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],b[1])?b[1]:t.useSticky?Ix(N):Ox(N)}else{if(Is(N))return i=!0,{exec:N};if(Ye(N,"exec"))return i=!0,N;if(typeof N=="string"){if(N.length===1)return N;var S=N.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),x=new RegExp(S);return t.useSticky?Ix(x):Ox(x)}else throw Error("non exhaustive match")}})});var s,c,l,u,a;n("misc mapping",function(){s=Fe(r,function(T){return T.tokenTypeIdx}),c=Fe(r,function(T){var N=T.GROUP;if(N!==ai.SKIPPED){if(Vi(N))return N;if(Eo(N))return!1;throw Error("non exhaustive match")}}),l=Fe(r,function(T){var N=T.LONGER_ALT;if(N){var b=$B(r,N);return b}}),u=Fe(r,function(T){return T.PUSH_MODE}),a=Fe(r,function(T){return Ye(T,"POP_MODE")})});var d;n("Line Terminator Handling",function(){var T=WC(t.lineTerminatorCharacters);d=Fe(r,function(N){return!1}),t.positionTracking!=="onlyOffset"&&(d=Fe(r,function(N){if(Ye(N,"LINE_BREAKS"))return N.LINE_BREAKS;if(qC(N,T)===!1)return Gw(T,N.PATTERN)}))});var h,m,y,g;n("Misc Mapping #2",function(){h=Fe(r,zC),m=Fe(o,E$),y=Pn(r,function(T,N){var b=N.GROUP;return Vi(b)&&b!==ai.SKIPPED&&(T[b]=[]),T},{}),g=Fe(o,function(T,N){return{pattern:o[N],longerAlt:l[N],canLineTerminator:d[N],isCustom:h[N],short:m[N],group:c[N],push:u[N],pop:a[N],tokenTypeIdx:s[N],tokenType:r[N]}})});var v=!0,w=[];return t.safeMode||n("First Char Optimization",function(){w=Pn(r,function(T,N,b){if(typeof N.PATTERN=="string"){var S=N.PATTERN.charCodeAt(0),x=xs(S);T0(T,x,g[b])}else if(Mi(N.START_CHARS_HINT)){var O;qe(N.START_CHARS_HINT,function(U){var z=typeof U=="string"?U.charCodeAt(0):U,Q=xs(z);O!==Q&&(O=Q,T0(T,Q,g[b]))})}else if(wo(N.PATTERN))if(N.PATTERN.unicode)v=!1,t.ensureOptimizations&&Hy(""+Ep+("	Unable to analyze < "+N.PATTERN.toString()+` > pattern.
`)+`	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{var M=KB(N.PATTERN,t.ensureOptimizations);Ot(M)&&(v=!1),qe(M,function(U){T0(T,U,g[b])})}else t.ensureOptimizations&&Hy(""+Ep+("	TokenType: <"+N.name+`> is using a custom token pattern without providing <start_chars_hint> parameter.
`)+`	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),v=!1;return T},[])}),n("ArrayPacking",function(){w=zB(w)}),{emptyGroups:y,patternIdxToConfig:g,charCodeToPatternIdxToConfig:w,hasCustom:i,canBeOptimized:v}}function e$(e,t){var n=[],r=n$(e);n=n.concat(r.errors);var i=r$(r.valid),o=i.valid;return n=n.concat(i.errors),n=n.concat(t$(o)),n=n.concat(f$(o)),n=n.concat(d$(o,t)),n=n.concat(h$(o)),n}function t$(e){var t=[],n=Ei(e,function(r){return wo(r[ji])});return t=t.concat(o$(n)),t=t.concat(u$(n)),t=t.concat(l$(n)),t=t.concat(c$(n)),t=t.concat(s$(n)),t}function n$(e){var t=Ei(e,function(i){return!Ye(i,ji)}),n=Fe(t,function(i){return{message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:Kt.MISSING_PATTERN,tokenTypes:[i]}}),r=fm(e,t);return{errors:n,valid:r}}function r$(e){var t=Ei(e,function(i){var o=i[ji];return!wo(o)&&!Is(o)&&!Ye(o,"exec")&&!Vi(o)}),n=Fe(t,function(i){return{message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Kt.INVALID_PATTERN,tokenTypes:[i]}}),r=fm(e,t);return{errors:n,valid:r}}var i$=/[^\\][\$]/;function o$(e){var t=function(i){VC(o,i);function o(){var s=i!==null&&i.apply(this,arguments)||this;return s.found=!1,s}return o.prototype.visitEndAnchor=function(s){this.found=!0},o}(Rf.BaseRegExpVisitor),n=Ei(e,function(i){var o=i[ji];try{var s=dm(o),c=new t;return c.visit(s),c.found}catch{return i$.test(o.source)}}),r=Fe(n,function(i){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Kt.EOI_ANCHOR_FOUND,tokenTypes:[i]}});return r}function s$(e){var t=Ei(e,function(r){var i=r[ji];return i.test("")}),n=Fe(t,function(r){return{message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:Kt.EMPTY_MATCH_PATTERN,tokenTypes:[r]}});return n}var a$=/[^\\[][\^]|^\^/;function u$(e){var t=function(i){VC(o,i);function o(){var s=i!==null&&i.apply(this,arguments)||this;return s.found=!1,s}return o.prototype.visitStartAnchor=function(s){this.found=!0},o}(Rf.BaseRegExpVisitor),n=Ei(e,function(i){var o=i[ji];try{var s=dm(o),c=new t;return c.visit(s),c.found}catch{return a$.test(o.source)}}),r=Fe(n,function(i){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Kt.SOI_ANCHOR_FOUND,tokenTypes:[i]}});return r}function l$(e){var t=Ei(e,function(r){var i=r[ji];return i instanceof RegExp&&(i.multiline||i.global)}),n=Fe(t,function(r){return{message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Kt.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}});return n}function c$(e){var t=[],n=Fe(e,function(o){return Pn(e,function(s,c){return o.PATTERN.source===c.PATTERN.source&&!cn(t,c)&&c.PATTERN!==ai.NA&&(t.push(c),s.push(c)),s},[])});n=xf(n);var r=Ei(n,function(o){return o.length>1}),i=Fe(r,function(o){var s=Fe(o,function(l){return l.name}),c=hi(o).PATTERN;return{message:"The same RegExp pattern ->"+c+"<-"+("has been used in all of the following Token Types: "+s.join(", ")+" <-"),type:Kt.DUPLICATE_PATTERNS_FOUND,tokenTypes:o}});return i}function f$(e){var t=Ei(e,function(r){if(!Ye(r,"GROUP"))return!1;var i=r.GROUP;return i!==ai.SKIPPED&&i!==ai.NA&&!Vi(i)}),n=Fe(t,function(r){return{message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Kt.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}});return n}function d$(e,t){var n=Ei(e,function(i){return i.PUSH_MODE!==void 0&&!cn(t,i.PUSH_MODE)}),r=Fe(n,function(i){var o="Token Type: ->"+i.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+i.PUSH_MODE+"<-which does not exist";return{message:o,type:Kt.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}});return r}function h$(e){var t=[],n=Pn(e,function(r,i,o){var s=i.PATTERN;return s===ai.NA||(Vi(s)?r.push({str:s,idx:o,tokenType:i}):wo(s)&&m$(s)&&r.push({str:s.source,idx:o,tokenType:i})),r},[]);return qe(e,function(r,i){qe(n,function(o){var s=o.str,c=o.idx,l=o.tokenType;if(i<c&&p$(s,r.PATTERN)){var u="Token: ->"+l.name+`<- can never be matched.
`+("Because it appears AFTER the Token Type ->"+r.name+"<-")+`in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:u,type:Kt.UNREACHABLE_PATTERN,tokenTypes:[r,l]})}})}),t}function p$(e,t){if(wo(t)){var n=t.exec(e);return n!==null&&n.index===0}else{if(Is(t))return t(e,0,[],{});if(Ye(t,"exec"))return t.exec(e,0,[],{});if(typeof t=="string")return t===e;throw Error("non exhaustive match")}}function m$(e){var t=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return rl(t,function(n){return e.source.indexOf(n)!==-1})===void 0}function Ox(e){var t=e.ignoreCase?"i":"";return new RegExp("^(?:"+e.source+")",t)}function Ix(e){var t=e.ignoreCase?"iy":"y";return new RegExp(""+e.source,t)}function g$(e,t,n){var r=[];return Ye(e,ua)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+ua+`> property in its definition
`,type:Kt.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Ye(e,hh)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+hh+`> property in its definition
`,type:Kt.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Ye(e,hh)&&Ye(e,ua)&&!Ye(e.modes,e.defaultMode)&&r.push({message:"A MultiMode Lexer cannot be initialized with a "+ua+": <"+e.defaultMode+`>which does not exist
`,type:Kt.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Ye(e,hh)&&qe(e.modes,function(i,o){qe(i,function(s,c){Eo(s)&&r.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:"+("<"+o+"> at index: <"+c+`>
`),type:Kt.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})})}),r}function v$(e,t,n){var r=[],i=!1,o=xf(_r(UB(e.modes,function(l){return l}))),s=El(o,function(l){return l[ji]===ai.NA}),c=WC(n);return t&&qe(s,function(l){var u=qC(l,c);if(u!==!1){var a=T$(l,u),d={message:a,type:u.issue,tokenType:l};r.push(d)}else Ye(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(i=!0):Gw(c,l.PATTERN)&&(i=!0)}),t&&!i&&r.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Kt.NO_LINE_BREAKS_FLAGS}),r}function y$(e){var t={},n=di(e);return qe(n,function(r){var i=e[r];if(Mi(i))t[r]=[];else throw Error("non exhaustive match")}),t}function zC(e){var t=e.PATTERN;if(wo(t))return!1;if(Is(t))return!0;if(Ye(t,"exec"))return!0;if(Vi(t))return!1;throw Error("non exhaustive match")}function E$(e){return Vi(e)&&e.length===1?e.charCodeAt(0):!1}var w$={test:function(e){for(var t=e.length,n=this.lastIndex;n<t;n++){var r=e.charCodeAt(n);if(r===10)return this.lastIndex=n+1,!0;if(r===13)return e.charCodeAt(n+1)===10?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function qC(e,t){if(Ye(e,"LINE_BREAKS"))return!1;if(wo(e.PATTERN)){try{Gw(t,e.PATTERN)}catch(n){return{issue:Kt.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}else{if(Vi(e.PATTERN))return!1;if(zC(e))return{issue:Kt.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function T$(e,t){if(t.issue===Kt.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
`+("	The problem is in the <"+e.name+`> Token Type
`)+("	 Root cause: "+t.errMsg+`.
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(t.issue===Kt.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
`+("	The problem is in the <"+e.name+`> Token Type
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}function WC(e){var t=Fe(e,function(n){return Vi(n)&&n.length>0?n.charCodeAt(0):n});return t}function T0(e,t,n){e[t]===void 0?e[t]=[n]:e[t].push(n)}var Sc=256;function xs(e){return e<Sc?e:Hh[e]}var Hh=[];function _$(){if(Ot(Hh)){Hh=new Array(65536);for(var e=0;e<65536;e++)Hh[e]=e>255?255+~~(e/255):e}}function hm(e,t){var n=e.tokenTypeIdx;return n===t.tokenTypeIdx?!0:t.isParent===!0&&t.categoryMatchesMap[n]===!0}function wp(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}var Cx=1,HC={};function Sf(e){var t=N$(e);b$(t),R$(t),x$(t),qe(t,function(n){n.isParent=n.categoryMatches.length>0})}function N$(e){for(var t=fr(e),n=e,r=!0;r;){n=xf(_r(Fe(n,function(o){return o.CATEGORIES})));var i=fm(n,t);t=t.concat(i),Ot(i)?r=!1:n=i}return t}function b$(e){qe(e,function(t){YC(t)||(HC[Cx]=t,t.tokenTypeIdx=Cx++),kx(t)&&!Mi(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),kx(t)||(t.CATEGORIES=[]),S$(t)||(t.categoryMatches=[]),A$(t)||(t.categoryMatchesMap={})})}function x$(e){qe(e,function(t){t.categoryMatches=[],qe(t.categoryMatchesMap,function(n,r){t.categoryMatches.push(HC[r].tokenTypeIdx)})})}function R$(e){qe(e,function(t){GC([],t)})}function GC(e,t){qe(e,function(n){t.categoryMatchesMap[n.tokenTypeIdx]=!0}),qe(t.CATEGORIES,function(n){var r=e.concat(t);cn(r,n)||GC(r,n)})}function YC(e){return Ye(e,"tokenTypeIdx")}function kx(e){return Ye(e,"CATEGORIES")}function S$(e){return Ye(e,"categoryMatches")}function A$(e){return Ye(e,"categoryMatchesMap")}function O$(e){return Ye(e,"tokenTypeIdx")}var QC={buildUnableToPopLexerModeMessage:function(e){return"Unable to pop Lexer Mode after encountering Token ->"+e.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(e,t,n,r,i){return"unexpected character: ->"+e.charAt(t)+"<- at offset: "+t+","+(" skipped "+n+" characters.")}},Kt;(function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK"})(Kt||(Kt={}));var Ac={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:QC,traceInitPerf:!1,skipValidations:!1};Object.freeze(Ac);var ai=function(){function e(t,n){var r=this;if(n===void 0&&(n=Ac),this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},typeof n=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=bx(Ac,n);var i=this.config.traceInitPerf;i===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof i=="number"&&(this.traceInitMaxIdent=i,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",function(){var o,s=!0;r.TRACE_INIT("Lexer Config handling",function(){if(r.config.lineTerminatorsPattern===Ac.lineTerminatorsPattern)r.config.lineTerminatorsPattern=w$;else if(r.config.lineTerminatorCharacters===Ac.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(n.safeMode&&n.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');r.trackStartLines=/full|onlyStart/i.test(r.config.positionTracking),r.trackEndLines=/full/i.test(r.config.positionTracking),Mi(t)?(o={modes:{}},o.modes[ua]=fr(t),o[ua]=ua):(s=!1,o=bf(t))}),r.config.skipValidations===!1&&(r.TRACE_INIT("performRuntimeChecks",function(){r.lexerDefinitionErrors=r.lexerDefinitionErrors.concat(g$(o,r.trackStartLines,r.config.lineTerminatorCharacters))}),r.TRACE_INIT("performWarningRuntimeChecks",function(){r.lexerDefinitionWarning=r.lexerDefinitionWarning.concat(v$(o,r.trackStartLines,r.config.lineTerminatorCharacters))})),o.modes=o.modes?o.modes:{},qe(o.modes,function(a,d){o.modes[d]=El(a,function(h){return Eo(h)})});var c=di(o.modes);if(qe(o.modes,function(a,d){r.TRACE_INIT("Mode: <"+d+"> processing",function(){if(r.modes.push(d),r.config.skipValidations===!1&&r.TRACE_INIT("validatePatterns",function(){r.lexerDefinitionErrors=r.lexerDefinitionErrors.concat(e$(a,c))}),Ot(r.lexerDefinitionErrors)){Sf(a);var h;r.TRACE_INIT("analyzeTokenTypes",function(){h=ZB(a,{lineTerminatorCharacters:r.config.lineTerminatorCharacters,positionTracking:n.positionTracking,ensureOptimizations:n.ensureOptimizations,safeMode:n.safeMode,tracer:r.TRACE_INIT.bind(r)})}),r.patternIdxToConfig[d]=h.patternIdxToConfig,r.charCodeToPatternIdxToConfig[d]=h.charCodeToPatternIdxToConfig,r.emptyGroups=bx(r.emptyGroups,h.emptyGroups),r.hasCustom=h.hasCustom||r.hasCustom,r.canModeBeOptimized[d]=h.canBeOptimized}})}),r.defaultMode=o.defaultMode,!Ot(r.lexerDefinitionErrors)&&!r.config.deferDefinitionErrorsHandling){var l=Fe(r.lexerDefinitionErrors,function(a){return a.message}),u=l.join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+u)}qe(r.lexerDefinitionWarning,function(a){FC(a.message)}),r.TRACE_INIT("Choosing sub-methods implementations",function(){if(jC?(r.chopInput=xx,r.match=r.matchWithTest):(r.updateLastIndex=yn,r.match=r.matchWithExec),s&&(r.handleModes=yn),r.trackStartLines===!1&&(r.computeNewColumn=xx),r.trackEndLines===!1&&(r.updateTokenEndLineColumnLocation=yn),/full/i.test(r.config.positionTracking))r.createTokenInstance=r.createFullToken;else if(/onlyStart/i.test(r.config.positionTracking))r.createTokenInstance=r.createStartOnlyToken;else if(/onlyOffset/i.test(r.config.positionTracking))r.createTokenInstance=r.createOffsetOnlyToken;else throw Error('Invalid <positionTracking> config option: "'+r.config.positionTracking+'"');r.hasCustom?(r.addToken=r.addTokenUsingPush,r.handlePayload=r.handlePayloadWithCustom):(r.addToken=r.addTokenUsingMemberAccess,r.handlePayload=r.handlePayloadNoCustom)}),r.TRACE_INIT("Failed Optimization Warnings",function(){var a=Pn(r.canModeBeOptimized,function(d,h,m){return h===!1&&d.push(m),d},[]);if(n.ensureOptimizations&&!Ot(a))throw Error("Lexer Modes: < "+a.join(", ")+` > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),r.TRACE_INIT("clearRegExpParserCache",function(){YB()}),r.TRACE_INIT("toFastProperties",function(){UC(r)})})}return e.prototype.tokenize=function(t,n){if(n===void 0&&(n=this.defaultMode),!Ot(this.lexerDefinitionErrors)){var r=Fe(this.lexerDefinitionErrors,function(s){return s.message}),i=r.join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}var o=this.tokenizeInternal(t,n);return o},e.prototype.tokenizeInternal=function(t,n){var r=this,i,o,s,c,l,u,a,d,h,m,y,g,v,w,T=t,N=T.length,b=0,S=0,x=this.hasCustom?0:Math.floor(t.length/10),O=new Array(x),M=[],U=this.trackStartLines?1:void 0,z=this.trackStartLines?1:void 0,Q=y$(this.emptyGroups),ee=this.trackStartLines,X=this.config.lineTerminatorsPattern,F=0,J=[],K=[],te=[],G=[];Object.freeze(G);var H=void 0;function W(){return J}function V(it){var gt=xs(it),Ze=K[gt];return Ze===void 0?G:Ze}var C=function(it){if(te.length===1&&it.tokenType.PUSH_MODE===void 0){var gt=r.config.errorMessageProvider.buildUnableToPopLexerModeMessage(it);M.push({offset:it.startOffset,line:it.startLine!==void 0?it.startLine:void 0,column:it.startColumn!==void 0?it.startColumn:void 0,length:it.image.length,message:gt})}else{te.pop();var Ze=LC(te);J=r.patternIdxToConfig[Ze],K=r.charCodeToPatternIdxToConfig[Ze],F=J.length;var ye=r.canModeBeOptimized[Ze]&&r.config.safeMode===!1;K&&ye?H=V:H=W}};function L(it){te.push(it),K=this.charCodeToPatternIdxToConfig[it],J=this.patternIdxToConfig[it],F=J.length,F=J.length;var gt=this.canModeBeOptimized[it]&&this.config.safeMode===!1;K&&gt?H=V:H=W}L.call(this,n);for(var I;b<N;){l=null;var j=T.charCodeAt(b),$=H(j),oe=$.length;for(i=0;i<oe;i++){I=$[i];var q=I.pattern;u=null;var se=I.short;if(se!==!1?j===se&&(l=q):I.isCustom===!0?(w=q.exec(T,b,O,Q),w!==null?(l=w[0],w.payload!==void 0&&(u=w.payload)):l=null):(this.updateLastIndex(q,b),l=this.match(q,t,b)),l!==null){if(c=I.longerAlt,c!==void 0){var ge=J[c],we=ge.pattern;a=null,ge.isCustom===!0?(w=we.exec(T,b,O,Q),w!==null?(s=w[0],w.payload!==void 0&&(a=w.payload)):s=null):(this.updateLastIndex(we,b),s=this.match(we,t,b)),s&&s.length>l.length&&(l=s,u=a,I=ge)}break}}if(l!==null){if(d=l.length,h=I.group,h!==void 0&&(m=I.tokenTypeIdx,y=this.createTokenInstance(l,b,m,I.tokenType,U,z,d),this.handlePayload(y,u),h===!1?S=this.addToken(O,S,y):Q[h].push(y)),t=this.chopInput(t,d),b=b+d,z=this.computeNewColumn(z,d),ee===!0&&I.canLineTerminator===!0){var be=0,Re=void 0,Qe=void 0;X.lastIndex=0;do Re=X.test(l),Re===!0&&(Qe=X.lastIndex-1,be++);while(Re===!0);be!==0&&(U=U+be,z=d-Qe,this.updateTokenEndLineColumnLocation(y,h,Qe,be,U,z,d))}this.handleModes(I,C,L,y)}else{for(var ze=b,Rt=U,Xe=z,xe=!1;!xe&&b<N;)for(T.charCodeAt(b),t=this.chopInput(t,1),b++,o=0;o<F;o++){var Me=J[o],q=Me.pattern,se=Me.short;if(se!==!1?T.charCodeAt(b)===se&&(xe=!0):Me.isCustom===!0?xe=q.exec(T,b,O,Q)!==null:(this.updateLastIndex(q,b),xe=q.exec(t)!==null),xe===!0)break}g=b-ze,v=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(T,ze,g,Rt,Xe),M.push({offset:ze,line:Rt,column:Xe,length:g,message:v})}}return this.hasCustom||(O.length=S),{tokens:O,groups:Q,errors:M}},e.prototype.handleModes=function(t,n,r,i){if(t.pop===!0){var o=t.push;n(i),o!==void 0&&r.call(this,o)}else t.push!==void 0&&r.call(this,t.push)},e.prototype.chopInput=function(t,n){return t.substring(n)},e.prototype.updateLastIndex=function(t,n){t.lastIndex=n},e.prototype.updateTokenEndLineColumnLocation=function(t,n,r,i,o,s,c){var l,u;n!==void 0&&(l=r===c-1,u=l?-1:0,i===1&&l===!0||(t.endLine=o+u,t.endColumn=s-1+-u))},e.prototype.computeNewColumn=function(t,n){return t+n},e.prototype.createTokenInstance=function(){return null},e.prototype.createOffsetOnlyToken=function(t,n,r,i){return{image:t,startOffset:n,tokenTypeIdx:r,tokenType:i}},e.prototype.createStartOnlyToken=function(t,n,r,i,o,s){return{image:t,startOffset:n,startLine:o,startColumn:s,tokenTypeIdx:r,tokenType:i}},e.prototype.createFullToken=function(t,n,r,i,o,s,c){return{image:t,startOffset:n,endOffset:n+c-1,startLine:o,endLine:o,startColumn:s,endColumn:s+c-1,tokenTypeIdx:r,tokenType:i}},e.prototype.addToken=function(t,n,r){return 666},e.prototype.addTokenUsingPush=function(t,n,r){return t.push(r),n},e.prototype.addTokenUsingMemberAccess=function(t,n,r){return t[n]=r,n++,n},e.prototype.handlePayload=function(t,n){},e.prototype.handlePayloadNoCustom=function(t,n){},e.prototype.handlePayloadWithCustom=function(t,n){n!==null&&(t.payload=n)},e.prototype.match=function(t,n,r){return null},e.prototype.matchWithTest=function(t,n,r){var i=t.test(n);return i===!0?n.substring(r,t.lastIndex):null},e.prototype.matchWithExec=function(t,n){var r=t.exec(n);return r!==null?r[0]:r},e.prototype.TRACE_INIT=function(t,n){if(this.traceInitPerf===!0){this.traceInitIndent++;var r=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(r+"--> <"+t+">");var i=BC(n),o=i.time,s=i.value,c=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&c(r+"<-- <"+t+"> time: "+o+"ms"),this.traceInitIndent--,s}else return n()},e.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",e.NA=/NOT_APPLICABLE/,e}();function ma(e){return KC(e)?e.LABEL:e.name}function I$(e){return e.name}function KC(e){return Vi(e.LABEL)&&e.LABEL!==""}var C$="parent",Mx="categories",Px="label",Lx="group",Dx="push_mode",Fx="pop_mode",Ux="longer_alt",Bx="line_breaks",$x="start_chars_hint";function Yw(e){return k$(e)}function k$(e){var t=e.pattern,n={};if(n.name=e.name,Eo(t)||(n.PATTERN=t),Ye(e,C$))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Ye(e,Mx)&&(n.CATEGORIES=e[Mx]),Sf([n]),Ye(e,Px)&&(n.LABEL=e[Px]),Ye(e,Lx)&&(n.GROUP=e[Lx]),Ye(e,Fx)&&(n.POP_MODE=e[Fx]),Ye(e,Dx)&&(n.PUSH_MODE=e[Dx]),Ye(e,Ux)&&(n.LONGER_ALT=e[Ux]),Ye(e,Bx)&&(n.LINE_BREAKS=e[Bx]),Ye(e,$x)&&(n.START_CHARS_HINT=e[$x]),n}var Rs=Yw({name:"EOF",pattern:ai.NA});Sf([Rs]);function pm(e,t,n,r,i,o,s,c){return{image:t,startOffset:n,endOffset:r,startLine:i,endLine:o,startColumn:s,endColumn:c,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function M$(e,t){return hm(e,t)}var So=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wi=function(){function e(t){this._definition=t}return Object.defineProperty(e.prototype,"definition",{get:function(){return this._definition},set:function(t){this._definition=t},enumerable:!1,configurable:!0}),e.prototype.accept=function(t){t.visit(this),qe(this.definition,function(n){n.accept(t)})},e}(),Kn=function(e){So(t,e);function t(n){var r=e.call(this,[])||this;return r.idx=1,Ti(r,wi(n,function(i){return i!==void 0})),r}return Object.defineProperty(t.prototype,"definition",{get:function(){return this.referencedRule!==void 0?this.referencedRule.definition:[]},set:function(n){},enumerable:!1,configurable:!0}),t.prototype.accept=function(n){n.visit(this)},t}(Wi),Ma=function(e){So(t,e);function t(n){var r=e.call(this,n.definition)||this;return r.orgText="",Ti(r,wi(n,function(i){return i!==void 0})),r}return t}(Wi),Vn=function(e){So(t,e);function t(n){var r=e.call(this,n.definition)||this;return r.ignoreAmbiguities=!1,Ti(r,wi(n,function(i){return i!==void 0})),r}return t}(Wi),Bn=function(e){So(t,e);function t(n){var r=e.call(this,n.definition)||this;return r.idx=1,Ti(r,wi(n,function(i){return i!==void 0})),r}return t}(Wi),Vr=function(e){So(t,e);function t(n){var r=e.call(this,n.definition)||this;return r.idx=1,Ti(r,wi(n,function(i){return i!==void 0})),r}return t}(Wi),jr=function(e){So(t,e);function t(n){var r=e.call(this,n.definition)||this;return r.idx=1,Ti(r,wi(n,function(i){return i!==void 0})),r}return t}(Wi),Zt=function(e){So(t,e);function t(n){var r=e.call(this,n.definition)||this;return r.idx=1,Ti(r,wi(n,function(i){return i!==void 0})),r}return t}(Wi),br=function(e){So(t,e);function t(n){var r=e.call(this,n.definition)||this;return r.idx=1,Ti(r,wi(n,function(i){return i!==void 0})),r}return t}(Wi),xr=function(e){So(t,e);function t(n){var r=e.call(this,n.definition)||this;return r.idx=1,r.ignoreAmbiguities=!1,r.hasPredicates=!1,Ti(r,wi(n,function(i){return i!==void 0})),r}return Object.defineProperty(t.prototype,"definition",{get:function(){return this._definition},set:function(n){this._definition=n},enumerable:!1,configurable:!0}),t}(Wi),Lt=function(){function e(t){this.idx=1,Ti(this,wi(t,function(n){return n!==void 0}))}return e.prototype.accept=function(t){t.visit(this)},e}();function XC(e){return Fe(e,Bc)}function Bc(e){function t(i){return Fe(i,Bc)}if(e instanceof Kn)return{type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};if(e instanceof Vn)return{type:"Alternative",definition:t(e.definition)};if(e instanceof Bn)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof Vr)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof jr)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:Bc(new Lt({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof br)return{type:"RepetitionWithSeparator",idx:e.idx,separator:Bc(new Lt({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Zt)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof xr)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof Lt){var n={type:"Terminal",name:e.terminalType.name,label:ma(e.terminalType),idx:e.idx},r=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(n.pattern=wo(r)?r.source:r),n}else{if(e instanceof Ma)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}var mm=function(){function e(){}return e.prototype.walk=function(t,n){var r=this;n===void 0&&(n=[]),qe(t.definition,function(i,o){var s=Cn(t.definition,o+1);if(i instanceof Kn)r.walkProdRef(i,s,n);else if(i instanceof Lt)r.walkTerminal(i,s,n);else if(i instanceof Vn)r.walkFlat(i,s,n);else if(i instanceof Bn)r.walkOption(i,s,n);else if(i instanceof Vr)r.walkAtLeastOne(i,s,n);else if(i instanceof jr)r.walkAtLeastOneSep(i,s,n);else if(i instanceof br)r.walkManySep(i,s,n);else if(i instanceof Zt)r.walkMany(i,s,n);else if(i instanceof xr)r.walkOr(i,s,n);else throw Error("non exhaustive match")})},e.prototype.walkTerminal=function(t,n,r){},e.prototype.walkProdRef=function(t,n,r){},e.prototype.walkFlat=function(t,n,r){var i=n.concat(r);this.walk(t,i)},e.prototype.walkOption=function(t,n,r){var i=n.concat(r);this.walk(t,i)},e.prototype.walkAtLeastOne=function(t,n,r){var i=[new Bn({definition:t.definition})].concat(n,r);this.walk(t,i)},e.prototype.walkAtLeastOneSep=function(t,n,r){var i=Vx(t,n,r);this.walk(t,i)},e.prototype.walkMany=function(t,n,r){var i=[new Bn({definition:t.definition})].concat(n,r);this.walk(t,i)},e.prototype.walkManySep=function(t,n,r){var i=Vx(t,n,r);this.walk(t,i)},e.prototype.walkOr=function(t,n,r){var i=this,o=n.concat(r);qe(t.definition,function(s){var c=new Vn({definition:[s]});i.walk(c,o)})},e}();function Vx(e,t,n){var r=[new Bn({definition:[new Lt({terminalType:e.separator})].concat(e.definition)})],i=r.concat(t,n);return i}var Pa=function(){function e(){}return e.prototype.visit=function(t){var n=t;switch(n.constructor){case Kn:return this.visitNonTerminal(n);case Vn:return this.visitAlternative(n);case Bn:return this.visitOption(n);case Vr:return this.visitRepetitionMandatory(n);case jr:return this.visitRepetitionMandatoryWithSeparator(n);case br:return this.visitRepetitionWithSeparator(n);case Zt:return this.visitRepetition(n);case xr:return this.visitAlternation(n);case Lt:return this.visitTerminal(n);case Ma:return this.visitRule(n);default:throw Error("non exhaustive match")}},e.prototype.visitNonTerminal=function(t){},e.prototype.visitAlternative=function(t){},e.prototype.visitOption=function(t){},e.prototype.visitRepetition=function(t){},e.prototype.visitRepetitionMandatory=function(t){},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){},e.prototype.visitRepetitionWithSeparator=function(t){},e.prototype.visitAlternation=function(t){},e.prototype.visitTerminal=function(t){},e.prototype.visitRule=function(t){},e}(),P$=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();function L$(e){return e instanceof Vn||e instanceof Bn||e instanceof Zt||e instanceof Vr||e instanceof jr||e instanceof br||e instanceof Lt||e instanceof Ma}function Tp(e,t){t===void 0&&(t=[]);var n=e instanceof Bn||e instanceof Zt||e instanceof br;return n?!0:e instanceof xr?DC(e.definition,function(r){return Tp(r,t)}):e instanceof Kn&&cn(t,e)?!1:e instanceof Wi?(e instanceof Kn&&t.push(e),Fr(e.definition,function(r){return Tp(r,t)})):!1}function D$(e){return e instanceof xr}function Ii(e){if(e instanceof Kn)return"SUBRULE";if(e instanceof Bn)return"OPTION";if(e instanceof xr)return"OR";if(e instanceof Vr)return"AT_LEAST_ONE";if(e instanceof jr)return"AT_LEAST_ONE_SEP";if(e instanceof br)return"MANY_SEP";if(e instanceof Zt)return"MANY";if(e instanceof Lt)return"CONSUME";throw Error("non exhaustive match")}var JC=function(e){P$(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.separator="-",n.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},n}return t.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},t.prototype.visitTerminal=function(n){var r=n.terminalType.name+this.separator+"Terminal";Ye(this.dslMethods,r)||(this.dslMethods[r]=[]),this.dslMethods[r].push(n)},t.prototype.visitNonTerminal=function(n){var r=n.nonTerminalName+this.separator+"Terminal";Ye(this.dslMethods,r)||(this.dslMethods[r]=[]),this.dslMethods[r].push(n)},t.prototype.visitOption=function(n){this.dslMethods.option.push(n)},t.prototype.visitRepetitionWithSeparator=function(n){this.dslMethods.repetitionWithSeparator.push(n)},t.prototype.visitRepetitionMandatory=function(n){this.dslMethods.repetitionMandatory.push(n)},t.prototype.visitRepetitionMandatoryWithSeparator=function(n){this.dslMethods.repetitionMandatoryWithSeparator.push(n)},t.prototype.visitRepetition=function(n){this.dslMethods.repetition.push(n)},t.prototype.visitAlternation=function(n){this.dslMethods.alternation.push(n)},t}(Pa),ph=new JC;function F$(e){ph.reset(),e.accept(ph);var t=ph.dslMethods;return ph.reset(),t}function Af(e){if(e instanceof Kn)return Af(e.referencedRule);if(e instanceof Lt)return $$(e);if(L$(e))return U$(e);if(D$(e))return B$(e);throw Error("non exhaustive match")}function U$(e){for(var t=[],n=e.definition,r=0,i=n.length>r,o,s=!0;i&&s;)o=n[r],s=Tp(o),t=t.concat(Af(o)),r=r+1,i=n.length>r;return qw(t)}function B$(e){var t=Fe(e.definition,function(n){return Af(n)});return qw(_r(t))}function $$(e){return[e.terminalType]}var ZC="_~IN~_",V$=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),j$=function(e){V$(t,e);function t(n){var r=e.call(this)||this;return r.topProd=n,r.follows={},r}return t.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},t.prototype.walkTerminal=function(n,r,i){},t.prototype.walkProdRef=function(n,r,i){var o=q$(n.referencedRule,n.idx)+this.topProd.name,s=r.concat(i),c=new Vn({definition:s}),l=Af(c);this.follows[o]=l},t}(mm);function z$(e){var t={};return qe(e,function(n){var r=new j$(n).startWalking();Ti(t,r)}),t}function q$(e,t){return e.name+t+ZC}var Qw={buildMismatchTokenMessage:function(e){var t=e.expected,n=e.actual;e.previous,e.ruleName;var r=KC(t),i=r?"--> "+ma(t)+" <--":"token of type --> "+t.name+" <--",o="Expecting "+i+" but found --> '"+n.image+"' <--";return o},buildNotAllInputParsedMessage:function(e){var t=e.firstRedundant;return e.ruleName,"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage:function(e){var t=e.expectedPathsPerAlt,n=e.actual;e.previous;var r=e.customUserDescription;e.ruleName;var i="Expecting: ",o=hi(n).image,s=`
but found: '`+o+"'";if(r)return i+r+s;var c=Pn(t,function(d,h){return d.concat(h)},[]),l=Fe(c,function(d){return"["+Fe(d,function(h){return ma(h)}).join(", ")+"]"}),u=Fe(l,function(d,h){return"  "+(h+1)+". "+d}),a=`one of these possible Token sequences:
`+u.join(`
`);return i+a+s},buildEarlyExitMessage:function(e){var t=e.expectedIterationPaths,n=e.actual,r=e.customUserDescription;e.ruleName;var i="Expecting: ",o=hi(n).image,s=`
but found: '`+o+"'";if(r)return i+r+s;var c=Fe(t,function(u){return"["+Fe(u,function(a){return ma(a)}).join(",")+"]"}),l=`expecting at least one iteration which starts with one of these possible Token sequences::
  `+("<"+c.join(" ,")+">");return i+l+s}};Object.freeze(Qw);var ek={buildRuleNotFoundError:function(e,t){var n="Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-";return n}},gm={buildDuplicateFoundError:function(e,t){function n(a){return a instanceof Lt?a.terminalType.name:a instanceof Kn?a.nonTerminalName:""}var r=e.name,i=hi(t),o=i.idx,s=Ii(i),c=n(i),l=o>0,u="->"+s+(l?o:"")+"<- "+(c?"with argument: ->"+c+"<-":"")+`
                  appears more than once (`+t.length+" times) in the top level rule: ->"+r+`<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return u=u.replace(/[ \t]+/g," "),u=u.replace(/\s\s+/g,`
`),u},buildNamespaceConflictError:function(e){var t=`Namespace conflict found in grammar.
`+("The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+e.name+`>.
`)+`To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`;return t},buildAlternationPrefixAmbiguityError:function(e){var t=Fe(e.prefixPath,function(i){return ma(i)}).join(", "),n=e.alternation.idx===0?"":e.alternation.idx,r="Ambiguous alternatives: <"+e.ambiguityIndices.join(" ,")+`> due to common lookahead prefix
`+("in <OR"+n+"> inside <"+e.topLevelRule.name+`> Rule,
`)+("<"+t+`> may appears as a prefix path in all these alternatives.
`)+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`;return r},buildAlternationAmbiguityError:function(e){var t=Fe(e.prefixPath,function(i){return ma(i)}).join(", "),n=e.alternation.idx===0?"":e.alternation.idx,r="Ambiguous Alternatives Detected: <"+e.ambiguityIndices.join(" ,")+"> in <OR"+n+">"+(" inside <"+e.topLevelRule.name+`> Rule,
`)+("<"+t+`> may appears as a prefix path in all these alternatives.
`);return r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,r},buildEmptyRepetitionError:function(e){var t=Ii(e.repetition);e.repetition.idx!==0&&(t+=e.repetition.idx);var n="The repetition <"+t+"> within Rule <"+e.topLevelRule.name+`> can never consume any tokens.
This could lead to an infinite loop.`;return n},buildTokenNameError:function(e){return"deprecated"},buildEmptyAlternationError:function(e){var t="Ambiguous empty alternative: <"+(e.emptyChoiceIdx+1)+">"+(" in <OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+`> Rule.
`)+"Only the last alternative may be an empty alternative.";return t},buildTooManyAlternativesError:function(e){var t=`An Alternation cannot have more than 256 alternatives:
`+("<OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+`> Rule.
 has `+(e.alternation.definition.length+1)+" alternatives.");return t},buildLeftRecursionError:function(e){var t=e.topLevelRule.name,n=Fe(e.leftRecursionPath,function(o){return o.name}),r=t+" --> "+n.concat([t]).join(" --> "),i=`Left Recursion found in grammar.
`+("rule: <"+t+`> can be invoked from itself (directly or indirectly)
`)+(`without consuming any Tokens. The grammar path that causes this is: 
 `+r+`
`)+` To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring.`;return i},buildInvalidRuleNameError:function(e){return"deprecated"},buildDuplicateRuleNameError:function(e){var t;e.topLevelRule instanceof Ma?t=e.topLevelRule.name:t=e.topLevelRule;var n="Duplicate definition, rule: ->"+t+"<- is already defined in the grammar: ->"+e.grammarName+"<-";return n}},W$=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();function H$(e,t){var n=new G$(e,t);return n.resolveRefs(),n.errors}var G$=function(e){W$(t,e);function t(n,r){var i=e.call(this)||this;return i.nameToTopRule=n,i.errMsgProvider=r,i.errors=[],i}return t.prototype.resolveRefs=function(){var n=this;qe(ar(this.nameToTopRule),function(r){n.currTopLevel=r,r.accept(n)})},t.prototype.visitNonTerminal=function(n){var r=this.nameToTopRule[n.nonTerminalName];if(r)n.referencedRule=r;else{var i=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,n);this.errors.push({message:i,type:Xn.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:n.nonTerminalName})}},t}(Pa),La=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Y$=function(e){La(t,e);function t(n,r){var i=e.call(this)||this;return i.topProd=n,i.path=r,i.possibleTokTypes=[],i.nextProductionName="",i.nextProductionOccurrence=0,i.found=!1,i.isAtEndOfPath=!1,i}return t.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=fr(this.path.ruleStack).reverse(),this.occurrenceStack=fr(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},t.prototype.walk=function(n,r){r===void 0&&(r=[]),this.found||e.prototype.walk.call(this,n,r)},t.prototype.walkProdRef=function(n,r,i){if(n.referencedRule.name===this.nextProductionName&&n.idx===this.nextProductionOccurrence){var o=r.concat(i);this.updateExpectedNext(),this.walk(n.referencedRule,o)}},t.prototype.updateExpectedNext=function(){Ot(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},t}(mm),Q$=function(e){La(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.path=r,i.nextTerminalName="",i.nextTerminalOccurrence=0,i.nextTerminalName=i.path.lastTok.name,i.nextTerminalOccurrence=i.path.lastTokOccurrence,i}return t.prototype.walkTerminal=function(n,r,i){if(this.isAtEndOfPath&&n.terminalType.name===this.nextTerminalName&&n.idx===this.nextTerminalOccurrence&&!this.found){var o=r.concat(i),s=new Vn({definition:o});this.possibleTokTypes=Af(s),this.found=!0}},t}(Y$),vm=function(e){La(t,e);function t(n,r){var i=e.call(this)||this;return i.topRule=n,i.occurrence=r,i.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},i}return t.prototype.startWalking=function(){return this.walk(this.topRule),this.result},t}(mm),K$=function(e){La(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkMany=function(n,r,i){if(n.idx===this.occurrence){var o=hi(r.concat(i));this.result.isEndOfRule=o===void 0,o instanceof Lt&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkMany.call(this,n,r,i)},t}(vm),jx=function(e){La(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkManySep=function(n,r,i){if(n.idx===this.occurrence){var o=hi(r.concat(i));this.result.isEndOfRule=o===void 0,o instanceof Lt&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkManySep.call(this,n,r,i)},t}(vm),X$=function(e){La(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkAtLeastOne=function(n,r,i){if(n.idx===this.occurrence){var o=hi(r.concat(i));this.result.isEndOfRule=o===void 0,o instanceof Lt&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkAtLeastOne.call(this,n,r,i)},t}(vm),zx=function(e){La(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.walkAtLeastOneSep=function(n,r,i){if(n.idx===this.occurrence){var o=hi(r.concat(i));this.result.isEndOfRule=o===void 0,o instanceof Lt&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkAtLeastOneSep.call(this,n,r,i)},t}(vm);function Qy(e,t,n){n===void 0&&(n=[]),n=fr(n);var r=[],i=0;function o(u){return u.concat(Cn(e,i+1))}function s(u){var a=Qy(o(u),t,n);return r.concat(a)}for(;n.length<t&&i<e.length;){var c=e[i];if(c instanceof Vn)return s(c.definition);if(c instanceof Kn)return s(c.definition);if(c instanceof Bn)r=s(c.definition);else if(c instanceof Vr){var l=c.definition.concat([new Zt({definition:c.definition})]);return s(l)}else if(c instanceof jr){var l=[new Vn({definition:c.definition}),new Zt({definition:[new Lt({terminalType:c.separator})].concat(c.definition)})];return s(l)}else if(c instanceof br){var l=c.definition.concat([new Zt({definition:[new Lt({terminalType:c.separator})].concat(c.definition)})]);r=s(l)}else if(c instanceof Zt){var l=c.definition.concat([new Zt({definition:c.definition})]);r=s(l)}else{if(c instanceof xr)return qe(c.definition,function(u){Ot(u.definition)===!1&&(r=s(u.definition))}),r;if(c instanceof Lt)n.push(c.terminalType);else throw Error("non exhaustive match")}i++}return r.push({partialPath:n,suffixDef:Cn(e,i)}),r}function tk(e,t,n,r){var i="EXIT_NONE_TERMINAL",o=[i],s="EXIT_ALTERNATIVE",c=!1,l=t.length,u=l-r-1,a=[],d=[];for(d.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!Ot(d);){var h=d.pop();if(h===s){c&&LC(d).idx<=u&&d.pop();continue}var m=h.def,y=h.idx,g=h.ruleStack,v=h.occurrenceStack;if(!Ot(m)){var w=m[0];if(w===i){var T={idx:y,def:Cn(m),ruleStack:tf(g),occurrenceStack:tf(v)};d.push(T)}else if(w instanceof Lt)if(y<l-1){var N=y+1,b=t[N];if(n(b,w.terminalType)){var T={idx:N,def:Cn(m),ruleStack:g,occurrenceStack:v};d.push(T)}}else if(y===l-1)a.push({nextTokenType:w.terminalType,nextTokenOccurrence:w.idx,ruleStack:g,occurrenceStack:v}),c=!0;else throw Error("non exhaustive match");else if(w instanceof Kn){var S=fr(g);S.push(w.nonTerminalName);var x=fr(v);x.push(w.idx);var T={idx:y,def:w.definition.concat(o,Cn(m)),ruleStack:S,occurrenceStack:x};d.push(T)}else if(w instanceof Bn){var O={idx:y,def:Cn(m),ruleStack:g,occurrenceStack:v};d.push(O),d.push(s);var M={idx:y,def:w.definition.concat(Cn(m)),ruleStack:g,occurrenceStack:v};d.push(M)}else if(w instanceof Vr){var U=new Zt({definition:w.definition,idx:w.idx}),z=w.definition.concat([U],Cn(m)),T={idx:y,def:z,ruleStack:g,occurrenceStack:v};d.push(T)}else if(w instanceof jr){var Q=new Lt({terminalType:w.separator}),U=new Zt({definition:[Q].concat(w.definition),idx:w.idx}),z=w.definition.concat([U],Cn(m)),T={idx:y,def:z,ruleStack:g,occurrenceStack:v};d.push(T)}else if(w instanceof br){var O={idx:y,def:Cn(m),ruleStack:g,occurrenceStack:v};d.push(O),d.push(s);var Q=new Lt({terminalType:w.separator}),ee=new Zt({definition:[Q].concat(w.definition),idx:w.idx}),z=w.definition.concat([ee],Cn(m)),M={idx:y,def:z,ruleStack:g,occurrenceStack:v};d.push(M)}else if(w instanceof Zt){var O={idx:y,def:Cn(m),ruleStack:g,occurrenceStack:v};d.push(O),d.push(s);var ee=new Zt({definition:w.definition,idx:w.idx}),z=w.definition.concat([ee],Cn(m)),M={idx:y,def:z,ruleStack:g,occurrenceStack:v};d.push(M)}else if(w instanceof xr)for(var X=w.definition.length-1;X>=0;X--){var F=w.definition[X],J={idx:y,def:F.definition.concat(Cn(m)),ruleStack:g,occurrenceStack:v};d.push(J),d.push(s)}else if(w instanceof Vn)d.push({idx:y,def:w.definition.concat(Cn(m)),ruleStack:g,occurrenceStack:v});else if(w instanceof Ma)d.push(J$(w,y,g,v));else throw Error("non exhaustive match")}}return a}function J$(e,t,n,r){var i=fr(n);i.push(e.name);var o=fr(r);return o.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:o}}var nk=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),At;(function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"})(At||(At={}));function Z$(e){if(e instanceof Bn)return At.OPTION;if(e instanceof Zt)return At.REPETITION;if(e instanceof Vr)return At.REPETITION_MANDATORY;if(e instanceof jr)return At.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof br)return At.REPETITION_WITH_SEPARATOR;if(e instanceof xr)return At.ALTERNATION;throw Error("non exhaustive match")}function eV(e,t,n,r,i,o){var s=Kw(e,t,n),c=ok(s)?wp:hm;return o(s,r,c,i)}function tV(e,t,n,r,i,o){var s=Xw(e,t,i,n),c=ok(s)?wp:hm;return o(s[0],c,r)}function nV(e,t,n,r){var i=e.length,o=Fr(e,function(l){return Fr(l,function(u){return u.length===1})});if(t)return function(l){for(var u=Fe(l,function(N){return N.GATE}),a=0;a<i;a++){var d=e[a],h=d.length,m=u[a];if(!(m!==void 0&&m.call(this)===!1))e:for(var y=0;y<h;y++){for(var g=d[y],v=g.length,w=0;w<v;w++){var T=this.LA(w+1);if(n(T,g[w])===!1)continue e}return a}}};if(o&&!r){var s=Fe(e,function(l){return _r(l)}),c=Pn(s,function(l,u,a){return qe(u,function(d){Ye(l,d.tokenTypeIdx)||(l[d.tokenTypeIdx]=a),qe(d.categoryMatches,function(h){Ye(l,h)||(l[h]=a)})}),l},[]);return function(){var l=this.LA(1);return c[l.tokenTypeIdx]}}else return function(){for(var l=0;l<i;l++){var u=e[l],a=u.length;e:for(var d=0;d<a;d++){for(var h=u[d],m=h.length,y=0;y<m;y++){var g=this.LA(y+1);if(n(g,h[y])===!1)continue e}return l}}}}function rV(e,t,n){var r=Fr(e,function(u){return u.length===1}),i=e.length;if(r&&!n){var o=_r(e);if(o.length===1&&Ot(o[0].categoryMatches)){var s=o[0],c=s.tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===c}}else{var l=Pn(o,function(u,a,d){return u[a.tokenTypeIdx]=!0,qe(a.categoryMatches,function(h){u[h]=!0}),u},[]);return function(){var u=this.LA(1);return l[u.tokenTypeIdx]===!0}}}else return function(){e:for(var u=0;u<i;u++){for(var a=e[u],d=a.length,h=0;h<d;h++){var m=this.LA(h+1);if(t(m,a[h])===!1)continue e}return!0}return!1}}var iV=function(e){nk(t,e);function t(n,r,i){var o=e.call(this)||this;return o.topProd=n,o.targetOccurrence=r,o.targetProdType=i,o}return t.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},t.prototype.checkIsTarget=function(n,r,i,o){return n.idx===this.targetOccurrence&&this.targetProdType===r?(this.restDef=i.concat(o),!0):!1},t.prototype.walkOption=function(n,r,i){this.checkIsTarget(n,At.OPTION,r,i)||e.prototype.walkOption.call(this,n,r,i)},t.prototype.walkAtLeastOne=function(n,r,i){this.checkIsTarget(n,At.REPETITION_MANDATORY,r,i)||e.prototype.walkOption.call(this,n,r,i)},t.prototype.walkAtLeastOneSep=function(n,r,i){this.checkIsTarget(n,At.REPETITION_MANDATORY_WITH_SEPARATOR,r,i)||e.prototype.walkOption.call(this,n,r,i)},t.prototype.walkMany=function(n,r,i){this.checkIsTarget(n,At.REPETITION,r,i)||e.prototype.walkOption.call(this,n,r,i)},t.prototype.walkManySep=function(n,r,i){this.checkIsTarget(n,At.REPETITION_WITH_SEPARATOR,r,i)||e.prototype.walkOption.call(this,n,r,i)},t}(mm),rk=function(e){nk(t,e);function t(n,r,i){var o=e.call(this)||this;return o.targetOccurrence=n,o.targetProdType=r,o.targetRef=i,o.result=[],o}return t.prototype.checkIsTarget=function(n,r){n.idx===this.targetOccurrence&&this.targetProdType===r&&(this.targetRef===void 0||n===this.targetRef)&&(this.result=n.definition)},t.prototype.visitOption=function(n){this.checkIsTarget(n,At.OPTION)},t.prototype.visitRepetition=function(n){this.checkIsTarget(n,At.REPETITION)},t.prototype.visitRepetitionMandatory=function(n){this.checkIsTarget(n,At.REPETITION_MANDATORY)},t.prototype.visitRepetitionMandatoryWithSeparator=function(n){this.checkIsTarget(n,At.REPETITION_MANDATORY_WITH_SEPARATOR)},t.prototype.visitRepetitionWithSeparator=function(n){this.checkIsTarget(n,At.REPETITION_WITH_SEPARATOR)},t.prototype.visitAlternation=function(n){this.checkIsTarget(n,At.ALTERNATION)},t}(Pa);function qx(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=[];return t}function _0(e){for(var t=[""],n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<t.length;o++){var s=t[o];i.push(s+"_"+r.tokenTypeIdx);for(var c=0;c<r.categoryMatches.length;c++){var l="_"+r.categoryMatches[c];i.push(s+l)}}t=i}return t}function oV(e,t,n){for(var r=0;r<e.length;r++)if(r!==n)for(var i=e[r],o=0;o<t.length;o++){var s=t[o];if(i[s]===!0)return!1}return!0}function ik(e,t){for(var n=Fe(e,function(a){return Qy([a],1)}),r=qx(n.length),i=Fe(n,function(a){var d={};return qe(a,function(h){var m=_0(h.partialPath);qe(m,function(y){d[y]=!0})}),d}),o=n,s=1;s<=t;s++){var c=o;o=qx(c.length);for(var l=function(a){for(var d=c[a],h=0;h<d.length;h++){var m=d[h].partialPath,y=d[h].suffixDef,g=_0(m),v=oV(i,g,a);if(v||Ot(y)||m.length===t){var w=r[a];if(Ky(w,m)===!1){w.push(m);for(var T=0;T<g.length;T++){var N=g[T];i[a][N]=!0}}}else{var b=Qy(y,s+1,m);o[a]=o[a].concat(b),qe(b,function(S){var x=_0(S.partialPath);qe(x,function(O){i[a][O]=!0})})}}},u=0;u<c.length;u++)l(u)}return r}function Kw(e,t,n,r){var i=new rk(e,At.ALTERNATION,r);return t.accept(i),ik(i.result,n)}function Xw(e,t,n,r){var i=new rk(e,n);t.accept(i);var o=i.result,s=new iV(t,e,n),c=s.startWalking(),l=new Vn({definition:o}),u=new Vn({definition:c});return ik([l,u],r)}function Ky(e,t){e:for(var n=0;n<e.length;n++){var r=e[n];if(r.length===t.length){for(var i=0;i<r.length;i++){var o=t[i],s=r[i],c=o===s||s.categoryMatchesMap[o.tokenTypeIdx]!==void 0;if(c===!1)continue e}return!0}}return!1}function sV(e,t){return e.length<t.length&&Fr(e,function(n,r){var i=t[r];return n===i||i.categoryMatchesMap[n.tokenTypeIdx]})}function ok(e){return Fr(e,function(t){return Fr(t,function(n){return Fr(n,function(r){return Ot(r.categoryMatches)})})})}var Jw=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();function aV(e,t,n,r,i){var o=Fe(e,function(m){return uV(m,r)}),s=Fe(e,function(m){return ak(m,m,r)}),c=[],l=[],u=[];Fr(s,Ot)&&(c=Fe(e,function(m){return hV(m,r)}),l=Fe(e,function(m){return pV(m,t,r)}),u=vV(e,t,r));var a=wV(e,n,r),d=Fe(e,function(m){return gV(m,r)}),h=Fe(e,function(m){return fV(m,e,i,r)});return _r(o.concat(u,s,c,l,a,d,h))}function uV(e,t){var n=new cV;e.accept(n);var r=n.allProductions,i=jB(r,lV),o=wi(i,function(c){return c.length>1}),s=Fe(ar(o),function(c){var l=hi(c),u=t.buildDuplicateFoundError(e,c),a=Ii(l),d={message:u,type:Xn.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:a,occurrence:l.idx},h=sk(l);return h&&(d.parameter=h),d});return s}function lV(e){return Ii(e)+"_#_"+e.idx+"_#_"+sk(e)}function sk(e){return e instanceof Lt?e.terminalType.name:e instanceof Kn?e.nonTerminalName:""}var cV=function(e){Jw(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.allProductions=[],n}return t.prototype.visitNonTerminal=function(n){this.allProductions.push(n)},t.prototype.visitOption=function(n){this.allProductions.push(n)},t.prototype.visitRepetitionWithSeparator=function(n){this.allProductions.push(n)},t.prototype.visitRepetitionMandatory=function(n){this.allProductions.push(n)},t.prototype.visitRepetitionMandatoryWithSeparator=function(n){this.allProductions.push(n)},t.prototype.visitRepetition=function(n){this.allProductions.push(n)},t.prototype.visitAlternation=function(n){this.allProductions.push(n)},t.prototype.visitTerminal=function(n){this.allProductions.push(n)},t}(Pa);function fV(e,t,n,r){var i=[],o=Pn(t,function(c,l){return l.name===e.name?c+1:c},0);if(o>1){var s=r.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});i.push({message:s,type:Xn.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}function dV(e,t,n){var r=[],i;return cn(t,e)||(i="Invalid rule override, rule: ->"+e+"<- cannot be overridden in the grammar: ->"+n+"<-as it is not defined in any of the super grammars ",r.push({message:i,type:Xn.INVALID_RULE_OVERRIDE,ruleName:e})),r}function ak(e,t,n,r){r===void 0&&(r=[]);var i=[],o=Gh(t.definition);if(Ot(o))return[];var s=e.name,c=cn(o,e);c&&i.push({message:n.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:r}),type:Xn.LEFT_RECURSION,ruleName:s});var l=fm(o,r.concat([e])),u=Fe(l,function(a){var d=fr(r);return d.push(a),ak(e,a,n,d)});return i.concat(_r(u))}function Gh(e){var t=[];if(Ot(e))return t;var n=hi(e);if(n instanceof Kn)t.push(n.referencedRule);else if(n instanceof Vn||n instanceof Bn||n instanceof Vr||n instanceof jr||n instanceof br||n instanceof Zt)t=t.concat(Gh(n.definition));else if(n instanceof xr)t=_r(Fe(n.definition,function(s){return Gh(s.definition)}));else if(!(n instanceof Lt))throw Error("non exhaustive match");var r=Tp(n),i=e.length>1;if(r&&i){var o=Cn(e);return t.concat(Gh(o))}else return t}var Zw=function(e){Jw(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.alternations=[],n}return t.prototype.visitAlternation=function(n){this.alternations.push(n)},t}(Pa);function hV(e,t){var n=new Zw;e.accept(n);var r=n.alternations,i=Pn(r,function(o,s){var c=tf(s.definition),l=Fe(c,function(u,a){var d=tk([u],[],null,1);return Ot(d)?{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:s,emptyChoiceIdx:a}),type:Xn.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:s.idx,alternative:a+1}:null});return o.concat(xf(l))},[]);return i}function pV(e,t,n){var r=new Zw;e.accept(r);var i=r.alternations;i=El(i,function(s){return s.ignoreAmbiguities===!0});var o=Pn(i,function(s,c){var l=c.idx,u=c.maxLookahead||t,a=Kw(l,e,u,c),d=yV(a,c,e,n),h=EV(a,c,e,n);return s.concat(d,h)},[]);return o}var mV=function(e){Jw(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.allProductions=[],n}return t.prototype.visitRepetitionWithSeparator=function(n){this.allProductions.push(n)},t.prototype.visitRepetitionMandatory=function(n){this.allProductions.push(n)},t.prototype.visitRepetitionMandatoryWithSeparator=function(n){this.allProductions.push(n)},t.prototype.visitRepetition=function(n){this.allProductions.push(n)},t}(Pa);function gV(e,t){var n=new Zw;e.accept(n);var r=n.alternations,i=Pn(r,function(o,s){return s.definition.length>255&&o.push({message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:s}),type:Xn.TOO_MANY_ALTS,ruleName:e.name,occurrence:s.idx}),o},[]);return i}function vV(e,t,n){var r=[];return qe(e,function(i){var o=new mV;i.accept(o);var s=o.allProductions;qe(s,function(c){var l=Z$(c),u=c.maxLookahead||t,a=c.idx,d=Xw(a,i,l,u),h=d[0];if(Ot(_r(h))){var m=n.buildEmptyRepetitionError({topLevelRule:i,repetition:c});r.push({message:m,type:Xn.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),r}function yV(e,t,n,r){var i=[],o=Pn(e,function(c,l,u){return t.definition[u].ignoreAmbiguities===!0||qe(l,function(a){var d=[u];qe(e,function(h,m){u!==m&&Ky(h,a)&&t.definition[m].ignoreAmbiguities!==!0&&d.push(m)}),d.length>1&&!Ky(i,a)&&(i.push(a),c.push({alts:d,path:a}))}),c},[]),s=Fe(o,function(c){var l=Fe(c.alts,function(a){return a+1}),u=r.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:l,prefixPath:c.path});return{message:u,type:Xn.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:[c.alts]}});return s}function EV(e,t,n,r){var i=[],o=Pn(e,function(s,c,l){var u=Fe(c,function(a){return{idx:l,path:a}});return s.concat(u)},[]);return qe(o,function(s){var c=t.definition[s.idx];if(c.ignoreAmbiguities!==!0){var l=s.idx,u=s.path,a=BB(o,function(h){return t.definition[h.idx].ignoreAmbiguities!==!0&&h.idx<l&&sV(h.path,u)}),d=Fe(a,function(h){var m=[h.idx+1,l+1],y=t.idx===0?"":t.idx,g=r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:m,prefixPath:h.path});return{message:g,type:Xn.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:y,alternatives:m}});i=i.concat(d)}}),i}function wV(e,t,n){var r=[],i=Fe(t,function(o){return o.name});return qe(e,function(o){var s=o.name;if(cn(i,s)){var c=n.buildNamespaceConflictError(o);r.push({message:c,type:Xn.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:s})}}),r}function uk(e){e=Hw(e,{errMsgProvider:ek});var t={};return qe(e.rules,function(n){t[n.name]=n}),H$(t,e.errMsgProvider)}function lk(e){return e=Hw(e,{errMsgProvider:gm}),aV(e.rules,e.maxLookahead,e.tokenTypes,e.errMsgProvider,e.grammarName)}function TV(e){qe(e.rules,function(t){var n=new JC;t.accept(n),qe(n.dslMethods,function(r){qe(r,function(i,o){i.idx=o+1})})})}var Of=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ck="MismatchedTokenException",fk="NoViableAltException",dk="EarlyExitException",hk="NotAllInputParsedException",pk=[ck,fk,dk,hk];Object.freeze(pk);function nf(e){return cn(pk,e.name)}var ym=function(e){Of(t,e);function t(n,r){var i=this.constructor,o=e.call(this,n)||this;return o.token=r,o.resyncedTokens=[],Object.setPrototypeOf(o,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,o.constructor),o}return t}(Error),e1=function(e){Of(t,e);function t(n,r,i){var o=e.call(this,n,r)||this;return o.previousToken=i,o.name=ck,o}return t}(ym),mk=function(e){Of(t,e);function t(n,r,i){var o=e.call(this,n,r)||this;return o.previousToken=i,o.name=fk,o}return t}(ym),gk=function(e){Of(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.name=hk,i}return t}(ym),vk=function(e){Of(t,e);function t(n,r,i){var o=e.call(this,n,r)||this;return o.previousToken=i,o.name=dk,o}return t}(ym),N0={},yk="InRuleRecoveryException";function Ek(e){this.name=yk,this.message=e}Ek.prototype=Error.prototype;var _V=function(){function e(){}return e.prototype.initRecoverable=function(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Ye(t,"recoveryEnabled")?t.recoveryEnabled:To.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=NV)},e.prototype.getTokenToInsert=function(t){var n=pm(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return n.isInsertedInRecovery=!0,n},e.prototype.canTokenTypeBeInsertedInRecovery=function(t){return!0},e.prototype.tryInRepetitionRecovery=function(t,n,r,i){for(var o=this,s=this.findReSyncTokenType(),c=this.exportLexerState(),l=[],u=!1,a=this.LA(1),d=this.LA(1),h=function(){var m=o.LA(0),y=o.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:a,previous:m,ruleName:o.getCurrRuleFullName()}),g=new e1(y,a,o.LA(0));g.resyncedTokens=tf(l),o.SAVE_ERROR(g)};!u;)if(this.tokenMatcher(d,i)){h();return}else if(r.call(this)){h(),t.apply(this,n);return}else this.tokenMatcher(d,s)?u=!0:(d=this.SKIP_TOKEN(),this.addToResyncTokens(d,l));this.importLexerState(c)},e.prototype.shouldInRepetitionRecoveryBeTried=function(t,n,r){return!(r===!1||t===void 0||n===void 0||this.tokenMatcher(this.LA(1),t)||this.isBackTracking()||this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,n)))},e.prototype.getFollowsForInRuleRecovery=function(t,n){var r=this.getCurrentGrammarPath(t,n),i=this.getNextPossibleTokenTypes(r);return i},e.prototype.tryInRuleRecovery=function(t,n){if(this.canRecoverWithSingleTokenInsertion(t,n)){var r=this.getTokenToInsert(t);return r}if(this.canRecoverWithSingleTokenDeletion(t)){var i=this.SKIP_TOKEN();return this.consumeToken(),i}throw new Ek("sad sad panda")},e.prototype.canPerformInRuleRecovery=function(t,n){return this.canRecoverWithSingleTokenInsertion(t,n)||this.canRecoverWithSingleTokenDeletion(t)},e.prototype.canRecoverWithSingleTokenInsertion=function(t,n){var r=this;if(!this.canTokenTypeBeInsertedInRecovery(t)||Ot(n))return!1;var i=this.LA(1),o=rl(n,function(s){return r.tokenMatcher(i,s)})!==void 0;return o},e.prototype.canRecoverWithSingleTokenDeletion=function(t){var n=this.tokenMatcher(this.LA(2),t);return n},e.prototype.isInCurrentRuleReSyncSet=function(t){var n=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(n);return cn(r,t)},e.prototype.findReSyncTokenType=function(){for(var t=this.flattenFollowSet(),n=this.LA(1),r=2;;){var i=n.tokenType;if(cn(t,i))return i;n=this.LA(r),r++}},e.prototype.getCurrFollowKey=function(){if(this.RULE_STACK.length===1)return N0;var t=this.getLastExplicitRuleShortName(),n=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(r)}},e.prototype.buildFullFollowKeyStack=function(){var t=this,n=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return Fe(n,function(i,o){return o===0?N0:{ruleName:t.shortRuleNameToFullName(i),idxInCallingRule:r[o],inRule:t.shortRuleNameToFullName(n[o-1])}})},e.prototype.flattenFollowSet=function(){var t=this,n=Fe(this.buildFullFollowKeyStack(),function(r){return t.getFollowSetFromFollowKey(r)});return _r(n)},e.prototype.getFollowSetFromFollowKey=function(t){if(t===N0)return[Rs];var n=t.ruleName+t.idxInCallingRule+ZC+t.inRule;return this.resyncFollows[n]},e.prototype.addToResyncTokens=function(t,n){return this.tokenMatcher(t,Rs)||n.push(t),n},e.prototype.reSyncTo=function(t){for(var n=[],r=this.LA(1);this.tokenMatcher(r,t)===!1;)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,n);return tf(n)},e.prototype.attemptInRepetitionRecovery=function(t,n,r,i,o,s,c){},e.prototype.getCurrentGrammarPath=function(t,n){var r=this.getHumanReadableRuleStack(),i=fr(this.RULE_OCCURRENCE_STACK),o={ruleStack:r,occurrenceStack:i,lastTok:t,lastTokOccurrence:n};return o},e.prototype.getHumanReadableRuleStack=function(){var t=this;return Fe(this.RULE_STACK,function(n){return t.shortRuleNameToFullName(n)})},e}();function NV(e,t,n,r,i,o,s){var c=this.getKeyForAutomaticLookahead(r,i),l=this.firstAfterRepMap[c];if(l===void 0){var u=this.getCurrRuleFullName(),a=this.getGAstProductions()[u],d=new o(a,i);l=d.startWalking(),this.firstAfterRepMap[c]=l}var h=l.token,m=l.occurrence,y=l.isEndOfRule;this.RULE_STACK.length===1&&y&&h===void 0&&(h=Rs,m=1),this.shouldInRepetitionRecoveryBeTried(h,m,s)&&this.tryInRepetitionRecovery(e,t,n,h)}var bV=4,Cs=8,wk=1<<Cs,Tk=2<<Cs,Xy=3<<Cs,Jy=4<<Cs,Zy=5<<Cs,Yh=6<<Cs;function b0(e,t,n){return n|t|e}var xV=function(){function e(){}return e.prototype.initLooksAhead=function(t){this.dynamicTokensEnabled=Ye(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:To.dynamicTokensEnabled,this.maxLookahead=Ye(t,"maxLookahead")?t.maxLookahead:To.maxLookahead,this.lookAheadFuncsCache=Rx()?new Map:[],Rx()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},e.prototype.preComputeLookaheadFunctions=function(t){var n=this;qe(t,function(r){n.TRACE_INIT(r.name+" Rule Lookahead",function(){var i=F$(r),o=i.alternation,s=i.repetition,c=i.option,l=i.repetitionMandatory,u=i.repetitionMandatoryWithSeparator,a=i.repetitionWithSeparator;qe(o,function(d){var h=d.idx===0?"":d.idx;n.TRACE_INIT(""+Ii(d)+h,function(){var m=eV(d.idx,r,d.maxLookahead||n.maxLookahead,d.hasPredicates,n.dynamicTokensEnabled,n.lookAheadBuilderForAlternatives),y=b0(n.fullRuleNameToShort[r.name],wk,d.idx);n.setLaFuncCache(y,m)})}),qe(s,function(d){n.computeLookaheadFunc(r,d.idx,Xy,At.REPETITION,d.maxLookahead,Ii(d))}),qe(c,function(d){n.computeLookaheadFunc(r,d.idx,Tk,At.OPTION,d.maxLookahead,Ii(d))}),qe(l,function(d){n.computeLookaheadFunc(r,d.idx,Jy,At.REPETITION_MANDATORY,d.maxLookahead,Ii(d))}),qe(u,function(d){n.computeLookaheadFunc(r,d.idx,Yh,At.REPETITION_MANDATORY_WITH_SEPARATOR,d.maxLookahead,Ii(d))}),qe(a,function(d){n.computeLookaheadFunc(r,d.idx,Zy,At.REPETITION_WITH_SEPARATOR,d.maxLookahead,Ii(d))})})})},e.prototype.computeLookaheadFunc=function(t,n,r,i,o,s){var c=this;this.TRACE_INIT(""+s+(n===0?"":n),function(){var l=tV(n,t,o||c.maxLookahead,c.dynamicTokensEnabled,i,c.lookAheadBuilderForOptional),u=b0(c.fullRuleNameToShort[t.name],r,n);c.setLaFuncCache(u,l)})},e.prototype.lookAheadBuilderForOptional=function(t,n,r){return rV(t,n,r)},e.prototype.lookAheadBuilderForAlternatives=function(t,n,r,i){return nV(t,n,r,i)},e.prototype.getKeyForAutomaticLookahead=function(t,n){var r=this.getLastExplicitRuleShortName();return b0(r,t,n)},e.prototype.getLaFuncFromCache=function(t){},e.prototype.getLaFuncFromMap=function(t){return this.lookAheadFuncsCache.get(t)},e.prototype.getLaFuncFromObj=function(t){return this.lookAheadFuncsCache[t]},e.prototype.setLaFuncCache=function(t,n){},e.prototype.setLaFuncCacheUsingMap=function(t,n){this.lookAheadFuncsCache.set(t,n)},e.prototype.setLaFuncUsingObj=function(t,n){this.lookAheadFuncsCache[t]=n},e}();function Wx(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function Hx(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function RV(e,t,n){e.children[n]===void 0?e.children[n]=[t]:e.children[n].push(t)}function SV(e,t,n){e.children[t]===void 0?e.children[t]=[n]:e.children[t].push(n)}function AV(e){return Em(e.constructor)}var Gx="name";function Em(e){var t=e.name;return t||"anonymous"}function _k(e,t){var n=Object.getOwnPropertyDescriptor(e,Gx);return Eo(n)||n.configurable?(Object.defineProperty(e,Gx,{enumerable:!1,configurable:!0,writable:!1,value:t}),!0):!1}function OV(e,t){for(var n=di(e),r=n.length,i=0;i<r;i++)for(var o=n[i],s=e[o],c=s.length,l=0;l<c;l++){var u=s[l];u.tokenTypeIdx===void 0&&this[u.name](u.children,t)}}function IV(e,t){var n=function(){};_k(n,e+"BaseSemantics");var r={visit:function(i,o){if(Mi(i)&&(i=i[0]),!Eo(i))return this[i.name](i.children,o)},validateVisitor:function(){var i=kV(this,t);if(!Ot(i)){var o=Fe(i,function(s){return s.msg});throw Error("Errors Detected in CST Visitor <"+Em(this.constructor)+`>:
	`+(""+o.join(`

`).replace(/\n/g,`
	`)))}}};return n.prototype=r,n.prototype.constructor=n,n._RULE_NAMES=t,n}function CV(e,t,n){var r=function(){};_k(r,e+"BaseSemanticsWithDefaults");var i=Object.create(n.prototype);return qe(t,function(o){i[o]=OV}),r.prototype=i,r.prototype.constructor=r,r}var _p;(function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"})(_p||(_p={}));function kV(e,t){var n=MV(e,t),r=LV(e,t);return n.concat(r)}function MV(e,t){var n=Fe(t,function(r){if(!Is(e[r]))return{msg:"Missing visitor method: <"+r+"> on "+Em(e.constructor)+" CST Visitor.",type:_p.MISSING_METHOD,methodName:r}});return xf(n)}var PV=["constructor","visit","validateVisitor"];function LV(e,t){var n=[];for(var r in e)Is(e[r])&&!cn(PV,r)&&!cn(t,r)&&n.push({msg:"Redundant visitor method: <"+r+"> on "+Em(e.constructor)+` CST Visitor
There is no Grammar Rule corresponding to this method's name.
`,type:_p.REDUNDANT_METHOD,methodName:r});return n}var DV=function(){function e(){}return e.prototype.initTreeBuilder=function(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=Ye(t,"nodeLocationTracking")?t.nodeLocationTracking:To.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=yn,this.cstFinallyStateUpdate=yn,this.cstPostTerminal=yn,this.cstPostNonTerminal=yn,this.cstPostRule=yn;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Hx,this.setNodeLocationFromNode=Hx,this.cstPostRule=yn,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=yn,this.setNodeLocationFromNode=yn,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Wx,this.setNodeLocationFromNode=Wx,this.cstPostRule=yn,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=yn,this.setNodeLocationFromNode=yn,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=yn,this.setNodeLocationFromNode=yn,this.cstPostRule=yn,this.setInitialNodeLocation=yn;else throw Error('Invalid <nodeLocationTracking> config option: "'+t.nodeLocationTracking+'"')},e.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(t){t.location={startOffset:NaN,endOffset:NaN}},e.prototype.setInitialNodeLocationOnlyOffsetRegular=function(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},e.prototype.setInitialNodeLocationFullRecovery=function(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.setInitialNodeLocationFullRegular=function(t){var n=this.LA(1);t.location={startOffset:n.startOffset,startLine:n.startLine,startColumn:n.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.cstInvocationStateUpdate=function(t,n){var r={name:t,children:{}};this.setInitialNodeLocation(r),this.CST_STACK.push(r)},e.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},e.prototype.cstPostRuleFull=function(t){var n=this.LA(0),r=t.location;r.startOffset<=n.startOffset?(r.endOffset=n.endOffset,r.endLine=n.endLine,r.endColumn=n.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)},e.prototype.cstPostRuleOnlyOffset=function(t){var n=this.LA(0),r=t.location;r.startOffset<=n.startOffset?r.endOffset=n.endOffset:r.startOffset=NaN},e.prototype.cstPostTerminal=function(t,n){var r=this.CST_STACK[this.CST_STACK.length-1];RV(r,n,t),this.setNodeLocationFromToken(r.location,n)},e.prototype.cstPostNonTerminal=function(t,n){var r=this.CST_STACK[this.CST_STACK.length-1];SV(r,n,t),this.setNodeLocationFromNode(r.location,t.location)},e.prototype.getBaseCstVisitorConstructor=function(){if(Eo(this.baseCstVisitorConstructor)){var t=IV(this.className,di(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor},e.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if(Eo(this.baseCstVisitorWithDefaultsConstructor)){var t=CV(this.className,di(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor},e.prototype.getLastExplicitRuleShortName=function(){var t=this.RULE_STACK;return t[t.length-1]},e.prototype.getPreviousExplicitRuleShortName=function(){var t=this.RULE_STACK;return t[t.length-2]},e.prototype.getLastExplicitRuleOccurrenceIndex=function(){var t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]},e}(),FV=function(){function e(){}return e.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(e.prototype,"input",{get:function(){return this.tokVector},set:function(t){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length},enumerable:!1,configurable:!0}),e.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):bp},e.prototype.LA=function(t){var n=this.currIdx+t;return n<0||this.tokVectorLength<=n?bp:this.tokVector[n]},e.prototype.consumeToken=function(){this.currIdx++},e.prototype.exportLexerState=function(){return this.currIdx},e.prototype.importLexerState=function(t){this.currIdx=t},e.prototype.resetLexerState=function(){this.currIdx=-1},e.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},e.prototype.getLexerPosition=function(){return this.exportLexerState()},e}(),UV=function(){function e(){}return e.prototype.ACTION=function(t){return t.call(this)},e.prototype.consume=function(t,n,r){return this.consumeInternal(n,t,r)},e.prototype.subrule=function(t,n,r){return this.subruleInternal(n,t,r)},e.prototype.option=function(t,n){return this.optionInternal(n,t)},e.prototype.or=function(t,n){return this.orInternal(n,t)},e.prototype.many=function(t,n){return this.manyInternal(t,n)},e.prototype.atLeastOne=function(t,n){return this.atLeastOneInternal(t,n)},e.prototype.CONSUME=function(t,n){return this.consumeInternal(t,0,n)},e.prototype.CONSUME1=function(t,n){return this.consumeInternal(t,1,n)},e.prototype.CONSUME2=function(t,n){return this.consumeInternal(t,2,n)},e.prototype.CONSUME3=function(t,n){return this.consumeInternal(t,3,n)},e.prototype.CONSUME4=function(t,n){return this.consumeInternal(t,4,n)},e.prototype.CONSUME5=function(t,n){return this.consumeInternal(t,5,n)},e.prototype.CONSUME6=function(t,n){return this.consumeInternal(t,6,n)},e.prototype.CONSUME7=function(t,n){return this.consumeInternal(t,7,n)},e.prototype.CONSUME8=function(t,n){return this.consumeInternal(t,8,n)},e.prototype.CONSUME9=function(t,n){return this.consumeInternal(t,9,n)},e.prototype.SUBRULE=function(t,n){return this.subruleInternal(t,0,n)},e.prototype.SUBRULE1=function(t,n){return this.subruleInternal(t,1,n)},e.prototype.SUBRULE2=function(t,n){return this.subruleInternal(t,2,n)},e.prototype.SUBRULE3=function(t,n){return this.subruleInternal(t,3,n)},e.prototype.SUBRULE4=function(t,n){return this.subruleInternal(t,4,n)},e.prototype.SUBRULE5=function(t,n){return this.subruleInternal(t,5,n)},e.prototype.SUBRULE6=function(t,n){return this.subruleInternal(t,6,n)},e.prototype.SUBRULE7=function(t,n){return this.subruleInternal(t,7,n)},e.prototype.SUBRULE8=function(t,n){return this.subruleInternal(t,8,n)},e.prototype.SUBRULE9=function(t,n){return this.subruleInternal(t,9,n)},e.prototype.OPTION=function(t){return this.optionInternal(t,0)},e.prototype.OPTION1=function(t){return this.optionInternal(t,1)},e.prototype.OPTION2=function(t){return this.optionInternal(t,2)},e.prototype.OPTION3=function(t){return this.optionInternal(t,3)},e.prototype.OPTION4=function(t){return this.optionInternal(t,4)},e.prototype.OPTION5=function(t){return this.optionInternal(t,5)},e.prototype.OPTION6=function(t){return this.optionInternal(t,6)},e.prototype.OPTION7=function(t){return this.optionInternal(t,7)},e.prototype.OPTION8=function(t){return this.optionInternal(t,8)},e.prototype.OPTION9=function(t){return this.optionInternal(t,9)},e.prototype.OR=function(t){return this.orInternal(t,0)},e.prototype.OR1=function(t){return this.orInternal(t,1)},e.prototype.OR2=function(t){return this.orInternal(t,2)},e.prototype.OR3=function(t){return this.orInternal(t,3)},e.prototype.OR4=function(t){return this.orInternal(t,4)},e.prototype.OR5=function(t){return this.orInternal(t,5)},e.prototype.OR6=function(t){return this.orInternal(t,6)},e.prototype.OR7=function(t){return this.orInternal(t,7)},e.prototype.OR8=function(t){return this.orInternal(t,8)},e.prototype.OR9=function(t){return this.orInternal(t,9)},e.prototype.MANY=function(t){this.manyInternal(0,t)},e.prototype.MANY1=function(t){this.manyInternal(1,t)},e.prototype.MANY2=function(t){this.manyInternal(2,t)},e.prototype.MANY3=function(t){this.manyInternal(3,t)},e.prototype.MANY4=function(t){this.manyInternal(4,t)},e.prototype.MANY5=function(t){this.manyInternal(5,t)},e.prototype.MANY6=function(t){this.manyInternal(6,t)},e.prototype.MANY7=function(t){this.manyInternal(7,t)},e.prototype.MANY8=function(t){this.manyInternal(8,t)},e.prototype.MANY9=function(t){this.manyInternal(9,t)},e.prototype.MANY_SEP=function(t){this.manySepFirstInternal(0,t)},e.prototype.MANY_SEP1=function(t){this.manySepFirstInternal(1,t)},e.prototype.MANY_SEP2=function(t){this.manySepFirstInternal(2,t)},e.prototype.MANY_SEP3=function(t){this.manySepFirstInternal(3,t)},e.prototype.MANY_SEP4=function(t){this.manySepFirstInternal(4,t)},e.prototype.MANY_SEP5=function(t){this.manySepFirstInternal(5,t)},e.prototype.MANY_SEP6=function(t){this.manySepFirstInternal(6,t)},e.prototype.MANY_SEP7=function(t){this.manySepFirstInternal(7,t)},e.prototype.MANY_SEP8=function(t){this.manySepFirstInternal(8,t)},e.prototype.MANY_SEP9=function(t){this.manySepFirstInternal(9,t)},e.prototype.AT_LEAST_ONE=function(t){this.atLeastOneInternal(0,t)},e.prototype.AT_LEAST_ONE1=function(t){return this.atLeastOneInternal(1,t)},e.prototype.AT_LEAST_ONE2=function(t){this.atLeastOneInternal(2,t)},e.prototype.AT_LEAST_ONE3=function(t){this.atLeastOneInternal(3,t)},e.prototype.AT_LEAST_ONE4=function(t){this.atLeastOneInternal(4,t)},e.prototype.AT_LEAST_ONE5=function(t){this.atLeastOneInternal(5,t)},e.prototype.AT_LEAST_ONE6=function(t){this.atLeastOneInternal(6,t)},e.prototype.AT_LEAST_ONE7=function(t){this.atLeastOneInternal(7,t)},e.prototype.AT_LEAST_ONE8=function(t){this.atLeastOneInternal(8,t)},e.prototype.AT_LEAST_ONE9=function(t){this.atLeastOneInternal(9,t)},e.prototype.AT_LEAST_ONE_SEP=function(t){this.atLeastOneSepFirstInternal(0,t)},e.prototype.AT_LEAST_ONE_SEP1=function(t){this.atLeastOneSepFirstInternal(1,t)},e.prototype.AT_LEAST_ONE_SEP2=function(t){this.atLeastOneSepFirstInternal(2,t)},e.prototype.AT_LEAST_ONE_SEP3=function(t){this.atLeastOneSepFirstInternal(3,t)},e.prototype.AT_LEAST_ONE_SEP4=function(t){this.atLeastOneSepFirstInternal(4,t)},e.prototype.AT_LEAST_ONE_SEP5=function(t){this.atLeastOneSepFirstInternal(5,t)},e.prototype.AT_LEAST_ONE_SEP6=function(t){this.atLeastOneSepFirstInternal(6,t)},e.prototype.AT_LEAST_ONE_SEP7=function(t){this.atLeastOneSepFirstInternal(7,t)},e.prototype.AT_LEAST_ONE_SEP8=function(t){this.atLeastOneSepFirstInternal(8,t)},e.prototype.AT_LEAST_ONE_SEP9=function(t){this.atLeastOneSepFirstInternal(9,t)},e.prototype.RULE=function(t,n,r){if(r===void 0&&(r=xp),cn(this.definedRulesNames,t)){var i=gm.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),o={message:i,type:Xn.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(o)}this.definedRulesNames.push(t);var s=this.defineRule(t,n,r);return this[t]=s,s},e.prototype.OVERRIDE_RULE=function(t,n,r){r===void 0&&(r=xp);var i=[];i=i.concat(dV(t,this.definedRulesNames,this.className)),this.definitionErrors.push.apply(this.definitionErrors,i);var o=this.defineRule(t,n,r);return this[t]=o,o},e.prototype.BACKTRACK=function(t,n){return function(){this.isBackTrackingStack.push(1);var r=this.saveRecogState();try{return t.apply(this,n),!0}catch(i){if(nf(i))return!1;throw i}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}},e.prototype.getGAstProductions=function(){return this.gastProductionsCache},e.prototype.getSerializedGastProductions=function(){return XC(ar(this.gastProductionsCache))},e}(),BV=function(){function e(){}return e.prototype.initRecognizerEngine=function(t,n){if(this.className=AV(this),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=wp,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Ye(n,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Mi(t)){if(Ot(t))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof t[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Mi(t))this.tokensMap=Pn(t,function(s,c){return s[c.name]=c,s},{});else if(Ye(t,"modes")&&Fr(_r(ar(t.modes)),O$)){var r=_r(ar(t.modes)),i=qw(r);this.tokensMap=Pn(i,function(s,c){return s[c.name]=c,s},{})}else if(Ww(t))this.tokensMap=bf(t);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Rs;var o=Fr(ar(t),function(s){return Ot(s.categoryMatches)});this.tokenMatcher=o?wp:hm,Sf(ar(this.tokensMap))},e.prototype.defineRule=function(t,n,r){if(this.selfAnalysisDone)throw Error("Grammar rule <"+t+`> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);var i=Ye(r,"resyncEnabled")?r.resyncEnabled:xp.resyncEnabled,o=Ye(r,"recoveryValueFunc")?r.recoveryValueFunc:xp.recoveryValueFunc,s=this.ruleShortNameIdx<<bV+Cs;this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=t,this.fullRuleNameToShort[t]=s;function c(a){try{if(this.outputCst===!0){n.apply(this,a);var d=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(d),d}else return n.apply(this,a)}catch(h){return this.invokeRuleCatch(h,i,o)}finally{this.ruleFinallyStateUpdate()}}var l;l=function(a,d){return a===void 0&&(a=0),this.ruleInvocationStateUpdate(s,t,a),c.call(this,d)};var u="ruleName";return l[u]=t,l.originalGrammarAction=n,l},e.prototype.invokeRuleCatch=function(t,n,r){var i=this.RULE_STACK.length===1,o=n&&!this.isBackTracking()&&this.recoveryEnabled;if(nf(t)){var s=t;if(o){var c=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(c))if(s.resyncedTokens=this.reSyncTo(c),this.outputCst){var l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return r();else{if(this.outputCst){var l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,s.partialCstResult=l}throw s}}else{if(i)return this.moveToTerminatedState(),r();throw s}}else throw t},e.prototype.optionInternal=function(t,n){var r=this.getKeyForAutomaticLookahead(Tk,n);return this.optionInternalLogic(t,n,r)},e.prototype.optionInternalLogic=function(t,n,r){var i=this,o=this.getLaFuncFromCache(r),s,c;if(t.DEF!==void 0){if(s=t.DEF,c=t.GATE,c!==void 0){var l=o;o=function(){return c.call(i)&&l.call(i)}}}else s=t;if(o.call(this)===!0)return s.call(this)},e.prototype.atLeastOneInternal=function(t,n){var r=this.getKeyForAutomaticLookahead(Jy,t);return this.atLeastOneInternalLogic(t,n,r)},e.prototype.atLeastOneInternalLogic=function(t,n,r){var i=this,o=this.getLaFuncFromCache(r),s,c;if(n.DEF!==void 0){if(s=n.DEF,c=n.GATE,c!==void 0){var l=o;o=function(){return c.call(i)&&l.call(i)}}}else s=n;if(o.call(this)===!0)for(var u=this.doSingleRepetition(s);o.call(this)===!0&&u===!0;)u=this.doSingleRepetition(s);else throw this.raiseEarlyExitException(t,At.REPETITION_MANDATORY,n.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,n],o,Jy,t,X$)},e.prototype.atLeastOneSepFirstInternal=function(t,n){var r=this.getKeyForAutomaticLookahead(Yh,t);this.atLeastOneSepFirstInternalLogic(t,n,r)},e.prototype.atLeastOneSepFirstInternalLogic=function(t,n,r){var i=this,o=n.DEF,s=n.SEP,c=this.getLaFuncFromCache(r);if(c.call(this)===!0){o.call(this);for(var l=function(){return i.tokenMatcher(i.LA(1),s)};this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),o.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,s,l,o,zx],l,Yh,t,zx)}else throw this.raiseEarlyExitException(t,At.REPETITION_MANDATORY_WITH_SEPARATOR,n.ERR_MSG)},e.prototype.manyInternal=function(t,n){var r=this.getKeyForAutomaticLookahead(Xy,t);return this.manyInternalLogic(t,n,r)},e.prototype.manyInternalLogic=function(t,n,r){var i=this,o=this.getLaFuncFromCache(r),s,c;if(n.DEF!==void 0){if(s=n.DEF,c=n.GATE,c!==void 0){var l=o;o=function(){return c.call(i)&&l.call(i)}}}else s=n;for(var u=!0;o.call(this)===!0&&u===!0;)u=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[t,n],o,Xy,t,K$,u)},e.prototype.manySepFirstInternal=function(t,n){var r=this.getKeyForAutomaticLookahead(Zy,t);this.manySepFirstInternalLogic(t,n,r)},e.prototype.manySepFirstInternalLogic=function(t,n,r){var i=this,o=n.DEF,s=n.SEP,c=this.getLaFuncFromCache(r);if(c.call(this)===!0){o.call(this);for(var l=function(){return i.tokenMatcher(i.LA(1),s)};this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),o.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,s,l,o,jx],l,Zy,t,jx)}},e.prototype.repetitionSepSecondInternal=function(t,n,r,i,o){for(;r();)this.CONSUME(n),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,n,r,i,o],r,Yh,t,o)},e.prototype.doSingleRepetition=function(t){var n=this.getLexerPosition();t.call(this);var r=this.getLexerPosition();return r>n},e.prototype.orInternal=function(t,n){var r=this.getKeyForAutomaticLookahead(wk,n),i=Mi(t)?t:t.DEF,o=this.getLaFuncFromCache(r),s=o.call(this,i);if(s!==void 0){var c=i[s];return c.ALT.call(this)}this.raiseNoAltException(n,t.ERR_MSG)},e.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){var t=this.LA(1),n=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new gk(n,t))}},e.prototype.subruleInternal=function(t,n,r){var i;try{var o=r!==void 0?r.ARGS:void 0;return i=t.call(this,n,o),this.cstPostNonTerminal(i,r!==void 0&&r.LABEL!==void 0?r.LABEL:t.ruleName),i}catch(s){this.subruleInternalError(s,r,t.ruleName)}},e.prototype.subruleInternalError=function(t,n,r){throw nf(t)&&t.partialCstResult!==void 0&&(this.cstPostNonTerminal(t.partialCstResult,n!==void 0&&n.LABEL!==void 0?n.LABEL:r),delete t.partialCstResult),t},e.prototype.consumeInternal=function(t,n,r){var i;try{var o=this.LA(1);this.tokenMatcher(o,t)===!0?(this.consumeToken(),i=o):this.consumeInternalError(t,o,r)}catch(s){i=this.consumeInternalRecovery(t,n,s)}return this.cstPostTerminal(r!==void 0&&r.LABEL!==void 0?r.LABEL:t.name,i),i},e.prototype.consumeInternalError=function(t,n,r){var i,o=this.LA(0);throw r!==void 0&&r.ERR_MSG?i=r.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:n,previous:o,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new e1(i,n,o))},e.prototype.consumeInternalRecovery=function(t,n,r){if(this.recoveryEnabled&&r.name==="MismatchedTokenException"&&!this.isBackTracking()){var i=this.getFollowsForInRuleRecovery(t,n);try{return this.tryInRuleRecovery(t,i)}catch(o){throw o.name===yk?r:o}}else throw r},e.prototype.saveRecogState=function(){var t=this.errors,n=fr(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:n,CST_STACK:this.CST_STACK}},e.prototype.reloadRecogState=function(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK},e.prototype.ruleInvocationStateUpdate=function(t,n,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(n,t)},e.prototype.isBackTracking=function(){return this.isBackTrackingStack.length!==0},e.prototype.getCurrRuleFullName=function(){var t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]},e.prototype.shortRuleNameToFullName=function(t){return this.shortRuleNameToFull[t]},e.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),Rs)},e.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},e}(),$V=function(){function e(){}return e.prototype.initErrorHandler=function(t){this._errors=[],this.errorMessageProvider=Ye(t,"errorMessageProvider")?t.errorMessageProvider:To.errorMessageProvider},e.prototype.SAVE_ERROR=function(t){if(nf(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:fr(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(e.prototype,"errors",{get:function(){return fr(this._errors)},set:function(t){this._errors=t},enumerable:!1,configurable:!0}),e.prototype.raiseEarlyExitException=function(t,n,r){for(var i=this.getCurrRuleFullName(),o=this.getGAstProductions()[i],s=Xw(t,o,n,this.maxLookahead),c=s[0],l=[],u=1;u<=this.maxLookahead;u++)l.push(this.LA(u));var a=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:c,actual:l,previous:this.LA(0),customUserDescription:r,ruleName:i});throw this.SAVE_ERROR(new vk(a,this.LA(1),this.LA(0)))},e.prototype.raiseNoAltException=function(t,n){for(var r=this.getCurrRuleFullName(),i=this.getGAstProductions()[r],o=Kw(t,i,this.maxLookahead),s=[],c=1;c<=this.maxLookahead;c++)s.push(this.LA(c));var l=this.LA(0),u=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:o,actual:s,previous:l,customUserDescription:n,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new mk(u,this.LA(1),l))},e}(),VV=function(){function e(){}return e.prototype.initContentAssist=function(){},e.prototype.computeContentAssist=function(t,n){var r=this.gastProductionsCache[t];if(Eo(r))throw Error("Rule ->"+t+"<- does not exist in this grammar.");return tk([r],n,this.tokenMatcher,this.maxLookahead)},e.prototype.getNextPossibleTokenTypes=function(t){var n=hi(t.ruleStack),r=this.getGAstProductions(),i=r[n],o=new Q$(i,t).startWalking();return o},e}(),wm={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(wm);var Yx=!0,Qx=Math.pow(2,Cs)-1,Nk=Yw({name:"RECORDING_PHASE_TOKEN",pattern:ai.NA});Sf([Nk]);var bk=pm(Nk,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(bk);var jV={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},zV=function(){function e(){}return e.prototype.initGastRecorder=function(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1},e.prototype.enableRecording=function(){var t=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",function(){for(var n=function(i){var o=i>0?i:"";t["CONSUME"+o]=function(s,c){return this.consumeInternalRecord(s,i,c)},t["SUBRULE"+o]=function(s,c){return this.subruleInternalRecord(s,i,c)},t["OPTION"+o]=function(s){return this.optionInternalRecord(s,i)},t["OR"+o]=function(s){return this.orInternalRecord(s,i)},t["MANY"+o]=function(s){this.manyInternalRecord(i,s)},t["MANY_SEP"+o]=function(s){this.manySepFirstInternalRecord(i,s)},t["AT_LEAST_ONE"+o]=function(s){this.atLeastOneInternalRecord(i,s)},t["AT_LEAST_ONE_SEP"+o]=function(s){this.atLeastOneSepFirstInternalRecord(i,s)}},r=0;r<10;r++)n(r);t.consume=function(i,o,s){return this.consumeInternalRecord(o,i,s)},t.subrule=function(i,o,s){return this.subruleInternalRecord(o,i,s)},t.option=function(i,o){return this.optionInternalRecord(o,i)},t.or=function(i,o){return this.orInternalRecord(o,i)},t.many=function(i,o){this.manyInternalRecord(i,o)},t.atLeastOne=function(i,o){this.atLeastOneInternalRecord(i,o)},t.ACTION=t.ACTION_RECORD,t.BACKTRACK=t.BACKTRACK_RECORD,t.LA=t.LA_RECORD})},e.prototype.disableRecording=function(){var t=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",function(){for(var n=0;n<10;n++){var r=n>0?n:"";delete t["CONSUME"+r],delete t["SUBRULE"+r],delete t["OPTION"+r],delete t["OR"+r],delete t["MANY"+r],delete t["MANY_SEP"+r],delete t["AT_LEAST_ONE"+r],delete t["AT_LEAST_ONE_SEP"+r]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})},e.prototype.ACTION_RECORD=function(t){},e.prototype.BACKTRACK_RECORD=function(t,n){return function(){return!0}},e.prototype.LA_RECORD=function(t){return bp},e.prototype.topLevelRuleRecord=function(t,n){try{var r=new Ma({definition:[],name:t});return r.name=t,this.recordingProdStack.push(r),n.call(this),this.recordingProdStack.pop(),r}catch(i){if(i.KNOWN_RECORDER_ERROR!==!0)try{i.message=i.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw i}throw i}},e.prototype.optionInternalRecord=function(t,n){return fc.call(this,Bn,t,n)},e.prototype.atLeastOneInternalRecord=function(t,n){fc.call(this,Vr,n,t)},e.prototype.atLeastOneSepFirstInternalRecord=function(t,n){fc.call(this,jr,n,t,Yx)},e.prototype.manyInternalRecord=function(t,n){fc.call(this,Zt,n,t)},e.prototype.manySepFirstInternalRecord=function(t,n){fc.call(this,br,n,t,Yx)},e.prototype.orInternalRecord=function(t,n){return qV.call(this,t,n)},e.prototype.subruleInternalRecord=function(t,n,r){if(Np(n),!t||Ye(t,"ruleName")===!1){var i=new Error("<SUBRULE"+Kx(n)+"> argument is invalid"+(" expecting a Parser method reference but got: <"+JSON.stringify(t)+">")+(`
 inside top level rule: <`+this.recordingProdStack[0].name+">"));throw i.KNOWN_RECORDER_ERROR=!0,i}var o=yp(this.recordingProdStack),s=t.ruleName,c=new Kn({idx:n,nonTerminalName:s,referencedRule:void 0});return o.definition.push(c),this.outputCst?jV:wm},e.prototype.consumeInternalRecord=function(t,n,r){if(Np(n),!YC(t)){var i=new Error("<CONSUME"+Kx(n)+"> argument is invalid"+(" expecting a TokenType reference but got: <"+JSON.stringify(t)+">")+(`
 inside top level rule: <`+this.recordingProdStack[0].name+">"));throw i.KNOWN_RECORDER_ERROR=!0,i}var o=yp(this.recordingProdStack),s=new Lt({idx:n,terminalType:t});return o.definition.push(s),bk},e}();function fc(e,t,n,r){r===void 0&&(r=!1),Np(n);var i=yp(this.recordingProdStack),o=Is(t)?t:t.DEF,s=new e({definition:[],idx:n});return r&&(s.separator=t.SEP),Ye(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(s),o.call(this),i.definition.push(s),this.recordingProdStack.pop(),wm}function qV(e,t){var n=this;Np(t);var r=yp(this.recordingProdStack),i=Mi(e)===!1,o=i===!1?e:e.DEF,s=new xr({definition:[],idx:t,ignoreAmbiguities:i&&e.IGNORE_AMBIGUITIES===!0});Ye(e,"MAX_LOOKAHEAD")&&(s.maxLookahead=e.MAX_LOOKAHEAD);var c=DC(o,function(l){return Is(l.GATE)});return s.hasPredicates=c,r.definition.push(s),qe(o,function(l){var u=new Vn({definition:[]});s.definition.push(u),Ye(l,"IGNORE_AMBIGUITIES")?u.ignoreAmbiguities=l.IGNORE_AMBIGUITIES:Ye(l,"GATE")&&(u.ignoreAmbiguities=!0),n.recordingProdStack.push(u),l.ALT.call(n),n.recordingProdStack.pop()}),wm}function Kx(e){return e===0?"":""+e}function Np(e){if(e<0||e>Qx){var t=new Error("Invalid DSL Method idx value: <"+e+`>
	`+("Idx value must be a none negative value smaller than "+(Qx+1)));throw t.KNOWN_RECORDER_ERROR=!0,t}}var WV=function(){function e(){}return e.prototype.initPerformanceTracer=function(t){if(Ye(t,"traceInitPerf")){var n=t.traceInitPerf,r=typeof n=="number";this.traceInitMaxIdent=r?n:1/0,this.traceInitPerf=r?n>0:n}else this.traceInitMaxIdent=0,this.traceInitPerf=To.traceInitPerf;this.traceInitIndent=-1},e.prototype.TRACE_INIT=function(t,n){if(this.traceInitPerf===!0){this.traceInitIndent++;var r=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(r+"--> <"+t+">");var i=BC(n),o=i.time,s=i.value,c=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&c(r+"<-- <"+t+"> time: "+o+"ms"),this.traceInitIndent--,s}else return n()},e}(),xk=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bp=pm(Rs,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(bp);var To=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Qw,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),xp=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0}),Xn;(function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS"})(Xn||(Xn={}));function HV(e){return e===void 0&&(e=void 0),function(){return e}}var t1=function(){function e(t,n){this.definitionErrors=[],this.selfAnalysisDone=!1;var r=this;if(r.initErrorHandler(n),r.initLexerAdapter(),r.initLooksAhead(n),r.initRecognizerEngine(t,n),r.initRecoverable(n),r.initTreeBuilder(n),r.initContentAssist(),r.initGastRecorder(n),r.initPerformanceTracer(n),Ye(n,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Ye(n,"skipValidations")?n.skipValidations:To.skipValidations}return e.performSelfAnalysis=function(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")},e.prototype.performSelfAnalysis=function(){var t=this;this.TRACE_INIT("performSelfAnalysis",function(){var n;t.selfAnalysisDone=!0;var r=t.className;t.TRACE_INIT("toFastProps",function(){UC(t)}),t.TRACE_INIT("Grammar Recording",function(){try{t.enableRecording(),qe(t.definedRulesNames,function(o){var s=t[o],c=s.originalGrammarAction,l=void 0;t.TRACE_INIT(o+" Rule",function(){l=t.topLevelRuleRecord(o,c)}),t.gastProductionsCache[o]=l})}finally{t.disableRecording()}});var i=[];if(t.TRACE_INIT("Grammar Resolving",function(){i=uk({rules:ar(t.gastProductionsCache)}),t.definitionErrors.push.apply(t.definitionErrors,i)}),t.TRACE_INIT("Grammar Validations",function(){if(Ot(i)&&t.skipValidations===!1){var o=lk({rules:ar(t.gastProductionsCache),maxLookahead:t.maxLookahead,tokenTypes:ar(t.tokensMap),errMsgProvider:gm,grammarName:r});t.definitionErrors.push.apply(t.definitionErrors,o)}}),Ot(t.definitionErrors)&&(t.recoveryEnabled&&t.TRACE_INIT("computeAllProdsFollows",function(){var o=z$(ar(t.gastProductionsCache));t.resyncFollows=o}),t.TRACE_INIT("ComputeLookaheadFunctions",function(){t.preComputeLookaheadFunctions(ar(t.gastProductionsCache))})),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!Ot(t.definitionErrors))throw n=Fe(t.definitionErrors,function(o){return o.message}),new Error(`Parser Definition Errors detected:
 `+n.join(`
-------------------------------
`))})},e.DEFER_DEFINITION_ERRORS_HANDLING=!1,e}();qB(t1,[_V,xV,DV,FV,BV,UV,$V,VV,zV,WV]);var GV=function(e){xk(t,e);function t(n,r){r===void 0&&(r=To);var i=this,o=bf(r);return o.outputCst=!0,i=e.call(this,n,o)||this,i}return t}(t1),YV=function(e){xk(t,e);function t(n,r){r===void 0&&(r=To);var i=this,o=bf(r);return o.outputCst=!1,i=e.call(this,n,o)||this,i}return t}(t1);function QV(e,t){var n=t===void 0?{}:t,r=n.resourceBase,i=r===void 0?"https://unpkg.com/chevrotain@"+Wy+"/diagrams/":r,o=n.css,s=o===void 0?"https://unpkg.com/chevrotain@"+Wy+"/diagrams/diagrams.css":o,c=`
<!-- This is a generated file -->
<!DOCTYPE html>
<meta charset="utf-8">
<style>
  body {
    background-color: hsl(30, 20%, 95%)
  }
</style>

`,l=`
<link rel='stylesheet' href='`+s+`'>
`,u=`
<script src='`+i+`vendor/railroad-diagrams.js'><\/script>
<script src='`+i+`src/diagrams_builder.js'><\/script>
<script src='`+i+`src/diagrams_behavior.js'><\/script>
<script src='`+i+`src/main.js'><\/script>
`,a=`
<div id="diagrams" align="center"></div>    
`,d=`
<script>
    window.serializedGrammar = `+JSON.stringify(e,null,"  ")+`;
<\/script>
`,h=`
<script>
    var diagramsDiv = document.getElementById("diagrams");
    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);
<\/script>
`;return c+l+u+a+d+h}var Nn=`
`;function KV(e){return`
(function (root, factory) {
    if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(['chevrotain'], factory);
    } else if (typeof module === 'object' && module.exports) {
        // Node. Does not work with strict CommonJS, but
        // only CommonJS-like environments that support module.exports,
        // like Node.
        module.exports = factory(require('chevrotain'));
    } else {
        // Browser globals (root is window)
        root.returnExports = factory(root.b);
    }
}(typeof self !== 'undefined' ? self : this, function (chevrotain) {

`+Rk(e)+`
    
return {
    `+e.name+": "+e.name+` 
}
}));
`}function XV(e){return`    
`+Rk(e)+`
return new `+e.name+`(tokenVocabulary, config)    
`}function Rk(e){var t=`
function `+e.name+`(tokenVocabulary, config) {
    // invoke super constructor
    // No support for embedded actions currently, so we can 'hardcode'
    // The use of CstParser.
    chevrotain.CstParser.call(this, tokenVocabulary, config)

    const $ = this

    `+JV(e.rules)+`

    // very important to call this after all the rules have been defined.
    // otherwise the parser may not work correctly as it will lack information
    // derived during the self analysis phase.
    this.performSelfAnalysis(this)
}

// inheritance as implemented in javascript in the previous decade... :(
`+e.name+`.prototype = Object.create(chevrotain.CstParser.prototype)
`+e.name+".prototype.constructor = "+e.name+`    
    `;return t}function JV(e){var t=Fe(e,function(n){return ZV(n,1)});return t.join(`
`)}function ZV(e,t){var n=Yn(t,'$.RULE("'+e.name+'", function() {')+Nn;return n+=Tm(e.definition,t+1),n+=Yn(t+1,"})")+Nn,n}function ej(e,t){var n=e.terminalType.name;return Yn(t,"$.CONSUME"+e.idx+"(this.tokensMap."+n+")"+Nn)}function tj(e,t){return Yn(t,"$.SUBRULE"+e.idx+"($."+e.nonTerminalName+")"+Nn)}function nj(e,t){var n=Yn(t,"$.OR"+e.idx+"([")+Nn,r=Fe(e.definition,function(i){return rj(i,t+1)});return n+=r.join(","+Nn),n+=Nn+Yn(t,"])"+Nn),n}function rj(e,t){var n=Yn(t,"{")+Nn;return n+=Yn(t+1,"ALT: function() {")+Nn,n+=Tm(e.definition,t+1),n+=Yn(t+1,"}")+Nn,n+=Yn(t,"}"),n}function ij(e,t){if(e instanceof Kn)return tj(e,t);if(e instanceof Bn)return dc("OPTION",e,t);if(e instanceof Vr)return dc("AT_LEAST_ONE",e,t);if(e instanceof jr)return dc("AT_LEAST_ONE_SEP",e,t);if(e instanceof br)return dc("MANY_SEP",e,t);if(e instanceof Zt)return dc("MANY",e,t);if(e instanceof xr)return nj(e,t);if(e instanceof Lt)return ej(e,t);if(e instanceof Vn)return Tm(e.definition,t);throw Error("non exhaustive match")}function dc(e,t,n){var r=Yn(n,"$."+(e+t.idx)+"(");return t.separator?(r+="{"+Nn,r+=Yn(n+1,"SEP: this.tokensMap."+t.separator.name)+","+Nn,r+="DEF: "+Xx(t.definition,n+2)+Nn,r+=Yn(n,"}")+Nn):r+=Xx(t.definition,n+1),r+=Yn(n,")")+Nn,r}function Xx(e,t){var n="function() {"+Nn;return n+=Tm(e,t),n+=Yn(t,"}")+Nn,n}function Tm(e,t){var n="";return qe(e,function(r){n+=ij(r,t+1)}),n}function Yn(e,t){var n=Array(e*4+1).join(" ");return n+t}function oj(e){var t=XV({name:e.name,rules:e.rules}),n=new Function("tokenVocabulary","config","chevrotain",t);return function(r){return n(e.tokenVocabulary,r,require("../api"))}}function sj(e){return KV({name:e.name,rules:e.rules})}function aj(){console.warn(`The clearCache function was 'soft' removed from the Chevrotain API.
	 It performs no action other than printing this message.
	 Please avoid using it as it will be completely removed in the future`)}var uj=function(){function e(){throw new Error(`The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.	
See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_7-0-0`)}return e}();const lj=Object.freeze(Object.defineProperty({__proto__:null,Alternation:xr,Alternative:Vn,CstParser:GV,EMPTY_ALT:HV,EOF:Rs,EarlyExitException:vk,EmbeddedActionsParser:YV,GAstVisitor:Pa,Lexer:ai,get LexerDefinitionErrorType(){return Kt},MismatchedTokenException:e1,NoViableAltException:mk,NonTerminal:Kn,NotAllInputParsedException:gk,Option:Bn,Parser:uj,get ParserDefinitionErrorType(){return Xn},Repetition:Zt,RepetitionMandatory:Vr,RepetitionMandatoryWithSeparator:jr,RepetitionWithSeparator:br,Rule:Ma,Terminal:Lt,VERSION:Wy,assignOccurrenceIndices:TV,clearCache:aj,createSyntaxDiagramsCode:QV,createToken:Yw,createTokenInstance:pm,defaultGrammarResolverErrorProvider:ek,defaultGrammarValidatorErrorProvider:gm,defaultLexerErrorProvider:QC,defaultParserErrorProvider:Qw,generateParserFactory:oj,generateParserModule:sj,isRecognitionException:nf,resolveGrammar:uk,serializeGrammar:XC,serializeProduction:Bc,tokenLabel:ma,tokenMatcher:M$,tokenName:I$,validateGrammar:lk},Symbol.toStringTag,{value:"Module"})),n1=$S(lj);var x0,Jx;function r1(){if(Jx)return x0;Jx=1;const{createToken:e,Lexer:t}=n1,n=fn(),r={},i=e({name:"WhiteSpace",pattern:/\s+/,group:t.SKIPPED}),o=e({name:"String",pattern:/"(""|[^"])*"/}),s=e({name:"SingleQuotedString",pattern:/'(''|[^'])*'/}),c=e({name:"SheetQuoted",pattern:/'((?![\\\/\[\]*?:]).)+?'!/}),l=e({name:"Function",pattern:/[A-Za-z_]+[A-Za-z_0-9.]*\(/}),u=e({name:"FormulaErrorT",pattern:/#NULL!|#DIV\/0!|#VALUE!|#NAME\?|#NUM!|#N\/A/}),a=e({name:"RefError",pattern:/#REF!/}),d=e({name:"Name",pattern:/[a-zA-Z_][a-zA-Z0-9_.?]*/}),h=e({name:"Sheet",pattern:/[A-Za-z_.\d\u007F-\uFFFF]+!/}),m=e({name:"Cell",pattern:/[$]?[A-Za-z]{1,3}[$]?[1-9][0-9]*/,longer_alt:d}),y=e({name:"Number",pattern:/[0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?/}),g=e({name:"Boolean",pattern:/TRUE|FALSE/i}),v=e({name:"Column",pattern:/[$]?[A-Za-z]{1,3}/,longer_alt:d}),w=e({name:"At",pattern:/@/}),T=e({name:"Comma",pattern:/,/}),N=e({name:"Colon",pattern:/:/}),b=e({name:"Semicolon",pattern:/;/}),S=e({name:"OpenParen",pattern:/\(/}),x=e({name:"CloseParen",pattern:/\)/}),O=e({name:"OpenSquareParen",pattern:/\[/}),M=e({name:"CloseSquareParen",pattern:/]/});e({name:"exclamationMark",pattern:/!/});const U=e({name:"OpenCurlyParen",pattern:/{/}),z=e({name:"CloseCurlyParen",pattern:/}/}),Q=e({name:"QuoteS",pattern:/'/}),ee=e({name:"MulOp",pattern:/\*/}),X=e({name:"PlusOp",pattern:/\+/}),F=e({name:"DivOp",pattern:/\//}),J=e({name:"MinOp",pattern:/-/}),K=e({name:"ConcatOp",pattern:/&/}),te=e({name:"ExOp",pattern:/\^/}),G=e({name:"PercentOp",pattern:/%/}),H=e({name:"GtOp",pattern:/>/}),W=e({name:"EqOp",pattern:/=/}),V=e({name:"LtOp",pattern:/</}),C=e({name:"NeqOp",pattern:/<>/}),L=e({name:"GteOp",pattern:/>=/}),I=e({name:"LteOp",pattern:/<=/}),j=[i,o,c,s,l,u,a,h,m,g,v,d,y,w,T,N,b,S,x,O,M,U,z,Q,ee,X,F,J,K,te,ee,G,C,L,I,H,W,V],$=new t(j,{ensureOptimizations:!0});return j.forEach(oe=>{r[oe.name]=oe}),x0={tokenVocabulary:r,lex:function(oe){const q=$.tokenize(oe);if(q.errors.length>0){const se=q.errors[0],ge=se.line,we=se.column;let be=`
`+oe.split(`
`)[ge-1]+`
`;throw be+=Array(we-1).fill(" ").join("")+`^
`,se.message=be+`Error at position ${ge}:${we}
`+se.message,se.errorLocation={line:ge,column:we},n.ERROR(se.message,se)}return q}},x0}var R0,Zx;function Sk(){if(Zx)return R0;Zx=1;const e=r1(),{EmbeddedActionsParser:t}=n1,n=e.tokenVocabulary,{String:r,SheetQuoted:i,ExcelRefFunction:o,ExcelConditionalRefFunction:s,Function:c,FormulaErrorT:l,RefError:u,Cell:a,Sheet:d,Name:h,Number:m,Boolean:y,Column:g,Comma:v,Colon:w,Semicolon:T,OpenParen:N,CloseParen:b,OpenCurlyParen:S,CloseCurlyParen:x,MulOp:O,PlusOp:M,DivOp:U,MinOp:z,ConcatOp:Q,ExOp:ee,PercentOp:X,NeqOp:F,GteOp:J,LteOp:K,GtOp:te,EqOp:G,LtOp:H}=e.tokenVocabulary;class W extends t{constructor(C,L){super(n,{outputCst:!1,maxLookahead:1,skipValidations:!0}),this.utils=L,this.binaryOperatorsPrecedence=[["^"],["*","/"],["+","-"],["&"],["<",">","=","<>","<=",">="]];const I=this;I.RULE("formulaWithBinaryOp",()=>{const j=[],$=[I.SUBRULE(I.formulaWithPercentOp)];return I.MANY(()=>{j.push(I.OR(I.c1||(I.c1=[{ALT:()=>I.CONSUME(te).image},{ALT:()=>I.CONSUME(G).image},{ALT:()=>I.CONSUME(H).image},{ALT:()=>I.CONSUME(F).image},{ALT:()=>I.CONSUME(J).image},{ALT:()=>I.CONSUME(K).image},{ALT:()=>I.CONSUME(Q).image},{ALT:()=>I.CONSUME(M).image},{ALT:()=>I.CONSUME(z).image},{ALT:()=>I.CONSUME(O).image},{ALT:()=>I.CONSUME(U).image},{ALT:()=>I.CONSUME(ee).image}]))),$.push(I.SUBRULE2(I.formulaWithPercentOp))}),I.ACTION(()=>{for(const oe of this.binaryOperatorsPrecedence)for(let q=0,se=j.length;q<se;q++){const ge=j[q];oe.includes(ge)&&(j.splice(q,1),$.splice(q,2,this.utils.applyInfix($[q],ge,$[q+1])),q--,se--)}}),$[0]}),I.RULE("plusMinusOp",()=>I.OR([{ALT:()=>I.CONSUME(M).image},{ALT:()=>I.CONSUME(z).image}])),I.RULE("formulaWithPercentOp",()=>{let j=I.SUBRULE(I.formulaWithUnaryOp);return I.OPTION(()=>{const $=I.CONSUME(X).image;j=I.ACTION(()=>this.utils.applyPostfix(j,$))}),j}),I.RULE("formulaWithUnaryOp",()=>{const j=[];I.MANY(()=>{const oe=I.OR([{ALT:()=>I.CONSUME(M).image},{ALT:()=>I.CONSUME(z).image}]);j.push(oe)});const $=I.SUBRULE(I.formulaWithIntersect);return j.length>0?I.ACTION(()=>this.utils.applyPrefix(j,$)):$}),I.RULE("formulaWithIntersect",()=>{let j=I.SUBRULE(I.formulaWithRange);const $=[j];return I.MANY({GATE:()=>{const oe=I.LA(0);return I.LA(1).startOffset>oe.endOffset+1},DEF:()=>{$.push(I.SUBRULE3(I.formulaWithRange))}}),$.length>1?I.ACTION(()=>I.ACTION(()=>this.utils.applyIntersect($))):j}),I.RULE("formulaWithRange",()=>{const j=I.SUBRULE(I.formula),$=[j];return I.MANY(()=>{I.CONSUME(w),$.push(I.SUBRULE2(I.formula))}),$.length>1?I.ACTION(()=>I.ACTION(()=>this.utils.applyRange($))):j}),I.RULE("formula",()=>I.OR9([{ALT:()=>I.SUBRULE(I.referenceWithoutInfix)},{ALT:()=>I.SUBRULE(I.paren)},{ALT:()=>I.SUBRULE(I.constant)},{ALT:()=>I.SUBRULE(I.functionCall)},{ALT:()=>I.SUBRULE(I.constantArray)}])),I.RULE("paren",()=>{I.CONSUME(N);let j;const $=[];return $.push(I.SUBRULE(I.formulaWithBinaryOp)),I.MANY(()=>{I.CONSUME(v),$.push(I.SUBRULE2(I.formulaWithBinaryOp))}),$.length>1?j=I.ACTION(()=>this.utils.applyUnion($)):j=$[0],I.CONSUME(b),j}),I.RULE("constantArray",()=>{const j=[[]];let $=0;return I.CONSUME(S),j[$].push(I.SUBRULE(I.constantForArray)),I.MANY(()=>{const oe=I.OR([{ALT:()=>I.CONSUME(v).image},{ALT:()=>I.CONSUME(T).image}]),q=I.SUBRULE2(I.constantForArray);oe===","||($++,j[$]=[]),j[$].push(q)}),I.CONSUME(x),I.ACTION(()=>this.utils.toArray(j))}),I.RULE("constantForArray",()=>I.OR([{ALT:()=>{const j=I.OPTION(()=>I.SUBRULE(I.plusMinusOp)),$=I.CONSUME(m).image,oe=I.ACTION(()=>this.utils.toNumber($));return j?I.ACTION(()=>this.utils.applyPrefix([j],oe)):oe}},{ALT:()=>{const j=I.CONSUME(r).image;return I.ACTION(()=>this.utils.toString(j))}},{ALT:()=>{const j=I.CONSUME(y).image;return I.ACTION(()=>this.utils.toBoolean(j))}},{ALT:()=>{const j=I.CONSUME(l).image;return I.ACTION(()=>this.utils.toError(j))}},{ALT:()=>{const j=I.CONSUME(u).image;return I.ACTION(()=>this.utils.toError(j))}}])),I.RULE("constant",()=>I.OR([{ALT:()=>{const j=I.CONSUME(m).image;return I.ACTION(()=>this.utils.toNumber(j))}},{ALT:()=>{const j=I.CONSUME(r).image;return I.ACTION(()=>this.utils.toString(j))}},{ALT:()=>{const j=I.CONSUME(y).image;return I.ACTION(()=>this.utils.toBoolean(j))}},{ALT:()=>{const j=I.CONSUME(l).image;return I.ACTION(()=>this.utils.toError(j))}}])),I.RULE("functionCall",()=>{const j=I.CONSUME(c).image.slice(0,-1),$=I.SUBRULE(I.arguments);return I.CONSUME(b),I.ACTION(()=>C.callFunction(j,$))}),I.RULE("arguments",()=>{I.MANY2(()=>{I.CONSUME2(v)});const j=[];return I.OPTION(()=>{j.push(I.SUBRULE(I.formulaWithBinaryOp)),I.MANY(()=>{I.CONSUME1(v),j.push(null),I.OPTION3(()=>{j.pop(),j.push(I.SUBRULE2(I.formulaWithBinaryOp))})})}),j}),I.RULE("referenceWithoutInfix",()=>I.OR([{ALT:()=>I.SUBRULE(I.referenceItem)},{ALT:()=>{const j=I.SUBRULE(I.prefixName),$=I.SUBRULE2(I.formulaWithRange);return I.ACTION(()=>{if(this.utils.isFormulaError($))return $;$.ref.sheet=j}),$}}])),I.RULE("referenceItem",()=>I.OR([{ALT:()=>{const j=I.CONSUME(a).image;return I.ACTION(()=>this.utils.parseCellAddress(j))}},{ALT:()=>{const j=I.CONSUME(h).image;return I.ACTION(()=>C.getVariable(j))}},{ALT:()=>{const j=I.CONSUME(g).image;return I.ACTION(()=>this.utils.parseCol(j))}},{ALT:()=>{const j=I.CONSUME(u).image;return I.ACTION(()=>this.utils.toError(j))}}])),I.RULE("prefixName",()=>I.OR([{ALT:()=>I.CONSUME(d).image.slice(0,-1)},{ALT:()=>I.CONSUME(i).image.slice(1,-2).replace(/''/g,"'")}])),this.performSelfAnalysis()}}return R0={Parser:W},R0}var S0,eR;function Ak(){if(eR)return S0;eR=1;const e=fn(),{Address:t}=xn(),{Prefix:n,Postfix:r,Infix:i,Operators:o}=cm(),s=lm(),c=1048576,l=16384,{NotAllInputParsedException:u}=n1;class a{constructor(h){this.context=h}columnNameToNumber(h){return t.columnNameToNumber(h)}parseCellAddress(h){const m=h.match(/([$]?)([A-Za-z]{1,3})([$]?)([1-9][0-9]*)/);return{ref:{address:m[0],col:this.columnNameToNumber(m[2]),row:+m[4]}}}parseRow(h){const m=+h;if(!Number.isInteger(m))throw Error("Row number must be integer.");return{ref:{col:void 0,row:+h}}}parseCol(h){return{ref:{col:this.columnNameToNumber(h),row:void 0}}}parseColRange(h,m){return h=this.columnNameToNumber(h),m=this.columnNameToNumber(m),{ref:{from:{col:Math.min(h,m),row:null},to:{col:Math.max(h,m),row:null}}}}parseRowRange(h,m){return{ref:{from:{col:null,row:Math.min(h,m)},to:{col:null,row:Math.max(h,m)}}}}_applyPrefix(h,m,y){return this.isFormulaError(m)?m:n.unaryOp(h,m,y)}async applyPrefixAsync(h,m){const{val:y,isArray:g}=this.extractRefValue(await m);return this._applyPrefix(h,y,g)}applyPrefix(h,m){if(this.context.async)return this.applyPrefixAsync(h,m);{const{val:y,isArray:g}=this.extractRefValue(m);return this._applyPrefix(h,y,g)}}_applyPostfix(h,m,y){return this.isFormulaError(h)?h:r.percentOp(h,y,m)}async applyPostfixAsync(h,m){const{val:y,isArray:g}=this.extractRefValue(await h);return this._applyPostfix(y,g,m)}applyPostfix(h,m){if(this.context.async)return this.applyPostfixAsync(h,m);{const{val:y,isArray:g}=this.extractRefValue(h);return this._applyPostfix(y,g,m)}}_applyInfix(h,m,y){const g=h.val,v=h.isArray,w=y.val,T=y.isArray;if(this.isFormulaError(g))return g;if(this.isFormulaError(w))return w;if(o.compareOp.includes(m))return i.compareOp(g,m,w,v,T);if(o.concatOp.includes(m))return i.concatOp(g,m,w,v,T);if(o.mathOp.includes(m))return i.mathOp(g,m,w,v,T);throw new Error(`Unrecognized infix: ${m}`)}async applyInfixAsync(h,m,y){const g=this.extractRefValue(await h),v=this.extractRefValue(await y);return this._applyInfix(g,m,v)}applyInfix(h,m,y){if(this.context.async)return this.applyInfixAsync(h,m,y);{const g=this.extractRefValue(h),v=this.extractRefValue(y);return this._applyInfix(g,m,v)}}applyIntersect(h){if(this.isFormulaError(h[0]))return h[0];if(!h[0].ref)throw Error(`Expecting a reference, but got ${h[0]}.`);let m,y,g,v,w,T;const N=h.shift().ref;if(w=N.sheet,N.from)m=Math.max(N.from.row,N.to.row),g=Math.min(N.from.row,N.to.row),y=Math.max(N.from.col,N.to.col),v=Math.min(N.from.col,N.to.col);else{if(N.row===void 0||N.col===void 0)throw Error("Cannot intersect the whole row or column.");m=g=N.row,y=v=N.col}let b;return h.forEach(S=>{if(this.isFormulaError(S))return S;if(S=S.ref,!S)throw Error(`Expecting a reference, but got ${S}.`);if(S.from){const x=Math.max(S.from.row,S.to.row),O=Math.min(S.from.row,S.to.row),M=Math.max(S.from.col,S.to.col),U=Math.min(S.from.col,S.to.col);(O>m||x<g||U>y||M<v||w!==S.sheet)&&(b=e.NULL),m=Math.min(m,x),g=Math.max(g,O),y=Math.min(y,M),v=Math.max(v,U)}else{if(S.row===void 0||S.col===void 0)throw Error("Cannot intersect the whole row or column.");(S.row>m||S.row<g||S.col>y||S.col<v||w!==S.sheet)&&(b=e.NULL),m=g=S.row,y=v=S.col}}),b||(m===g&&y===v?T={ref:{sheet:w,row:m,col:y}}:T={ref:{sheet:w,from:{row:g,col:v},to:{row:m,col:y}}},T.ref.sheet||delete T.ref.sheet,T)}applyUnion(h){const m=new s;for(let y=0;y<h.length;y++){if(this.isFormulaError(h[y]))return h[y];m.add(this.extractRefValue(h[y]).val,h[y])}return m}applyRange(h){let m,y=-1,g=-1,v=c+1,w=l+1;return h.forEach(T=>{if(this.isFormulaError(T))return T;typeof T=="number"&&(T=this.parseRow(T)),T=T.ref,T.row===void 0&&(v=1,y=c),T.col===void 0&&(w=1,g=l),T.row>y&&(y=T.row),T.row<v&&(v=T.row),T.col>g&&(g=T.col),T.col<w&&(w=T.col)}),y===v&&g===w?m={ref:{row:y,col:g}}:m={ref:{from:{row:v,col:w},to:{row:y,col:g}}},m}extractRefValue(h){let m=h,y=!1;return Array.isArray(m)&&(y=!0),h.ref?{val:this.context.retrieveRef(h),isArray:y}:{val:m,isArray:y}}toArray(h){return h}toNumber(h){return Number(h)}toString(h){return h.substring(1,h.length-1).replace(/""/g,'"')}toBoolean(h){return h==="TRUE"}toError(h){return new e(h.toUpperCase())}isFormulaError(h){return h instanceof e}static formatChevrotainError(h,m){let y,g,v="";return h instanceof u?(y=h.token.startLine,g=h.token.startColumn):(y=h.previousToken.startLine,g=h.previousToken.startColumn+1),v+=`
`+m.split(`
`)[y-1]+`
`,v+=Array(g-1).fill(" ").join("")+`^
`,v+=`Error at position ${y}:${g}
`+h.message,h.errorLocation={line:y,column:g},e.ERROR(v,h)}}return S0=a,S0}var A0,tR;function cj(){if(tR)return A0;tR=1;const e=kC(),t=MC(),n=SB(),r=AB(),i=CB(),o=kB(),s=MB(),c=LB(),l=DB(),u=FB(),a=fn(),{FormulaHelpers:d}=xn(),{Parser:h,allTokens:m}=Sk(),y=r1(),g=Ak();class v{constructor(T,N=!1){this.logs=[],this.isTest=N,this.utils=new g(this),T=Object.assign({functions:{},functionsNeedContext:{},onVariable:()=>null,onCell:()=>0,onRange:()=>[[0]]},T),this.onVariable=T.onVariable,this.functions=Object.assign({},l,c,s,o,i,r,e,t,n,u,T.functions,T.functionsNeedContext),this.onRange=T.onRange,this.onCell=T.onCell,this.funsNullAs0=Object.keys(t).concat(Object.keys(n)).concat(Object.keys(r)).concat(Object.keys(i)).concat(Object.keys(o)).concat(Object.keys(c)).concat(Object.keys(l)),this.funsNeedContextAndNoDataRetrieve=["ROW","ROWS","COLUMN","COLUMNS","SUMIF","INDEX","AVERAGEIF","IF"],this.funsNeedContext=[...Object.keys(T.functionsNeedContext),...this.funsNeedContextAndNoDataRetrieve,"INDEX","OFFSET","INDIRECT","IF","CHOOSE","WEBSERVICE"],this.funsPreserveRef=Object.keys(s),this.parser=new h(this,this.utils)}static get allTokens(){return m}getCell(T){return T.sheet==null&&(T.sheet=this.position?this.position.sheet:void 0),this.onCell(T)}getRange(T){return T.sheet==null&&(T.sheet=this.position?this.position.sheet:void 0),this.onRange(T)}getVariable(T){const N={ref:this.onVariable(T,this.position.sheet,this.position)};return N.ref==null?a.NAME:N}retrieveRef(T){return d.isRangeRef(T)?this.getRange(T.ref):d.isCellRef(T)?this.getCell(T.ref):T}_callFunction(T,N){T.indexOf("_xlfn.")===0&&(T=T.slice(6)),T=T.toUpperCase();const b=this.funsNullAs0.includes(T)?0:"";if(this.funsNeedContextAndNoDataRetrieve.includes(T)||(N=N.map(S=>{if(S===null)return{value:b,isArray:!1,omitted:!0};const x=this.utils.extractRefValue(S);return this.funsPreserveRef.includes(T)?{value:x.val,isArray:x.isArray,ref:S.ref}:{value:x.val,isArray:x.isArray,isRangeRef:!!d.isRangeRef(S),isCellRef:!!d.isCellRef(S)}})),this.functions[T]){let S;try{!this.funsNeedContextAndNoDataRetrieve.includes(T)&&!this.funsNeedContext.includes(T)?S=this.functions[T](...N):S=this.functions[T](this,...N)}catch(x){if(x instanceof a)return x;throw x}if(S===void 0){if(this.isTest)return this.logs.includes(T)||this.logs.push(T),{value:0,ref:{}};throw a.NOT_IMPLEMENTED(T)}return S}else{if(this.isTest)return this.logs.includes(T)||this.logs.push(T),{value:0,ref:{}};throw a.NOT_IMPLEMENTED(T)}}async callFunctionAsync(T,N){const b=[];for(const x of N)b.push(await x);const S=await this._callFunction(T,b);return d.checkFunctionResult(S)}callFunction(T,N){if(this.async)return this.callFunctionAsync(T,N);{const b=this._callFunction(T,N);return d.checkFunctionResult(b)}}supportedFunctions(){const T=[];return Object.keys(this.functions).forEach(b=>{try{if(this.functions[b](0,0,0,0,0,0,0,0,0,0,0)===void 0)return;T.push(b)}catch(S){S instanceof Error&&T.push(b)}}),T.sort()}checkFormulaResult(T,N=!1){const b=typeof T;if(b==="number"){if(isNaN(T))return a.VALUE;if(!isFinite(T))return a.NUM;T+=0}else if(b==="object"){if(T instanceof a)return T;if(N){if(T.ref&&(T=this.retrieveRef(T)),typeof T=="object"&&!Array.isArray(T)&&T!=null)return a.VALUE}else if(T.ref&&T.ref.row&&!T.ref.from)T=this.retrieveRef(T);else if(T.ref&&T.ref.from&&T.ref.from.col===T.ref.to.col)T=this.retrieveRef({ref:{row:T.ref.from.row,col:T.ref.from.col}});else if(Array.isArray(T))T=T[0][0];else return a.VALUE}return T}parse(T,N,b=!1){if(T.length===0)throw Error("Input must not be empty.");this.position=N,this.async=!1;const S=y.lex(T);this.parser.input=S.tokens;let x;try{if(x=this.parser.formulaWithBinaryOp(),x=this.checkFormulaResult(x,b),x instanceof a)return x}catch(O){throw a.ERROR(O.message,O)}if(this.parser.errors.length>0){const O=this.parser.errors[0];throw g.formatChevrotainError(O,T)}return x}async parseAsync(T,N,b=!1){if(T.length===0)throw Error("Input must not be empty.");this.position=N,this.async=!0;const S=y.lex(T);this.parser.input=S.tokens;let x;try{if(x=await this.parser.formulaWithBinaryOp(),x=this.checkFormulaResult(x,b),x instanceof a)return x}catch(O){throw a.ERROR(O.message,O)}if(this.parser.errors.length>0){const O=this.parser.errors[0];throw g.formatChevrotainError(O,T)}return x}}return A0={FormulaParser:v,FormulaHelpers:d},A0}var O0,nR;function fj(){if(nR)return O0;nR=1;const e=fn(),{FormulaHelpers:t,Types:n,Address:r}=xn(),{Prefix:i,Postfix:o,Infix:s,Operators:c}=cm(),l=lm(),u=1048576,a=16384;class d{constructor(m){this.context=m}columnNameToNumber(m){return r.columnNameToNumber(m)}parseCellAddress(m){const y=m.match(/([$]?)([A-Za-z]{1,3})([$]?)([1-9][0-9]*)/);return{ref:{col:this.columnNameToNumber(y[2]),row:+y[4]}}}parseRow(m){const y=+m;if(!Number.isInteger(y))throw Error("Row number must be integer.");return{ref:{col:void 0,row:+m}}}parseCol(m){return{ref:{col:this.columnNameToNumber(m),row:void 0}}}applyPrefix(m,y){return this.extractRefValue(y),0}applyPostfix(m,y){return this.extractRefValue(m),0}applyInfix(m,y,g){return this.extractRefValue(m),this.extractRefValue(g),0}applyIntersect(m){if(this.isFormulaError(m[0]))return m[0];if(!m[0].ref)throw Error(`Expecting a reference, but got ${m[0]}.`);let y,g,v,w,T,N;const b=m.shift().ref;if(T=b.sheet,b.from)y=Math.max(b.from.row,b.to.row),v=Math.min(b.from.row,b.to.row),g=Math.max(b.from.col,b.to.col),w=Math.min(b.from.col,b.to.col);else{if(b.row===void 0||b.col===void 0)throw Error("Cannot intersect the whole row or column.");y=v=b.row,g=w=b.col}let S;return m.forEach(x=>{if(this.isFormulaError(x))return x;if(x=x.ref,!x)throw Error(`Expecting a reference, but got ${x}.`);if(x.from){const O=Math.max(x.from.row,x.to.row),M=Math.min(x.from.row,x.to.row),U=Math.max(x.from.col,x.to.col),z=Math.min(x.from.col,x.to.col);(M>y||O<v||z>g||U<w||T!==x.sheet)&&(S=e.NULL),y=Math.min(y,O),v=Math.max(v,M),g=Math.min(g,U),w=Math.max(w,z)}else{if(x.row===void 0||x.col===void 0)throw Error("Cannot intersect the whole row or column.");(x.row>y||x.row<v||x.col>g||x.col<w||T!==x.sheet)&&(S=e.NULL),y=v=x.row,g=w=x.col}}),S||(y===v&&g===w?N={ref:{sheet:T,row:y,col:g}}:N={ref:{sheet:T,from:{row:v,col:w},to:{row:y,col:g}}},N.ref.sheet||delete N.ref.sheet,N)}applyUnion(m){const y=new l;for(let g=0;g<m.length;g++){if(this.isFormulaError(m[g]))return m[g];y.add(this.extractRefValue(m[g]).val,m[g])}return y}applyRange(m){let y,g=-1,v=-1,w=u+1,T=a+1;return m.forEach(N=>{if(this.isFormulaError(N))return N;typeof N=="number"&&(N=this.parseRow(N)),N=N.ref,N.row===void 0&&(w=1,g=u),N.col===void 0&&(T=1,v=a),N.row>g&&(g=N.row),N.row<w&&(w=N.row),N.col>v&&(v=N.col),N.col<T&&(T=N.col)}),g===w&&v===T?y={ref:{row:g,col:v}}:y={ref:{from:{row:w,col:T},to:{row:g,col:v}}},y}extractRefValue(m){const y=Array.isArray(m);return m.ref?{val:this.context.retrieveRef(m),isArray:y}:{val:m,isArray:y}}toArray(m){return m}toNumber(m){return Number(m)}toString(m){return m.substring(1,m.length-1).replace(/""/g,'"')}toBoolean(m){return m==="TRUE"}toError(m){return new e(m.toUpperCase())}isFormulaError(m){return m instanceof e}}return O0=d,O0}var I0,rR;function dj(){if(rR)return I0;rR=1;const e=fn(),{FormulaHelpers:t}=xn(),{Parser:n}=Sk(),r=r1(),i=fj(),{formatChevrotainError:o}=Ak();class s{constructor(l){this.data=[],this.utils=new i(this),l=Object.assign({onVariable:()=>null},l),this.utils=new i(this),this.onVariable=l.onVariable,this.functions={},this.parser=new n(this,this.utils)}getCell(l){return l.row!=null&&(l.sheet==null&&(l.sheet=this.position?this.position.sheet:void 0),this.data.findIndex(a=>a.from&&a.from.row<=l.row&&a.to.row>=l.row&&a.from.col<=l.col&&a.to.col>=l.col||a.row===l.row&&a.col===l.col&&a.sheet===l.sheet)===-1&&this.data.push(l)),0}getRange(l){return l.from.row!=null&&(l.sheet==null&&(l.sheet=this.position?this.position.sheet:void 0),this.data.findIndex(a=>a.from&&a.from.row===l.from.row&&a.from.col===l.from.col&&a.to.row===l.to.row&&a.to.col===l.to.col)===-1&&this.data.push(l)),[[0]]}getVariable(l){const u={ref:this.onVariable(l,this.position.sheet)};return u.ref==null?e.NAME:(t.isCellRef(u)?this.getCell(u.ref):this.getRange(u.ref),0)}retrieveRef(l){return t.isRangeRef(l)?this.getRange(l.ref):t.isCellRef(l)?this.getCell(l.ref):l}callFunction(l,u){return u.forEach(a=>{a!=null&&this.retrieveRef(a)}),{value:0,ref:{}}}checkFormulaResult(l){this.retrieveRef(l)}parse(l,u,a=!1){if(l.length===0)throw Error("Input must not be empty.");this.data=[],this.position=u;const d=r.lex(l);this.parser.input=d.tokens;try{const h=this.parser.formulaWithBinaryOp();this.checkFormulaResult(h)}catch(h){if(!a)throw e.ERROR(h.message,h)}if(this.parser.errors.length>0&&!a){const h=this.parser.errors[0];throw o(h,l)}return this.data}}return I0={DepParser:s},I0}var C0,iR;function hj(){if(iR)return C0;iR=1;const{FormulaParser:e}=cj(),{DepParser:t}=dj(),n=CC(),r=fn();return Object.assign(e,{MAX_ROW:1048576,MAX_COLUMN:16384,SSF:n,DepParser:t,FormulaError:r,...xn()}),C0=e,C0}var Ss=hj();const pj=Aa(Ss);var k0=VS();const Rp=Symbol(),mj=Symbol(),gj=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent),Ok=gj?k.useEffect:k.useLayoutEffect,vj=k0.unstable_runWithPriority?e=>{try{k0.unstable_runWithPriority(k0.unstable_NormalPriority,e)}catch(t){if(t.message==="Not implemented.")e();else throw t}}:e=>e(),yj=e=>({value:n,children:r})=>{const i=k.useRef(n),o=k.useRef(0),[s,c]=k.useState(null);s&&(s(n),c(null));const l=k.useRef();if(!l.current){const u=new Set,a=(d,h)=>{qp.unstable_batchedUpdates(()=>{o.current+=1;const m={n:o.current};h!=null&&h.suspense&&(m.n*=-1,m.p=new Promise(y=>{c(()=>g=>{m.v=g,delete m.p,y(g)})})),u.forEach(y=>y(m)),d()})};l.current={[Rp]:{v:i,n:o,l:u,u:a}}}return Ok(()=>{i.current=n,o.current+=1,vj(()=>{l.current[Rp].l.forEach(u=>{u({n:o.current,v:n})})})},[n]),k.createElement(e,{value:l.current},r)};function Ej(e){const t=k.createContext({[Rp]:{v:{current:e},n:{current:-1},l:new Set,u:n=>n()}});return t[mj]=t.Provider,t.Provider=yj(t.Provider),delete t.Consumer,t}function Ik(e,t){const n=k.useContext(e)[Rp],{v:{current:r},n:{current:i},l:o}=n,s=t(r),[c,l]=k.useReducer((u,a)=>{if(!a)return[r,s];if("p"in a)throw a.p;if(a.n===i)return Object.is(u[1],s)?u:[r,s];try{if("v"in a){if(Object.is(u[0],a.v))return u;const d=t(a.v);return Object.is(u[1],d)?u:[a.v,d]}}catch{}return[...u]},[r,s]);return Object.is(c[1],s)||l(),Ok(()=>(o.add(l),()=>{o.delete(l)}),[o]),c[1]}var eE=function(e,t){return eE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},eE(e,t)};function ks(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");eE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Te=function(){return Te=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Te.apply(this,arguments)};function rf(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(a){return l([u,a])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(a){u=[6,a],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function zt(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function kt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Hn(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Ck="SET_DATA",kk="SET_CREATE_FORMULA_PARSER",Mk="SELECT_ENTIRE_ROW",Pk="SELECT_ENTIRE_COLUMN",Lk="SELECT_ENTIRE_WORKSHEET",Dk="SET_SELECTION",Fk="SELECT",Uk="ACTIVATE",Bk="SET_CELL_DATA",$k="SET_CELL_DIMENSIONS",Vk="COPY",tE="CUT",jk="PASTE",zk="EDIT",qk="VIEW",wj="CLEAR",Wk="BLUR",Hk="KEY_PRESS",Gk="KEY_DOWN",Yk="DRAG_START",Qk="DRAG_END",Kk="COMMIT";function Tj(e){return{type:Ck,payload:{data:e}}}function _j(e){return{type:kk,payload:{createFormulaParser:e}}}function Nj(e,t){return{type:Mk,payload:{row:e,extend:t}}}function bj(e,t){return{type:Pk,payload:{column:e,extend:t}}}function xj(){return{type:Lk}}function Rj(e){return{type:Dk,payload:{selection:e}}}function Sj(e){return{type:Fk,payload:{point:e}}}function Aj(e){return{type:Uk,payload:{point:e}}}function Xk(e,t){return{type:Bk,payload:{active:e,data:t}}}function Oj(e,t){return{type:$k,payload:{point:e,dimensions:t}}}function Ij(e){return{type:jk,payload:{data:e}}}function Cj(e){return{type:Hk,payload:{event:e}}}function kj(e){return{type:Gk,payload:{event:e}}}function Mj(){return{type:Yk}}function Pj(){return{type:Qk}}function Lj(e){return{type:Kk,payload:{changes:e}}}function Dj(){return{type:Vk}}function Fj(){return{type:tE}}function Uj(){return{type:zk}}function Bj(){return{type:qk}}function $j(){return{type:Wk}}function wr(e,t){var n=t[e.row];if(n!==void 0)return n[e.column]}function Jk(e,t,n){for(var r=[],i=t.column-e.column,o=e.row;o<=t.row;o++){var s=o-e.row;r[s]=r[s]||Array(i);for(var c=e.column;c<=t.column;c++)r[s][c-e.column]=wr({row:o,column:c},n)}return r}function lo(e,t,n){var r=Hn([],kt(n),!1),i=n[0],o=i?Hn([],kt(i),!1):[];o.length-1<e.column&&(o[e.column]=void 0,r[0]=o);var s=n[e.row]?Hn([],kt(n[e.row]),!1):[];return s[e.column]=t,r[e.row]=s,r}function Vj(e,t,n){var r=n[0];r||(r=[],n[0]=r),e.row in n||(n[e.row]=[]),e.column in r||(r[e.column]=void 0),n[e.row][e.column]=t}function oR(e,t){if(!Sp(e,t))return t;var n=Hn([],kt(t),!1),r=Hn([],kt(t[e.row]),!1);return r[e.column]=void 0,n[e.row]=r,n}function jj(e,t){var n,r,i=[];try{for(var o=zt(i1(t)),s=o.next();!s.done;s=o.next()){var c=kt(s.value,2),l=c[0],u=c[1];Vj(l,e(u,l),i)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function i1(e){var t,n,r,i,o,s,c,l,u,a,d,h,m,y,g,v,w;return rf(this,function(T){switch(T.label){case 0:T.trys.push([0,11,12,13]),t=zt(e.entries()),n=t.next(),T.label=1;case 1:if(n.done)return[3,10];r=kt(n.value,2),i=r[0],o=r[1],T.label=2;case 2:T.trys.push([2,7,8,9]),s=(v=void 0,zt(o.entries())),c=s.next(),T.label=3;case 3:return c.done?[3,6]:(l=kt(c.value,2),u=l[0],a=l[1],d={row:i,column:u},[4,[d,a]]);case 4:T.sent(),T.label=5;case 5:return c=s.next(),[3,3];case 6:return[3,9];case 7:return h=T.sent(),v={error:h},[3,9];case 8:try{c&&!c.done&&(w=s.return)&&w.call(s)}finally{if(v)throw v.error}return[7];case 9:return n=t.next(),[3,1];case 10:return[3,13];case 11:return m=T.sent(),y={error:m},[3,13];case 12:try{n&&!n.done&&(g=t.return)&&g.call(t)}finally{if(y)throw y.error}return[7];case 13:return[2]}})}function zj(e,t,n){t===void 0&&(t="	"),n===void 0&&(n=`
`);for(var r="",i=Ms(e),o=i.rows,s=i.columns,c=0;c<o;c++){c&&(r+=n);for(var l=0;l<s;l++)l&&(r+=t),e[c]&&l in e[c]&&(r+=String(e[c][l]))}return r}function qj(e,t,n,r){n===void 0&&(n="	"),r===void 0&&(r=/\r\n|\n|\r/);var i=e.replace(/"([^"]*?)"/g,function(o,s){return s.replace(/\n/g,"\\n")});return i.split(r).map(function(o){return o.split(n).map(function(s){return s.replace(/\\n/g,`
`)}).map(t)})}function Sp(e,t){var n=t[0];return n&&e.row>=0&&e.column>=0&&Number.isInteger(e.row)&&Number.isInteger(e.column)&&e.column<n.length&&e.row<t.length}function Ms(e){return{columns:Nm(e),rows:_m(e)}}function _m(e){return e.length}function Nm(e){var t=e[0];return t?t.length:0}function Wj(e,t){var n=Ms(e),r=n.rows,i=n.columns;if(r>=t.rows&&i>=t.columns)return e;var o={rows:t.rows>r?t.rows:r,columns:t.columns>i?t.columns:i},s=Hn([],kt(e),!1);if(o.columns>i){var c=o.columns-i;s=s.map(function(a){return Hn(Hn([],kt(a),!1),kt(Array(c).fill(void 0)),!1)})}if(o.rows>r){var l=o.rows-r,u=Array(o.columns).fill(void 0);s=Hn(Hn([],kt(s),!1),kt(Array(l).fill(u)),!1)}return s}function Hj(e,t){for(var n=[],r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++){var o=e[r][i];n.push(t?t(o,{row:r,column:i}):o)}return n}function o1(e){var t=Ms(e);return{row:t.rows-1,column:t.columns-1}}var po=function(){function e(t,n){this.start={row:Math.min(t.row,n.row),column:Math.min(t.column,n.column)},this.end={row:Math.max(t.row,n.row),column:Math.max(t.column,n.column)}}return e.prototype[Symbol.iterator]=function(){var t,n;return rf(this,function(r){switch(r.label){case 0:t=this.start.row,r.label=1;case 1:if(!(t<=this.end.row))return[3,6];n=this.start.column,r.label=2;case 2:return n<=this.end.column?[4,{row:t,column:n}]:[3,5];case 3:r.sent(),r.label=4;case 4:return n++,[3,2];case 5:return t++,[3,1];case 6:return[2]}})},e.prototype.size=function(){var t=this.end.row+1-this.start.row,n=this.end.column+1-this.start.column;return t*n},e.prototype.has=function(t){return t.row>=this.start.row&&t.column>=this.start.column&&t.row<=this.end.row&&t.column<=this.end.column},e.prototype.mask=function(t){return new e({row:t.start.row>this.start.row?t.start.row:this.start.row,column:t.start.column>this.start.column?t.start.column:this.start.column},{row:t.end.row<this.end.row?t.end.row:this.end.row,column:t.end.column<this.end.column?t.end.column:this.end.column})},e.prototype.equals=function(t){return this.start.row===t.start.row&&this.start.column===t.start.column&&this.end.row===t.end.row&&this.end.column===t.end.column},e}();function Gj(e,t){return e.column===t.column&&e.row===t.row}var Qh={row:0,column:0},s1=function(){function e(){}return e}(),Zk=function(e){ks(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.toRange=function(n){return null},t.prototype.normalizeTo=function(n){return this},t.prototype.hasEntireRow=function(n){return!1},t.prototype.hasEntireColumn=function(n){return!1},t.prototype.size=function(){return 0},t.prototype.has=function(){return!1},t.prototype.equals=function(n){return n instanceof t},t}(s1),qu=function(e){ks(t,e);function t(n){var r=e.call(this)||this;return r.range=n,r}return t.prototype.toRange=function(n){return this.range},t.prototype.normalizeTo=function(n){var r=r2(n),i=new t(this.range.mask(r));return i},t.prototype.hasEntireRow=function(n){return!1},t.prototype.hasEntireColumn=function(n){return!1},t.prototype.size=function(n){var r=this.toRange(n);return r?r.size():0},t.prototype.has=function(n,r){var i=this.toRange(n);return i!==null&&i.has(r)},t.prototype.equals=function(n){return n instanceof t&&this.range.equals(n.range)},t}(s1),e2=function(e){ks(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(s1),t2=function(e){ks(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.toRange=function(n){return r2(n)},t.prototype.normalizeTo=function(n){return this},t.prototype.hasEntireColumn=function(n){return!0},t.prototype.hasEntireRow=function(n){return!0},t.prototype.size=function(n){return Nm(n)*_m(n)},t.prototype.has=function(n,r){return!0},t.prototype.equals=function(n){return n instanceof t},t}(e2),n2=function(e){ks(t,e);function t(n,r){var i=this;if(!sR(n))throw new aR("start");if(!sR(r))throw new aR("end");return i=e.call(this)||this,i.start=Math.min(n,r),i.end=Math.max(n,r),i}return t.prototype.equals=function(n){return n instanceof t&&this.constructor===n.constructor&&this.start===n.start&&this.end===n.end},t}(e2),Ap=function(e){ks(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.toRange=function(n){var r=o1(n);return new po({row:this.start,column:0},{row:this.end,column:r.column})},t.prototype.normalizeTo=function(n){var r=_m(n),i=new t(Math.max(this.start,0),Math.min(this.end,r-1));return i},t.prototype.hasEntireRow=function(n){return n>=this.start&&n<=this.end},t.prototype.hasEntireColumn=function(n){return!1},t.prototype.size=function(n){var r=this.end-this.start+1;return r*Nm(n)},t.prototype.has=function(n,r){return r.row>=this.start&&r.row<=this.end},t}(n2),Op=function(e){ks(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.toRange=function(n){var r=o1(n);return new po({row:0,column:this.start},{row:r.row,column:this.end})},t.prototype.normalizeTo=function(n){var r=Nm(n),i=new t(Math.max(this.start,0),Math.min(this.end,r-1));return i},t.prototype.hasEntireRow=function(n){return!1},t.prototype.hasEntireColumn=function(n){return n>=this.start&&n<=this.end},t.prototype.size=function(n){var r=this.end-this.start+1;return r*_m(n)},t.prototype.has=function(n,r){return r.column>=this.start&&r.column<=this.end},t}(n2);function r2(e){var t=o1(e);return new po(Qh,t)}function sR(e){return Number.isInteger(e)&&e>=0}var aR=function(e){ks(t,e);function t(n){return e.call(this,"".concat(n," is not a valid index. It must be 0 or a positive integer"))||this}return t}(Error),i2="text/plain",Yj=":focus-within";function Qj(e){e.selectionStart=e.selectionEnd=e.value.length}function Kh(e,t,n){t===void 0&&(t=0),n===void 0&&(n=1);var r=[];if(Math.sign(e-t)===-1){for(var i=t;i>e;i-=n)r.push(i);return r}for(var i=t;i<e;i+=n)r.push(i);return r}function nE(e,t){return!!(e&&Gj(t,e))}function M0(e){return{width:e.offsetWidth,height:e.offsetHeight,left:e.offsetLeft,top:e.offsetTop}}function Kj(e,t){var n;(n=e.clipboardData)===null||n===void 0||n.setData(i2,t)}function Xj(e){return window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?e.clipboardData.getData(i2):""}function rE(e,t,n){var r=t&&t[e.row],i=n&&n[e.column];return r&&i&&Te(Te({},r),i)}function o2(e,t,n){var r=rE(n.start,e,t),i=rE(n.end,e,t);return r&&i&&{width:i.left+i.width-r.left,height:i.top+i.height-r.top,top:r.top,left:r.left}}function Jj(e,t,n,r){var i=r.toRange(n);return i?o2(e,t,i):void 0}function Zj(e){var t=jj(function(n){return(n==null?void 0:n.value)||""},e);return zj(t)}function ez(e,t,n){var r=Ms(e),i=r.columns,o=r.rows;return{rows:t?Math.max(o,t.length):o,columns:n?Math.max(i,n.length):i}}function P0(e,t){return e!==null&&t==="view"&&s2(e)}function s2(e){return e.matches(Yj)}function tz(e){return typeof e=="string"&&e.includes(`
`)}function uo(e){return"".concat(e.row,",").concat(e.column)}function iE(e){var t=kt(e.split(","),2),n=t[0],r=t[1];return{row:Number(n),column:Number(r)}}var so=function(){function e(t){this.set=t}return e.from=function(t){var n,r,i=new Set;try{for(var o=zt(t),s=o.next();!s.done;s=o.next()){var c=s.value;i.add(uo(c))}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return new e(i)},e.prototype.has=function(t){return this.set.has(uo(t))},Object.defineProperty(e.prototype,"size",{get:function(){return this.set.size},enumerable:!1,configurable:!0}),e.prototype.add=function(t){var n=new Set(this.set);return n.add(uo(t)),new e(n)},e.prototype.delete=function(t){var n=new Set(this.set);return n.delete(uo(t))?new e(n):this},e.prototype.difference=function(t){var n,r,i=this;try{for(var o=zt(t),s=o.next();!s.done;s=o.next()){var c=s.value;i=i.delete(c)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},e.prototype.union=function(t){var n,r,i=this;try{for(var o=zt(t),s=o.next();!s.done;s=o.next()){var c=s.value;i=i.add(c)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},e.prototype[Symbol.iterator]=function(){var t,n,r,i,o,s;return rf(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,7]),t=zt(this.set),n=t.next(),c.label=1;case 1:return n.done?[3,4]:(r=n.value,[4,iE(r)]);case 2:c.sent(),c.label=3;case 3:return n=t.next(),[3,1];case 4:return[3,7];case 5:return i=c.sent(),o={error:i},[3,7];case 6:try{n&&!n.done&&(s=t.return)&&s.call(t)}finally{if(o)throw o.error}return[7];case 7:return[2]}})},e}(),nz="=";function of(e){return typeof e=="string"&&e.startsWith(nz)&&e.length>1}function a1(e){return e.slice(1)}function sf(e,t){return new pj(Te(Te({},t),{onCell:function(n){var r={row:n.row-1,column:n.col-1},i=wr(r,e);return isNaN(i==null?void 0:i.value)?i==null?void 0:i.value:Number(i==null?void 0:i.value)},onRange:function(n){var r=Ms(e),i={row:n.from.row-1,column:n.from.col-1},o={row:Math.min(n.to.row-1,r.rows-1),column:Math.min(n.to.col-1,r.columns-1)},s=Jk(i,o,e);return Hj(s,function(c){return isNaN(c==null?void 0:c.value)?c==null?void 0:c.value:Number(c==null?void 0:c.value)})}}))}var rz=new Ss.DepParser;function a2(e,t,n){var r=Ms(n),i=r.rows,o=r.columns;try{var s=rz.parse(e,u2(t)),c=so.from(s.flatMap(function(l){var u="from"in l;if(u){var a=l.from,d=l.to,h={row:a.row-1,column:a.col-1},m={row:Math.min(d.row-1,i-1),column:Math.min(d.col-1,o-1)},y=new po(h,m);return Array.from(y)}return{row:l.row-1,column:l.col-1}}));return c}catch(l){if(l instanceof Ss.FormulaError)return so.from([]);throw l}}function iz(e,t,n){try{var r=u2(t),i=n.parse(e,r);return i instanceof Ss.FormulaError?i.toString():i}catch(o){if(o instanceof Ss.FormulaError)return o.toString();throw o}}function u2(e){return{row:e.row+1,col:e.column+1,sheet:"Sheet1"}}var oz=function(){function e(t){t===void 0&&(t=new Map),this.forwards=t}return e.from=function(t){var n,r,i=new Map;try{for(var o=zt(t),s=o.next();!s.done;s=o.next()){var c=kt(s.value,2),l=c[0],u=c[1];i.set(uo(l),u)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return new e(i)},e.prototype.set=function(t,n){var r=new e(new Map(this.forwards));return n.size===0?(r.forwards.delete(uo(t)),r):(r.forwards.set(uo(t),n),r)},e.prototype.get=function(t){return this.forwards.get(uo(t))||so.from([])},e.prototype.getBackwards=function(t){var n,r,i=so.from([]);try{for(var o=zt(this.forwards),s=o.next();!s.done;s=o.next()){var c=kt(s.value,2),l=c[0],u=c[1];u.has(t)&&(i=i.add(iE(l)))}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},e.prototype.getBackwardsRecursive=function(t,n){var r,i;n===void 0&&(n=so.from([]));var o=this.getBackwards(t),s=n;try{for(var c=zt(o),l=c.next();!l.done;l=c.next()){var u=l.value;s.has(u)||(s=s.add(u),o=o.union(this.getBackwardsRecursive(u,s)))}}catch(a){r={error:a}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return o},e.prototype.hasCircularDependency=function(t){for(var n,r,i=so.from([]),o=[t];o.length>0;){var s=o.pop();if(s){if(i.has(s))return!0;i=i.add(s);var c=this.get(s);if(c)try{for(var l=(n=void 0,zt(c)),u=l.next();!u.done;u=l.next()){var a=u.value;o.push(a)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}return!1},e.prototype[Symbol.iterator]=function(){var t,n,r,i,o,s,c,l,u,a,d,h,m,y,g,v,w;return rf(this,function(T){switch(T.label){case 0:t=new Set,T.label=1;case 1:T.trys.push([1,13,14,15]),n=zt(this.forwards),r=n.next(),T.label=2;case 2:return r.done?[3,12]:(i=kt(r.value,2),o=i[0],s=i[1],c=iE(o),t.add(o),[4,[c,s]]);case 3:T.sent(),T.label=4;case 4:T.trys.push([4,9,10,11]),l=(v=void 0,zt(s)),u=l.next(),T.label=5;case 5:return u.done?[3,8]:(a=u.value,d=uo(a),!t.has(d)&&!this.forwards.has(d)?(t.add(d),[4,[a,so.from([])]]):[3,7]);case 6:T.sent(),T.label=7;case 7:return u=l.next(),[3,5];case 8:return[3,11];case 9:return h=T.sent(),v={error:h},[3,11];case 10:try{u&&!u.done&&(w=l.return)&&w.call(l)}finally{if(v)throw v.error}return[7];case 11:return r=n.next(),[3,2];case 12:return[3,15];case 13:return m=T.sent(),y={error:m},[3,15];case 14:try{r&&!r.done&&(g=n.return)&&g.call(n)}finally{if(y)throw y.error}return[7];case 15:return[2]}})},e.prototype.traverseBFSBackwards=function(){var t,n,r,i,o,c,s,c,l,u,a,d,h,m,y,g;return rf(this,function(v){switch(v.label){case 0:t=so.from([]),n=[];try{for(r=zt(this),i=r.next();!i.done;i=r.next())o=kt(i.value,2),c=o[0],s=o[1],s.size===0&&(t=t.add(c),n.push(c))}catch(w){h={error:w}}finally{try{i&&!i.done&&(m=r.return)&&m.call(r)}finally{if(h)throw h.error}}v.label=1;case 1:return n.length>0?(c=n.shift(),c?[4,c]:[3,1]):[3,3];case 2:if(v.sent(),l=this.getBackwards(c),l.size===0)return[3,1];try{for(u=(y=void 0,zt(l)),a=u.next();!a.done;a=u.next())d=a.value,!t.has(d)&&this.get(d).difference(t).size===0&&(n.push(d),t=t.add(d))}catch(w){y={error:w}}finally{try{a&&!a.done&&(g=u.return)&&g.call(u)}finally{if(y)throw y.error}}return[3,1];case 3:return[2]}})},e}(),fs=function(){function e(t,n,r,i){this.createFormulaParser=t,this.data=n,this.referenceGraph=r||lz(n),this.evaluatedData=i||cz(n,this.referenceGraph,this.createFormulaParser)}return e}();function sz(e,t,n){var r=lo(t,n,e.data),i=of(n.value)?az(e.referenceGraph,t,n,r):e.referenceGraph,o=e.createFormulaParser(r),s=uz(e.evaluatedData,r,i,t,n,o);return new fs(e.createFormulaParser,r,i,s)}function az(e,t,n,r){var i=a2(a1(n.value),t,r),o=e.set(t,i);return o}function uz(e,t,n,r,i,o){var s,c,l,u;if(n.hasCircularDependency(r)){var a=so.from([r]),d=lo(r,Te(Te({},i),{value:Ss.FormulaError.REF}),e);try{for(var h=zt(n.getBackwardsRecursive(r)),m=h.next();!m.done;m=h.next()){var y=m.value;if(a.has(y))break;a=a.add(y);var g=wr(y,t);g&&(d=lo(y,Te(Te({},g),{value:Ss.FormulaError.REF}),d))}}catch(O){s={error:O}}finally{try{m&&!m.done&&(c=h.return)&&c.call(h)}finally{if(s)throw s.error}}return d}var v=e,w=of(i.value)?oE(i.value,r,o):i.value,T=Te(Te({},i),{value:w});v=lo(r,T,v);try{for(var N=zt(n.getBackwardsRecursive(r)),b=N.next();!b.done;b=N.next()){var y=b.value,g=wr(y,t);if(g){var S=of(g.value)?oE(g.value,r,o):g.value,x=Te(Te({},g),{value:S});v=lo(y,x,v)}}}catch(O){l={error:O}}finally{try{b&&!b.done&&(u=N.return)&&u.call(N)}finally{if(l)throw l.error}}return v}function lz(e){var t,n,r=[];try{for(var i=zt(i1(e)),o=i.next();!o.done;o=i.next()){var s=kt(o.value,2),c=s[0],l=s[1];if(l&&of(l.value)){var u=a2(a1(l.value),c,e);r.push([c,u])}}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return oz.from(r)}function cz(e,t,n){var r,i,o=e,s=n(o);try{for(var c=zt(t.traverseBFSBackwards()),l=c.next();!l.done;l=c.next()){var u=l.value,a=wr(u,e);if(a&&of(a.value)){var d=oE(a.value,u,s);o=lo(u,Te(Te({},a),{value:d}),o),s=n(o)}}}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return o}function oE(e,t,n){var r=a1(e);try{return iz(r,t,n)}catch{return Ss.FormulaError.REF}}var sE={active:null,mode:"view",rowDimensions:{},columnDimensions:{},lastChanged:null,hasPasted:!1,cut:!1,dragging:!1,model:new fs(sf,[]),selected:new Zk,copied:null,lastCommit:null};function fz(e,t){var n,r,i,o,s,c;switch(t.type){case Ck:{var l=t.payload.data,u=e.active&&Sp(e.active,l)?e.active:null,a=e.selected.normalizeTo(l);return Te(Te({},e),{model:new fs(e.model.createFormulaParser,l),active:u,selected:a})}case kk:{var d=t.payload.createFormulaParser;return Te(Te({},e),{model:new fs(d,e.model.data)})}case Mk:{var h=t.payload,m=h.row,y=h.extend,g=e.active;return Te(Te({},e),{selected:y&&g?new Ap(g.row,m):new Ap(m,m),active:y&&g?g:Te(Te({},Qh),{row:m}),mode:"view"})}case Pk:{var v=t.payload,w=v.column,y=v.extend,g=e.active;return Te(Te({},e),{selected:y&&g?new Op(g.column,w):new Op(w,w),active:y&&g?g:Te(Te({},Qh),{column:w}),mode:"view"})}case Lk:return Te(Te({},e),{selected:new t2,active:Qh,mode:"view"});case Dk:{var T=t.payload.selection,N=T.toRange(e.model.data),g=e.active&&T.has(e.model.data,e.active)?e.active:N==null?void 0:N.start;return Te(Te({},e),{selected:T,active:g||null,mode:"view"})}case Fk:{var b=t.payload.point;return e.active&&!nE(e.active,b)?Te(Te({},e),{selected:new qu(new po(b,e.active)),mode:"view"}):e}case Uk:{var b=t.payload.point;return Te(Te({},e),{selected:new qu(new po(b,b)),active:b,mode:nE(e.active,b)?"edit":"view"})}case Bk:{var S=t.payload,g=S.active,x=S.data;return uE(e)?e:Te(Te({},e),{model:sz(e.model,g,x),lastChanged:g})}case $k:{var O=t.payload,b=O.point,M=O.dimensions,U=e.rowDimensions[b.row],z=e.columnDimensions[b.column];return U&&z&&U.top===M.top&&U.height===M.height&&z.left===M.left&&z.width===M.width?e:Te(Te({},e),{rowDimensions:Te(Te({},e.rowDimensions),(n={},n[b.row]={top:M.top,height:M.height},n)),columnDimensions:Te(Te({},e.columnDimensions),(r={},r[b.column]={left:M.left,width:M.width},r))})}case Vk:case tE:{var Q=e.selected.toRange(e.model.data);return Te(Te({},e),{copied:Q,cut:t.type===tE,hasPasted:!1})}case jk:{var ee=t.payload.data,g=e.active;if(!g)return e;var X=qj(ee,function(Xe){return{value:Xe}}),F=Ms(X),Q=e.selected.toRange(e.model.data);if(Q&&F.rows===1&&F.columns===1){var J=wr({row:0,column:0},X),K=e.cut&&e.copied?oR(e.copied.start,e.model.data):e.model.data,te=[];try{for(var G=zt(Q||[]),H=G.next();!H.done;H=G.next()){var b=H.value,W=wr(b,e.model.data);te.push({prevCell:W||null,nextCell:J||null}),K=lo(b,J,K)}}catch(Xe){i={error:Xe}}finally{try{H&&!H.done&&(o=G.return)&&o.call(G)}finally{if(i)throw i.error}}return Te(Te({},e),{model:new fs(sf,K),copied:null,cut:!1,hasPasted:!0,mode:"view",lastCommit:te})}var V={rows:g.row+F.rows,columns:g.column+F.columns},C=Wj(e.model.data,V),L={data:C,commit:[]};try{for(var I=zt(i1(X)),j=I.next();!j.done;j=I.next()){var $=kt(j.value,2),b=$[0],J=$[1],oe=L.commit||[],q={row:b.row+g.row,column:b.column+g.column},se=L.data;if(e.cut){if(e.copied){var ge={row:b.row+e.copied.start.row,column:b.column+e.copied.start.column};se=oR(ge,L.data)}oe=Hn(Hn([],kt(oe),!1),[{prevCell:J||null,nextCell:null}],!1)}Sp(q,C)||(L={data:se,commit:oe});var W=wr(q,se)||null;oe=Hn(Hn([],kt(oe),!1),[{prevCell:W,nextCell:J||null}],!1),L.data=lo(q,Te(Te({value:void 0},W),J),se),L.commit=oe}}catch(Xe){s={error:Xe}}finally{try{j&&!j.done&&(c=I.return)&&c.call(I)}finally{if(s)throw s.error}}return Te(Te({},e),{model:new fs(sf,L.data),selected:new qu(new po(g,{row:g.row+F.rows-1,column:g.column+F.columns-1})),copied:null,cut:!1,hasPasted:!0,mode:"view",lastCommit:L.commit})}case zk:return Xh(e);case qk:return c2(e);case wj:return Ip(e);case Wk:return l2(e);case Hk:{var we=t.payload.event;if(uE(e)||we.metaKey)return e;if(e.mode==="view"&&e.active){var Q=e.selected.toRange(e.model.data);return(Q==null?void 0:Q.size())===1?Xh(Ip(e)):Xh(e)}return e}case Gk:{var be=t.payload.event,Re=d2(e,be);return Re?Te(Te({},e),Re(e,be)):e}case Yk:return Te(Te({},e),{dragging:!0});case Qk:return Te(Te({},e),{dragging:!1});case Kk:{var Qe=t.payload.changes;return Te(Te({},e),f2(Qe))}default:throw new Error("Unknown action")}}function Xh(e){return uE(e)?e:Te(Te({},e),{mode:"edit"})}function Ip(e){var t,n;if(!e.active)return e;var r=function(m){return m&&!m.readOnly},i=function(m){return r(m)?Object.assign({},m,{value:void 0}):m},o=e.selected.toRange(e.model.data),s=[],c=e.model.data;try{for(var l=zt(o||[]),u=l.next();!u.done;u=l.next()){var a=u.value,d=wr(a,e.model.data),h=i(d);s.push({prevCell:d||null,nextCell:h||null}),c=lo(a,h,c)}}catch(m){t={error:m}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return Te(Te(Te({},e),{model:new fs(sf,c)}),f2(s))}function l2(e){return Te(Te({},e),{active:null,selected:new Zk})}function c2(e){return Te(Te({},e),{mode:"view"})}function f2(e){return{lastCommit:e}}var ra=function(e,t){return function(n){if(n.active){var r=Ms(n.model.data),i=n.active.column+t,o=i>=r.columns,s={row:n.active.row+e+(o?1:0),column:(n.active.column+t)%r.columns};return Sp(s,n.model.data)?Te(Te({},n),{active:s,selected:new qu(new po(s,s)),mode:"view"}):Te(Te({},n),{mode:"view"})}}},aE={ArrowUp:ra(-1,0),ArrowDown:ra(1,0),ArrowLeft:ra(0,-1),ArrowRight:ra(0,1),Tab:ra(0,1),Enter:Xh,Backspace:Ip,Delete:Ip,Escape:l2},dz={Escape:c2,Tab:aE.Tab,Enter:aE.ArrowDown},hz={Tab:ra(0,-1)},rn;(function(e){e.Left="Left",e.Right="Right",e.Top="Top",e.Bottom="Bottom"})(rn||(rn={}));var pz={ArrowUp:function(e){return Te(Te({},e),{selected:mh(e.selected,e.active,e.model.data,rn.Top)})},ArrowDown:function(e){return Te(Te({},e),{selected:mh(e.selected,e.active,e.model.data,rn.Bottom)})},ArrowLeft:function(e){return Te(Te({},e),{selected:mh(e.selected,e.active,e.model.data,rn.Left)})},ArrowRight:function(e){return Te(Te({},e),{selected:mh(e.selected,e.active,e.model.data,rn.Right)})},Tab:ra(0,-1)},mz={},gz={};function d2(e,t){var n=t.key,r;return e.mode==="edit"?t.shiftKey?r=hz:r=dz:t.shiftKey&&t.metaKey?r=mz:t.shiftKey?r=pz:t.metaKey?r=gz:r=aE,r[n]}function vz(e,t){return d2(e,t)!==void 0}function uE(e){var t=yz(e);return!!(t!=null&&t.readOnly)}function yz(e){var t=e.active&&wr(e.active,e.model.data);return t||null}function mh(e,t,n,r){if(!t)return e;if(e instanceof qu){var i=Ez(e,t,n,r);return i}return e instanceof Op?Tz(e,t,n,r):e instanceof Ap?wz(e,t,n,r):e}function Ez(e,t,n,r){var i,o=r===rn.Left||r===rn.Right?"column":"row",s=r===rn.Left||r===rn.Top?"start":"end",c=s==="start"?-1:1,l=e.range.has(Te(Te({},t),(i={},i[o]=t[o]+c*-1,i))),u=l?s==="start"?"end":"start":s,a=new po(e.range.start,e.range.end);a[u][o]+=c;var d=new qu(a).normalizeTo(n);return d}function wz(e,t,n,r){if(r===rn.Left||r===rn.Right)return e;var i=r===rn.Top?-1:1,o=r===rn.Top?"start":"end",s=o==="start"?"end":"start",c=Te({},e);(r===rn.Top?e.end>t.row:e.start<t.row)?c[s]=e[s]+i:c[o]=e[o]+i;var l=new Ap(Math.max(c.start,0),Math.max(c.end,0));return l.normalizeTo(n)}function Tz(e,t,n,r){if(r===rn.Top||r===rn.Bottom)return e;var i=r===rn.Left?-1:1,o=r===rn.Left?"start":"end",s=o==="start"?"end":"start",c=Te({},e);(r===rn.Left?e.end>t.row:e.start<t.row)?c[s]=e[s]+i:c[o]=e[o]+i;var l=new Op(Math.max(c.start,0),Math.max(c.end,0));return l.normalizeTo(n)}var u1=Ej([sE,function(){}]),_z=function(e){var t=e.children,n=e.columns,r=e.hideColumnIndicators,i=n+(r?0:1),o=Kh(i).map(function(s){return k.createElement("col",{key:s})});return k.createElement("table",{className:"Spreadsheet__table"},k.createElement("colgroup",null,o),k.createElement("tbody",null,t))},Nz=function(e){return k.createElement("tr",Te({},e))},bz=function(e){return k.createElement("tr",Te({},e))};function If(){return Ik(u1,function(e){var t=kt(e,2);t[0];var n=t[1];return n})}function nn(e){return Ik(u1,function(t){var n=kt(t,1),r=n[0];return e(r)})}var xz=function(e){var t=e.selected,n=e.onSelect,r=k.useCallback(function(){n()},[n]);return k.createElement("th",{className:Os("Spreadsheet__header",{"Spreadsheet__header--selected":t}),onClick:r,tabIndex:0})},Rz=function(e){return function(n){var r=If(),i=k.useCallback(function(){return r(xj())},[r]),o=nn(function(s){return s.selected instanceof t2});return k.createElement(e,Te({},n,{selected:o,onSelect:i}))}},Sz=function(e){var t=e.column,n=e.label,r=e.selected,i=e.onSelect,o=k.useCallback(function(s){i(t,s.shiftKey)},[i,t]);return k.createElement("th",{className:Os("Spreadsheet__header",{"Spreadsheet__header--selected":r}),onClick:o,tabIndex:0},n!==void 0?n:Oz(t))},Az=function(e){return function(n){var r=If(),i=k.useCallback(function(s,c){return r(bj(s,c))},[r]),o=nn(function(s){return s.selected.hasEntireColumn(n.column)});return k.createElement(e,Te({},n,{selected:o,onSelect:i}))}};function Oz(e){for(var t="",n=e;n>=0;)t=String.fromCharCode(65+n%26)+t,n=Math.floor(n/26)-1;return t}var Iz=function(e){var t=e.row,n=e.label,r=e.selected,i=e.onSelect,o=k.useCallback(function(s){i(t,s.shiftKey)},[i,t]);return k.createElement("th",{className:Os("Spreadsheet__header",{"Spreadsheet__header--selected":r}),onClick:o,tabIndex:0},n!==void 0?n:t+1)},Cz=function(e){return function(n){var r=If(),i=nn(function(s){return s.selected.hasEntireRow(n.row)}),o=k.useCallback(function(s,c){return r(Nj(s,c))},[r]);return k.createElement(e,Te({},n,{selected:i,onSelect:o}))}},kz=function(e){var t=e.row,n=e.column,r=e.DataViewer,i=e.selected,o=e.active,s=e.dragging,c=e.mode,l=e.data,u=e.evaluatedData,a=e.select,d=e.activate,h=e.setCellDimensions,m=e.setCellData,y=k.useRef(null),g=k.useMemo(function(){return{row:t,column:n}},[t,n]),v=k.useCallback(function(T){c==="view"&&(h(g,M0(T.currentTarget)),T.shiftKey?a(g):d(g))},[c,h,g,a,d]),w=k.useCallback(function(T){s&&(h(g,M0(T.currentTarget)),a(g))},[h,a,s,g]);return k.useEffect(function(){var T=y.current;i&&T&&h(g,M0(T)),T&&o&&c==="view"&&T.focus()},[h,i,o,c,g,l]),l&&l.DataViewer&&(r=l.DataViewer),k.createElement("td",{ref:y,className:Os("Spreadsheet__cell",l==null?void 0:l.className,{"Spreadsheet__cell--readonly":l==null?void 0:l.readOnly}),onMouseOver:w,onMouseDown:v,tabIndex:0},k.createElement(r,{row:t,column:n,cell:l,evaluatedCell:u,setCellData:m}))},Mz=function(e){return function(n){var r=n.row,i=n.column,o=If(),s=k.useMemo(function(){return{row:r,column:i}},[r,i]),c=k.useCallback(function(T){return o(Xk(s,T))},[o,s]),l=k.useCallback(function(T){return o(Sj(T))},[o]),u=k.useCallback(function(T){return o(Aj(T))},[o]),a=k.useCallback(function(T,N){return o(Oj(T,N))},[o]),d=nn(function(T){return nE(T.active,s)}),h=nn(function(T){return d?T.mode:"view"}),m=nn(function(T){return wr(s,T.model.data)}),y=nn(function(T){return wr(s,T.model.evaluatedData)}),g=nn(function(T){return T.selected.has(T.model.data,s)}),v=nn(function(T){return T.dragging}),w=nn(function(T){var N;return((N=T.copied)===null||N===void 0?void 0:N.has(s))||!1});return k.createElement(e,Te({},n,{selected:g,active:d,copied:w,dragging:v,mode:h,evaluatedData:y,data:m,select:l,activate:u,setCellDimensions:a,setCellData:c}))}},Pz="TRUE",Lz="FALSE",Dz=function(e){var t=e.cell,n=e.evaluatedCell,r=Fz(t,n);return typeof r=="boolean"?k.createElement("span",{className:"Spreadsheet__data-viewer Spreadsheet__data-viewer--boolean"},Uz(r)):k.createElement("span",{className:Os("Spreadsheet__data-viewer",{"Spreadsheet__data-viewer--preserve-breaks":tz(r)})},r)};function Fz(e,t){var n,r=(n=t==null?void 0:t.value)!==null&&n!==void 0?n:e==null?void 0:e.value;return r&&typeof r=="object"?r.toString():r}function Uz(e){return e?Pz:Lz}var Bz=function(e){var t,n=e.onChange,r=e.cell,i=k.useRef(null),o=k.useCallback(function(c){n(Te(Te({},r),{value:c.target.value}))},[n,r]);k.useEffect(function(){i.current&&Qj(i.current)},[i]);var s=(t=r==null?void 0:r.value)!==null&&t!==void 0?t:"";return k.createElement("div",{className:"Spreadsheet__data-editor"},k.createElement("input",{ref:i,type:"text",onChange:o,value:s,autoFocus:!0}))},$z=function(e){var t=k.useRef(null),n=If(),r=k.useCallback(function(T,N){return n(Xk(T,N))},[n]),i=k.useCallback(function(){return n(Uj())},[n]),o=k.useCallback(function(T){return n(Lj(T))},[n]),s=k.useCallback(function(){n(Bj())},[n]),c=nn(function(T){return T.active}),l=nn(function(T){return T.mode}),u=nn(function(T){return T.active?wr(T.active,T.model.data):void 0}),a=nn(function(T){return c?rE(c,T.rowDimensions,T.columnDimensions):void 0}),d=k.useMemo(function(){return!c||!a},[c,a]),h=k.useRef(void 0),m=k.useRef(null),y=k.useRef(void 0),g=k.useCallback(function(T){c&&r(c,T)},[r,c]);k.useEffect(function(){var T=t.current;!d&&T&&T.focus()},[t,d]),k.useEffect(function(){var T=m.current,N=y.current;if(m.current=c,y.current=u,!(!T||!N)){var b=(c==null?void 0:c.row)!==T.row||(c==null?void 0:c.column)!==T.column,S=l!=="edit";if(b||S){var x=h.current;N!==x?o([{prevCell:x||null,nextCell:N}]):!b&&u!==N&&o([{prevCell:N,nextCell:u||null}]),h.current=u}}});var v=u&&u.DataEditor||e.DataEditor,w=u&&u.readOnly;return d?null:k.createElement("div",{ref:t,className:Os("Spreadsheet__active-cell","Spreadsheet__active-cell--".concat(l)),style:a,onClick:l==="view"&&!w?i:void 0,tabIndex:0},l==="edit"&&c&&k.createElement(v,{row:c.row,column:c.column,cell:u,onChange:g,exitEditMode:s}))},h2=function(e){var t,n=e.dimensions,r=e.dragging,i=e.hidden,o=e.variant,s=n||{},c=s.width,l=s.height,u=s.top,a=s.left;return k.createElement("div",{className:Os("Spreadsheet__floating-rect",(t={},t["Spreadsheet__floating-rect--".concat(o)]=o,t["Spreadsheet__floating-rect--dragging"]=r,t["Spreadsheet__floating-rect--hidden"]=i,t)),style:{width:c,height:l,top:u,left:a}})},Vz=function(){var e=nn(function(i){return i.selected}),t=nn(function(i){return e&&Jj(i.rowDimensions,i.columnDimensions,i.model.data,i.selected)}),n=nn(function(i){return i.dragging}),r=nn(function(i){return i.selected.size(i.model.data)<2});return k.createElement(h2,{variant:"selected",dimensions:t,dragging:n,hidden:r})},jz=function(){var e=nn(function(r){return r.copied}),t=nn(function(r){return e&&o2(r.rowDimensions,r.columnDimensions,e)}),n=e===null;return k.createElement(h2,{variant:"copied",dimensions:t,hidden:n,dragging:!1})};function zz(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var qz=`.Spreadsheet {
  --background-color: white;
  --text-color: black;
  --readonly-text-color: rgba(0, 0, 0, 0.4);
  --outline-color: #4285f4;
  --outline-background-color: rgba(160, 195, 255, 0.2);
  --border-color: hsl(2deg, 0%, 91%);
  --header-background-color: rgba(0, 0, 0, 0.04);
  --elevation: 0 2px 5px rgba(0, 0, 0, 0.4);

  position: relative;
  overflow: visible;
  background: var(--background-color);
  color: var(--text-color);
  display: inline-block;
}

.Spreadsheet--dark-mode {
  --background-color: black;
  --text-color: white;
  --readonly-text-color: rgba(255, 255, 255, 0.4);
  --header-background-color: rgba(255, 255, 255, 0.04);
  --border-color: hsl(2deg, 0%, 19%);
}

.Spreadsheet__active-cell {
  position: absolute;
  border: 2px solid var(--outline-color);
  box-sizing: border-box;
}

.Spreadsheet__active-cell--edit {
  background: var(--background-color);
  box-shadow: var(--elevation);
}

.Spreadsheet__table {
  border-collapse: collapse;
  table-layout: fixed;
}

.Spreadsheet__cell,
.Spreadsheet__active-cell {
  cursor: cell;
}

.Spreadsheet__cell {
  outline: none;
}

.Spreadsheet__cell--readonly {
  color: var(--readonly-text-color);
}

.Spreadsheet__cell,
.Spreadsheet__header {
  min-width: 6em;
  min-height: 1.9em;
  height: 1.9em;
  max-height: 1.9em;
  border: 1px solid var(--border-color);
  overflow: hidden;
  word-break: keep-all;
  white-space: nowrap;
  text-align: left;
  box-sizing: border-box;
  user-select: none;
}

.Spreadsheet__header {
  background: var(--header-background-color);
  color: var(--readonly-text-color);
  text-align: center;
  font: inherit;
}

.Spreadsheet__header--selected {
  background: #5f6268;
  color: #fff;
}

.Spreadsheet__header,
.Spreadsheet__data-viewer,
.Spreadsheet__data-editor input {
  padding: 4px;
  box-sizing: border-box;
}

.Spreadsheet__data-viewer--preserve-breaks {
  white-space: pre-wrap;
}

.Spreadsheet__data-editor,
.Spreadsheet__data-editor input {
  width: 100%;
  height: 100%;
}

.Spreadsheet__data-editor input {
  font: inherit;
  color: inherit;
  background: none;
  border: none;
  outline: none;
  margin: 0;
}

.Spreadsheet__data-viewer--boolean {
  text-align: center;
}

.Spreadsheet__floating-rect {
  position: absolute;
  pointer-events: none;
  box-sizing: border-box;
}

.Spreadsheet__floating-rect--hidden {
  display: none;
}

.Spreadsheet__floating-rect--selected {
  background: var(--outline-background-color);
  border: 2px var(--outline-color) solid;
}

.Spreadsheet__floating-rect--dragging {
  border: none;
}

.Spreadsheet__floating-rect--copied {
  border: 2px var(--outline-color) dashed;
}
`;zz(qz);var Wz=function(e){var t,n=e.className,r=e.darkMode,i=e.columnLabels,o=e.rowLabels,s=e.hideColumnIndicators,c=e.hideRowIndicators,l=e.onKeyDown,u=e.Table,a=u===void 0?_z:u,d=e.Row,h=d===void 0?Nz:d,m=e.HeaderRow,y=m===void 0?bz:m,g=e.DataEditor,v=g===void 0?Bz:g,w=e.DataViewer,T=w===void 0?Dz:w,N=e.onChange,b=N===void 0?function(){}:N,S=e.onModeChange,x=S===void 0?function(){}:S,O=e.onSelect,M=O===void 0?function(){}:O,U=e.onActivate,z=U===void 0?function(){}:U,Q=e.onBlur,ee=Q===void 0?function(){}:Q,X=e.onCellCommit,F=X===void 0?function(){}:X,J=e.onEvaluatedDataChange,K=J===void 0?function(){}:J,te=k.useMemo(function(){var Se=e.createFormulaParser||sf,xt=new fs(Se,e.data);return Te(Te({},sE),{model:xt,selected:e.selected||sE.selected})},[e.createFormulaParser,e.data,e.selected]),G=k.useReducer(fz,te),H=kt(G,2),W=H[0],V=H[1],C=k.useMemo(function(){return ez(W.model.data,o,i)},[W.model.data,o,i]),L=W.mode,I=k.useRef(null),j=function(Se){return k.useCallback(function(){for(var xt=[],Ht=0;Ht<arguments.length;Ht++)xt[Ht]=arguments[Ht];return V(Se.apply(void 0,Hn([],kt(xt),!1)))},[Se])},$=j(Fj),oe=j(Dj),q=j(Ij),se=j(kj),ge=j(Cj),we=j(Mj),be=j(Pj),Re=j(Tj),Qe=j(_j),ze=j($j),Rt=j(Rj),Xe=k.useRef(W.active);k.useEffect(function(){if(W.active!==Xe.current)if(W.active)z(W.active);else{var Se=I.current;Se&&s2(Se)&&document.activeElement&&document.activeElement.blur(),ee()}Xe.current=W.active},[z,ee,W.active]);var xe=k.useRef(W.model.data);k.useEffect(function(){W.model.data!==xe.current&&W.model.data!==e.data&&b(W.model.data),xe.current=W.model.data},[W.model.data,b,e.data]);var Me=k.useRef(W.model.evaluatedData);k.useEffect(function(){var Se,xt;((Se=W==null?void 0:W.model)===null||Se===void 0?void 0:Se.evaluatedData)!==(Me==null?void 0:Me.current)&&K((xt=W==null?void 0:W.model)===null||xt===void 0?void 0:xt.evaluatedData),Me.current=W.model.evaluatedData},[(t=W==null?void 0:W.model)===null||t===void 0?void 0:t.evaluatedData,K]);var it=k.useRef(W.selected);k.useEffect(function(){W.selected.equals(it.current)||(!e.selected||!W.selected.equals(e.selected))&&M(W.selected),it.current=W.selected},[W.selected,M,e.selected]);var gt=k.useRef(W.mode);k.useEffect(function(){W.mode!==gt.current&&x(W.mode),gt.current=W.mode},[W.mode,x]);var Ze=k.useRef(W.lastCommit);k.useEffect(function(){var Se,xt;if(W.lastCommit&&W.lastCommit!==Ze.current)try{for(var Ht=zt(W.lastCommit),dr=Ht.next();!dr.done;dr=Ht.next()){var Wr=dr.value;F(Wr.prevCell,Wr.nextCell,W.lastChanged)}}catch(Oo){Se={error:Oo}}finally{try{dr&&!dr.done&&(xt=Ht.return)&&xt.call(Ht)}finally{if(Se)throw Se.error}}},[F,W.lastChanged,W.lastCommit]);var ye=k.useRef(e.selected);k.useEffect(function(){e.selected&&ye.current&&!e.selected.equals(ye.current)&&Rt(e.selected),ye.current=e.selected},[e.selected,Rt]);var ne=k.useRef(e.data);k.useEffect(function(){e.data!==ne.current&&Re(e.data),ne.current=e.data},[e.data,Re]);var le=k.useRef(e.createFormulaParser);k.useEffect(function(){e.createFormulaParser!==le.current&&e.createFormulaParser&&Qe(e.createFormulaParser),le.current=e.createFormulaParser},[e.createFormulaParser,Qe]);var de=k.useCallback(function(Se){var xt=W.model,Ht=W.selected,dr=xt.data,Wr=Ht.toRange(dr);if(Wr){var Oo=Jk(Wr.start,Wr.end,dr),Ua=Zj(Oo);Kj(Se,Ua)}},[W]),he=k.useCallback(function(Se){P0(I.current,L)&&(Se.preventDefault(),Se.stopPropagation(),de(Se),$())},[L,de,$]),ke=k.useCallback(function(Se){P0(I.current,L)&&(Se.preventDefault(),Se.stopPropagation(),de(Se),oe())},[L,de,oe]),rt=k.useCallback(function(Se){if(P0(I.current,L)&&(Se.preventDefault(),Se.stopPropagation(),Se.clipboardData)){var xt=Xj(Se);q(xt)}},[L,q]),at=k.useCallback(function(Se){Se.persist(),l&&l(Se),Se.defaultPrevented||(vz(W,Se)&&Se.nativeEvent.preventDefault(),se(Se))},[W,l,se]),Je=k.useCallback(function(){be(),document.removeEventListener("mouseup",Je)},[be]),Ke=k.useCallback(function(Se){!W.dragging&&Se.buttons===1&&(we(),document.addEventListener("mouseup",Je))},[W,we,Je]),nt=k.useCallback(function(Se){Se.currentTarget.contains(Se.relatedTarget)||ze()},[ze]),Ut=k.useMemo(function(){return Mz(e.Cell||kz)},[e.Cell]),Rr=k.useMemo(function(){return Rz(e.CornerIndicator||xz)},[e.CornerIndicator]),Sn=k.useMemo(function(){return Cz(e.RowIndicator||Iz)},[e.RowIndicator]),dn=k.useMemo(function(){return Az(e.ColumnIndicator||Sz)},[e.ColumnIndicator]);k.useEffect(function(){return document.addEventListener("cut",he),document.addEventListener("copy",ke),document.addEventListener("paste",rt),function(){document.removeEventListener("cut",he),document.removeEventListener("copy",ke),document.removeEventListener("paste",rt)}},[he,ke,rt]);var Sr=k.useMemo(function(){return k.createElement(a,{columns:C.columns,hideColumnIndicators:s},k.createElement(y,null,!c&&!s&&k.createElement(Rr,null),!s&&Kh(C.columns).map(function(Se){return i?k.createElement(dn,{key:Se,column:Se,label:Se in i?i[Se]:null}):k.createElement(dn,{key:Se,column:Se})})),Kh(C.rows).map(function(Se){return k.createElement(h,{key:Se,row:Se},!c&&(o?k.createElement(Sn,{key:Se,row:Se,label:Se in o?o[Se]:null}):k.createElement(Sn,{key:Se,row:Se})),Kh(C.columns).map(function(xt){return k.createElement(Ut,{key:xt,row:Se,column:xt,DataViewer:T})}))}))},[a,C.rows,C.columns,s,h,y,c,Rr,i,dn,o,Sn,Ut,T]),Ni=k.useMemo(function(){return k.createElement($z,{DataEditor:v})},[v]),qr=k.useMemo(function(){return k.createElement("div",{ref:I,className:Os("Spreadsheet",n,{"Spreadsheet--dark-mode":r}),onKeyPress:ge,onKeyDown:at,onMouseMove:Ke,onBlur:nt},Sr,Ni,k.createElement(Vz,null),k.createElement(jz,null))},[n,r,ge,at,Ke,nt,Sr,Ni]);return k.createElement(u1.Provider,{value:G},qr)};const p2=({data:e,tableName:t,excludeFields:n=["__typename","nodeId","id"],className:r="",updateSearchQuery:i})=>{if(!e||e.length===0)return P.jsx("div",{children:"No data available"});const o=Array.from(new Set(e.flatMap(l=>Object.keys(l)))).filter(l=>!n.includes(l)),s=e.map(l=>o.map(u=>({value:String(l[u]||""),readOnly:!0}))),c=l=>{if(!l||!i)return;if(console.log("Selection:",l),console.log("Type:",l.type),!l.range){console.log("Selection has no range - ignoring");return}const u=l.range.start.row,a=e[u];if(console.log("Selected Row Index:",u),console.log("Selected Row Data:",a),a){const d={name:"",type:"object",metadata:{objectID:a.nodeId,objectType:(t==null?void 0:t.toLowerCase())||"unknown"}};console.log("Generated Query:",d),i(d)}};return P.jsxs("div",{className:r,children:[t&&P.jsx("div",{className:"text-xl font-bold mb-4",children:t}),P.jsx(Wz,{data:s,columnLabels:o,onChange:()=>{},onSelect:c})]})},Hz=({blueprint:e,updateSearchQuery:t})=>{const r=k.useMemo(()=>e.entities.map(s=>({tableName:s.displayName,query:Nf.getQueryForTable(s)})).filter(s=>s.query),[e]).map(({tableName:s,query:c})=>{const{data:l,loading:u,error:a}=_f(c,{fetchPolicy:"no-cache"});return u?{tableName:s,data:null,loading:u,error:a}:(console.log("data",l),{tableName:s,data:l?l[s.toLowerCase()]:null,loading:u,error:a})}),i=r.some(s=>s.loading),o=r.filter(s=>s.error);return console.log("isLoading",i),i?P.jsx("div",{className:"flex flex-col items-center w-full p-4",children:"Loading objects..."}):o.length>0?P.jsxs("div",{className:"p-4 text-red-600",children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Errors"}),o.map(s=>{var c;return P.jsxs("div",{children:[P.jsxs("strong",{children:[s.tableName,":"]})," ",(c=s.error)==null?void 0:c.message]},s.tableName)})]}):P.jsx("div",{className:"flex flex-col items-center w-full",children:P.jsxs("div",{className:"max-w-3xl w-full h-min overflow-y-hidden overflow-x-scroll no-scrollbar",children:[P.jsx("h2",{className:"text-2xl font-heading mb-4",children:"All Objects"}),r.map(s=>(console.log("result",s),s.data&&P.jsx(p2,{data:s.data,tableName:s.tableName,updateSearchQuery:t},s.tableName)))]})})},Gz=({blueprint:e,searchQuery:t,updateSearchQuery:n})=>{console.log("searchQuery",t);const r=e.entities.find(d=>d.name===(t==null?void 0:t.name));if(!r)return P.jsxs("div",{className:"p-4 text-red-600",children:[P.jsx("h2",{className:"text-xl font-bold",children:"Error"}),P.jsx("p",{children:"No matching table found for the given ID"})]});const i=r.name,o=Nf.getQueryForTable(r),{data:s,loading:c,error:l}=_f(o,{fetchPolicy:"no-cache"});if(console.log("data",s),c)return P.jsx("div",{className:"p-4",children:"Loading data..."});if(l)return P.jsxs("div",{className:"p-4 text-red-600",children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Error"}),P.jsx("p",{children:l.message})]});const a=((s==null?void 0:s[i])||[]).map(d=>{const h={};h.nodeId=d.nodeId;for(const[m,y]of Object.entries(d))m!=="nodeId"&&(h[m]=y);return h});return Array.from(new Set(a.flatMap(d=>Object.keys(d)))).filter(d=>d!=="nodeId"),console.log(a),P.jsx("div",{className:"flex flex-col items-center w-full",children:P.jsx("div",{className:"max-w-3xl w-full h-min overflow-y-hidden overflow-x-scroll no-scrollbar",children:P.jsx(p2,{data:a,tableName:i,updateSearchQuery:n,excludeFields:["nodeId"]})})})},Yz=({data:e})=>{const t=Object.entries(e).filter(([n,r])=>!n.endsWith("Collection")&&!n.startsWith("__")&&r!==null);return P.jsx("div",{className:"bg-white border-anakiwa-950/10 border rounded-xl shadow p-6",children:P.jsx("div",{className:"grid gap-3",children:t.map(([n,r])=>P.jsxs("div",{className:"grid grid-cols-3 gap-4 py-2 border-b border-gray-100 last:border-0",children:[P.jsx("span",{className:"text-gray-600 font-medium",children:n.replace(/([A-Z])/g," $1").trim()}),P.jsx("span",{className:"col-span-2 text-gray-800",children:typeof r=="object"?JSON.stringify(r):String(r)})]},n))})})};function Qz(e,t,n){if(!n)return{data:null,loading:!1,error:new Error("No type name found")};const r=Nf.buildConnectionsQuery(e,n);if(!r)return{data:null,loading:!1,error:new Error("No connections query found")};const{data:i,loading:o,error:s}=_f(r,{variables:{nodeId:t},skip:!t||!n});return console.log("Raw GraphQL Response:",i),{data:i,loading:o,error:s}}const Kz=({blueprint:e,searchQuery:t})=>{var c,l;const n=(c=t.metadata)==null?void 0:c.objectType,{data:r,loading:i,error:o}=Qz(e,(l=t.metadata)==null?void 0:l.objectID,n);if(!n)return P.jsx("div",{className:"p-4",children:"No object type found"});if(i)return P.jsx("div",{className:"p-4",children:"Loading object data..."});if(o)return P.jsxs("div",{className:"p-4 text-red-600",children:[P.jsx("h2",{className:"text-xl font-bold",children:"Error"}),P.jsx("p",{children:o.message})]});if(!r)return P.jsx("div",{className:"p-4",children:"No data available"});const s=Object.values(r)[0][0];return console.log("entityData",s),P.jsx("div",{className:"flex flex-col items-center w-full",children:P.jsx("div",{className:"flex flex-col justify-start gap-10 max-w-3xl",children:P.jsx(Yz,{data:s})})})},Xz=()=>{const[e,t]=k.useState(null),[n,r]=k.useState(!1),[i,o]=k.useState(null);return{data:e,loading:n,error:i,makeAIRequest:async c=>{try{r(!0),o(null),t(null);const l=await fetch(`http://127.0.0.1:5000/api?param=${encodeURIComponent(c)}`);if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const u=await l.json();t(u)}catch(l){o(l instanceof Error?l.message:"An error occurred")}finally{r(!1)}}}},Jz=({searchQuery:e})=>{var o;const{data:t,loading:n,error:r,makeAIRequest:i}=Xz();return fe.useEffect(()=>{var s;(s=e==null?void 0:e.metadata)!=null&&s.searchTerm&&i(e.metadata.searchTerm)},[(o=e==null?void 0:e.metadata)==null?void 0:o.searchTerm,i]),n?P.jsxs("div",{className:"p-4",children:[P.jsx("h2",{className:"text-xl font-bold",children:"AI Search"}),P.jsx("div",{className:"mt-4",children:"Loading AI response..."})]}):r?P.jsxs("div",{className:"p-4",children:[P.jsx("h2",{className:"text-xl font-bold",children:"AI Search"}),P.jsxs("div",{className:"mt-4 text-red-500",children:["Error: ",r]})]}):P.jsxs("div",{className:"p-4",children:[P.jsx("h2",{className:"text-xl font-bold",children:"AI Search"}),P.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 mt-4",children:[P.jsx("h3",{className:"text-lg font-semibold mb-2",children:"AI Response"}),P.jsx("p",{className:"text-gray-700",children:(t==null?void 0:t.message)||"No response yet"})]})]})},Zz=()=>{const[e,t]=k.useState(null),[n,r]=k.useState(!1),[i,o]=k.useState(null);return{data:e,loading:n,error:i,makeRecommendRequest:async()=>{try{r(!0),o(null),t(null);const c=await fetch("http://127.0.0.1:5000/recommend");if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const l=await c.json();t(l)}catch(c){o(c instanceof Error?c.message:"An error occurred")}finally{r(!1)}}}},eq=({blueprint:e,searchQuery:t,updateSearchQuery:n})=>{const{data:r,loading:i,error:o,makeRecommendRequest:s}=Zz();fe.useEffect(()=>{s()},[s]);const c=l=>{n({name:"",type:"ai",metadata:{searchTerm:l}})};return i?P.jsxs("div",{className:"p-4",children:[P.jsx("h2",{className:"text-xl font-bold",children:"Recommendations"}),P.jsx("div",{className:"mt-4",children:"Loading recommendations..."})]}):o?P.jsxs("div",{className:"p-4",children:[P.jsx("h2",{className:"text-xl font-bold",children:"Recommendations"}),P.jsxs("div",{className:"mt-4 text-red-500",children:["Error: ",o]})]}):P.jsxs("div",{className:"p-4",children:[P.jsx("h2",{className:"text-xl font-bold",children:"Recommendations"}),P.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 mt-4",children:[P.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Strategic Questions"}),r!=null&&r.recommendations?P.jsx("div",{className:"space-y-3",children:r.recommendations.map((l,u)=>P.jsxs("button",{type:"button",onClick:()=>c(l),className:`w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 
                                         transition-colors duration-150 flex items-start group`,children:[P.jsxs("span",{className:"flex-shrink-0 w-6 text-gray-600 group-hover:text-gray-800",children:[u+1,"."]}),P.jsx("span",{className:"text-gray-700 group-hover:text-gray-900",children:l})]},l))}):P.jsx("p",{className:"text-gray-700",children:"No recommendations available"})]})]})},tq="modulepreload",nq=function(e){return"/dynamic-frontend/"+e},uR={},il=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),c=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=nq(l),l in uR)return;uR[l]=!0;const u=l.endsWith(".css"),a=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${a}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":tq,u||(d.as="script"),d.crossOrigin="",d.href=l,c&&d.setAttribute("nonce",c),document.head.appendChild(d),u)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return i.then(s=>{for(const c of s||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})},rq=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>il(async()=>{const{default:r}=await Promise.resolve().then(()=>wl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class l1 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class iq extends l1{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class oq extends l1{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class sq extends l1{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var lE;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(lE||(lE={}));var aq=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(a){try{u(r.next(a))}catch(d){s(d)}}function l(a){try{u(r.throw(a))}catch(d){s(d)}}function u(a){a.done?o(a.value):i(a.value).then(c,l)}u((r=r.apply(e,t||[])).next())})};class uq{constructor(t,{headers:n={},customFetch:r,region:i=lE.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=rq(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return aq(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:s}=n;let c={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(c["x-region"]=l);let u;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(c["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(c["Content-Type"]="application/json",u=JSON.stringify(s)));const a=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:u}).catch(y=>{throw new iq(y)}),d=a.headers.get("x-relay-error");if(d&&d==="true")throw new oq(a);if(!a.ok)throw new sq(a);let h=((r=a.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield a.json():h==="application/octet-stream"?m=yield a.blob():h==="text/event-stream"?m=a:h==="multipart/form-data"?m=yield a.formData():m=yield a.text(),{data:m,error:null}}catch(i){return{data:null,error:i}}})}}var vn={},mu={},gu={},vu={},yu={},Eu={},lq=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ol=lq();const cq=ol.fetch,m2=ol.fetch.bind(ol),g2=ol.Headers,fq=ol.Request,dq=ol.Response,wl=Object.freeze(Object.defineProperty({__proto__:null,Headers:g2,Request:fq,Response:dq,default:m2,fetch:cq},Symbol.toStringTag,{value:"Module"})),hq=$S(wl);var gh={},lR;function v2(){if(lR)return gh;lR=1,Object.defineProperty(gh,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return gh.default=e,gh}var cR;function y2(){if(cR)return Eu;cR=1;var e=Eu&&Eu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Eu,"__esModule",{value:!0});const t=e(hq),n=e(v2());class r{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,s){return this.headers=Object.assign({},this.headers),this.headers[o]=s,this}then(o,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let l=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var a,d,h;let m=null,y=null,g=null,v=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){const S=await u.text();S===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=S:y=JSON.parse(S))}const N=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");N&&b&&b.length>1&&(g=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,g=null,v=406,w="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const N=await u.text();try{m=JSON.parse(N),Array.isArray(m)&&u.status===404&&(y=[],m=null,v=200,w="OK")}catch{u.status===404&&N===""?(v=204,w="No Content"):m={message:N}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,v=200,w="OK"),m&&this.shouldThrowOnError)throw new n.default(m)}return{error:m,data:y,count:g,status:v,statusText:w}});return this.shouldThrowOnError||(l=l.catch(u=>{var a,d,h;return{error:{message:`${(a=u==null?void 0:u.name)!==null&&a!==void 0?a:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(o,s)}}return Eu.default=r,Eu}var fR;function E2(){if(fR)return yu;fR=1;var e=yu&&yu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yu,"__esModule",{value:!0});const t=e(y2());class n extends t.default{select(i){let o=!1;const s=(i??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:o=!0,nullsFirst:s,foreignTable:c,referencedTable:l=c}={}){const u=l?`${l}.order`:"order",a=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${a?`${a},`:""}${i}.${o?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:s=o}={}){const c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,o,{foreignTable:s,referencedTable:c=s}={}){const l=typeof c>"u"?"offset":`${c}.offset`,u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:o=!1,settings:s=!1,buffers:c=!1,wal:l=!1,format:u="text"}={}){var a;const d=[i?"analyze":null,o?"verbose":null,s?"settings":null,c?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return yu.default=n,yu}var dR;function c1(){if(dR)return vu;dR=1;var e=vu&&vu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vu,"__esModule",{value:!0});const t=e(E2());class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const s=Array.from(new Set(o)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:s,type:c}={}){let l="";c==="plain"?l="pl":c==="phrase"?l="ph":c==="websearch"&&(l="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${l}fts${u}.${o}`),this}match(i){return Object.entries(i).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(i,o,s){return this.url.searchParams.append(i,`not.${o}.${s}`),this}or(i,{foreignTable:o,referencedTable:s=o}={}){const c=s?`${s}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,s){return this.url.searchParams.append(i,`${o}.${s}`),this}}return vu.default=n,vu}var hR;function w2(){if(hR)return gu;hR=1;var e=gu&&gu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gu,"__esModule",{value:!0});const t=e(c1());class n{constructor(i,{headers:o={},schema:s,fetch:c}){this.url=i,this.headers=o,this.schema=s,this.fetch=c}select(i,{head:o=!1,count:s}={}){const c=o?"HEAD":"GET";let l=!1;const u=(i??"*").split("").map(a=>/\s/.test(a)&&!l?"":(a==='"'&&(l=!l),a)).join("");return this.url.searchParams.set("select",u),s&&(this.headers.Prefer=`count=${s}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:o,defaultToNull:s=!0}={}){const c="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),o&&l.push(`count=${o}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(i)){const u=i.reduce((a,d)=>a.concat(Object.keys(d)),[]);if(u.length>0){const a=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",a.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:o,ignoreDuplicates:s=!1,count:c,defaultToNull:l=!0}={}){const u="POST",a=[`resolution=${s?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&a.push(this.headers.Prefer),c&&a.push(`count=${c}`),l||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(i)){const d=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:o}={}){const s="PATCH",c=[];return this.headers.Prefer&&c.push(this.headers.Prefer),o&&c.push(`count=${o}`),this.headers.Prefer=c.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const o="DELETE",s=[];return i&&s.push(`count=${i}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return gu.default=n,gu}var hc={},pc={},pR;function pq(){return pR||(pR=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.version=void 0,pc.version="0.0.0-automated"),pc}var mR;function mq(){if(mR)return hc;mR=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.DEFAULT_HEADERS=void 0;const e=pq();return hc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},hc}var gR;function gq(){if(gR)return mu;gR=1;var e=mu&&mu.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(mu,"__esModule",{value:!0});const t=e(w2()),n=e(c1()),r=mq();class i{constructor(s,{headers:c={},schema:l,fetch:u}={}){this.url=s,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),c),this.schemaName=l,this.fetch=u}from(s){const c=new URL(`${this.url}/${s}`);return new t.default(c,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new i(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,c={},{head:l=!1,get:u=!1,count:a}={}){let d;const h=new URL(`${this.url}/rpc/${s}`);let m;l||u?(d=l?"HEAD":"GET",Object.entries(c).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{h.searchParams.append(g,v)})):(d="POST",m=c);const y=Object.assign({},this.headers);return a&&(y.Prefer=`count=${a}`),new n.default({method:d,url:h,headers:y,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}return mu.default=i,mu}var vR;function vq(){if(vR)return vn;vR=1;var e=vn&&vn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(vn,"__esModule",{value:!0}),vn.PostgrestError=vn.PostgrestBuilder=vn.PostgrestTransformBuilder=vn.PostgrestFilterBuilder=vn.PostgrestQueryBuilder=vn.PostgrestClient=void 0;const t=e(gq());vn.PostgrestClient=t.default;const n=e(w2());vn.PostgrestQueryBuilder=n.default;const r=e(c1());vn.PostgrestFilterBuilder=r.default;const i=e(E2());vn.PostgrestTransformBuilder=i.default;const o=e(y2());vn.PostgrestBuilder=o.default;const s=e(v2());return vn.PostgrestError=s.default,vn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:s.default},vn}var yq=vq();const Eq=Aa(yq),{PostgrestClient:wq,PostgrestQueryBuilder:nee,PostgrestFilterBuilder:ree,PostgrestTransformBuilder:iee,PostgrestBuilder:oee,PostgrestError:see}=Eq,Tq="2.11.2",_q={"X-Client-Info":`realtime-js/${Tq}`},Nq="1.0.0",T2=1e4,bq=1e3;var Wu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wu||(Wu={}));var vr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(vr||(vr={}));var ti;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ti||(ti={}));var cE;(function(e){e.websocket="websocket"})(cE||(cE={}));var ia;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ia||(ia={}));class xq{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let s=this.HEADER_LENGTH+2;const c=r.decode(t.slice(s,s+i));s=s+i;const l=r.decode(t.slice(s,s+o));s=s+o;const u=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:c,event:l,payload:u}}}let _2=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Ct;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ct||(Ct={}));const yR=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,s)=>(o[s]=Rq(s,e,t,i),o),{})},Rq=(e,t,n,r)=>{const i=t.find(c=>c.name===e),o=i==null?void 0:i.type,s=n[e];return o&&!r.includes(o)?N2(o,s):fE(s)},N2=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Iq(t,n)}switch(e){case Ct.bool:return Sq(t);case Ct.float4:case Ct.float8:case Ct.int2:case Ct.int4:case Ct.int8:case Ct.numeric:case Ct.oid:return Aq(t);case Ct.json:case Ct.jsonb:return Oq(t);case Ct.timestamp:return Cq(t);case Ct.abstime:case Ct.date:case Ct.daterange:case Ct.int4range:case Ct.int8range:case Ct.money:case Ct.reltime:case Ct.text:case Ct.time:case Ct.timestamptz:case Ct.timetz:case Ct.tsrange:case Ct.tstzrange:return fE(t);default:return fE(t)}},fE=e=>e,Sq=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Aq=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Oq=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Iq=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const s=e.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(c=>N2(t,c))}return e},Cq=e=>typeof e=="string"?e.replace(" ","T"):e,b2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class L0{constructor(t,n,r={},i=T2){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ER;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ER||(ER={}));class $c{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$c.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=$c.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=$c.syncDiff(this.state,i,o,s),c())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),s=this.transformState(n),c={},l={};return this.map(o,(u,a)=>{s[u]||(l[u]=a)}),this.map(s,(u,a)=>{const d=o[u];if(d){const h=a.map(v=>v.presence_ref),m=d.map(v=>v.presence_ref),y=a.filter(v=>m.indexOf(v.presence_ref)<0),g=d.filter(v=>h.indexOf(v.presence_ref)<0);y.length>0&&(c[u]=y),g.length>0&&(l[u]=g)}else c[u]=a}),this.syncDiff(o,{joins:c,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(c,l)=>{var u;const a=(u=t[c])!==null&&u!==void 0?u:[];if(t[c]=this.cloneDeep(l),a.length>0){const d=t[c].map(m=>m.presence_ref),h=a.filter(m=>d.indexOf(m.presence_ref)<0);t[c].unshift(...h)}r(c,a,l)}),this.map(s,(c,l)=>{let u=t[c];if(!u)return;const a=l.map(d=>d.presence_ref);u=u.filter(d=>a.indexOf(d.presence_ref)<0),t[c]=u,i(c,u,l),u.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wR;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(wR||(wR={}));var TR;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(TR||(TR={}));var io;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(io||(io={}));class f1{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=vr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new L0(this,ti.join,this.params,this.timeout),this.rejoinTimer=new _2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=vr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ti.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new $c(this),this.broadcastEndpointURL=b2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:s,private:c}}=this.params;this._onError(a=>t==null?void 0:t(io.CHANNEL_ERROR,a)),this._onClose(()=>t==null?void 0:t(io.CLOSED));const l={},u={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(a=>a.filter))!==null&&i!==void 0?i:[],private:c};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:a})=>{var d;if(this.socket.setAuth(),a===void 0){t==null||t(io.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,y=[];for(let g=0;g<m;g++){const v=h[g],{filter:{event:w,schema:T,table:N,filter:b}}=v,S=a&&a[g];if(S&&S.event===w&&S.schema===T&&S.table===N&&S.filter===b)y.push(Object.assign(Object.assign({},v),{id:S.id}));else{this.unsubscribe(),t==null||t(io.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(io.SUBSCRIBED);return}}).receive("error",a=>{t==null||t(io.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(a).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(io.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,c,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=vr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ti.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new L0(this,ti.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new L0(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const s=t.toLocaleLowerCase(),{close:c,error:l,leave:u,join:a}=ti;if(r&&[c,l,u,a].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var y,g,v;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(g=m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(m=>m.callback(h,r)):(o=this.bindings[s])===null||o===void 0||o.filter(m=>{var y,g,v,w,T,N;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in m){const b=m.id,S=(y=m.filter)===null||y===void 0?void 0:y.event;return b&&((g=n.ids)===null||g===void 0?void 0:g.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const b=(T=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return b==="*"||b===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===s}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:g,table:v,commit_timestamp:w,type:T,errors:N}=y;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:w,eventType:T,new:{},old:{},errors:N}),this._getPayloadRecords(y))}m.callback(h,r)})}_isClosed(){return this.state===vr.closed}_isJoined(){return this.state===vr.joined}_isJoining(){return this.state===vr.joining}_isLeaving(){return this.state===vr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&f1.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ti.close,{},t)}_onError(t){this._on(ti.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=yR(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=yR(t.columns,t.old_record)),n}}const kq=()=>{},Mq=typeof WebSocket<"u",Pq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Lq{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=_q,this.params={},this.timeout=T2,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=kq,this.conn=null,this.sendBuffer=[],this.serializer=new xq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...c)=>il(async()=>{const{default:l}=await Promise.resolve().then(()=>wl);return{default:l}},void 0).then(({default:l})=>l(...c)):s=fetch,(...c)=>s(...c)},this.endPoint=`${t}/${cE.websocket}`,this.httpEndpoint=b2(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,s)=>s(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new _2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Mq){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Dq(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),il(async()=>{const{default:t}=await import("./browser-DlsCihaZ.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Nq}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Wu.connecting:return ia.Connecting;case Wu.open:return ia.Open;case Wu.closing:return ia.Closing;default:return ia.Closed}}isConnected(){return this.connectionState()===ia.Open}channel(t,n={config:{}}){const r=new f1(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(ti.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(bq,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:o,ref:s}=n;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(c=>c(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ti.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Pq],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Dq{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Wu.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class d1 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function En(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Fq extends d1{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class dE extends d1{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Uq=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(a){try{u(r.next(a))}catch(d){s(d)}}function l(a){try{u(r.throw(a))}catch(d){s(d)}}function u(a){a.done?o(a.value):i(a.value).then(c,l)}u((r=r.apply(e,t||[])).next())})};const x2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>il(async()=>{const{default:r}=await Promise.resolve().then(()=>wl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Bq=()=>Uq(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield il(()=>Promise.resolve().then(()=>wl),void 0)).Response:Response}),hE=e=>{if(Array.isArray(e))return e.map(n=>hE(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=hE(r)}),t};var Da=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(a){try{u(r.next(a))}catch(d){s(d)}}function l(a){try{u(r.throw(a))}catch(d){s(d)}}function u(a){a.done?o(a.value):i(a.value).then(c,l)}u((r=r.apply(e,t||[])).next())})};const D0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$q=(e,t,n)=>Da(void 0,void 0,void 0,function*(){const r=yield Bq();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new Fq(D0(i),e.status||500))}).catch(i=>{t(new dE(D0(i),i))}):t(new dE(D0(e),e))}),Vq=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Cf(e,t,n,r,i,o){return Da(this,void 0,void 0,function*(){return new Promise((s,c)=>{e(n,Vq(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>$q(l,c,r))})})}function Cp(e,t,n,r){return Da(this,void 0,void 0,function*(){return Cf(e,"GET",t,n,r)})}function is(e,t,n,r,i){return Da(this,void 0,void 0,function*(){return Cf(e,"POST",t,r,i,n)})}function jq(e,t,n,r,i){return Da(this,void 0,void 0,function*(){return Cf(e,"PUT",t,r,i,n)})}function zq(e,t,n,r){return Da(this,void 0,void 0,function*(){return Cf(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function R2(e,t,n,r,i){return Da(this,void 0,void 0,function*(){return Cf(e,"DELETE",t,r,i,n)})}var or=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(a){try{u(r.next(a))}catch(d){s(d)}}function l(a){try{u(r.throw(a))}catch(d){s(d)}}function u(a){a.done?o(a.value):i(a.value).then(c,l)}u((r=r.apply(e,t||[])).next())})};const qq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_R={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Wq{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=x2(i)}uploadOrUpdate(t,n,r,i){return or(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},_R),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,c["cache-control"]=`max-age=${s.cacheControl}`,c["content-type"]=s.contentType,l&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const u=this._removeEmptyFolders(n),a=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${a}`,Object.assign({method:t,body:o,headers:c},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(En(o))return{data:null,error:o};throw o}})}upload(t,n,r){return or(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return or(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),s=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${s}`);c.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:_R.upsert},i),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,a["cache-control"]=`max-age=${u.cacheControl}`,a["content-type"]=u.contentType);const d=yield this.fetch(c.toString(),{method:"PUT",body:l,headers:a}),h=yield d.json();return d.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(En(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return or(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield is(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),c=s.searchParams.get("token");if(!c)throw new d1("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:c},error:null}}catch(r){if(En(r))return{data:null,error:r};throw r}})}update(t,n,r){return or(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return or(this,void 0,void 0,function*(){try{return{data:yield is(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(En(i))return{data:null,error:i};throw i}})}copy(t,n,r){return or(this,void 0,void 0,function*(){try{return{data:{path:(yield is(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(En(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return or(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield is(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(En(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return or(this,void 0,void 0,function*(){try{const i=yield is(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(En(i))return{data:null,error:i};throw i}})}download(t,n){return or(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=o?`?${o}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield Cp(this.fetch,`${this.url}/${i}/${c}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(En(c))return{data:null,error:c};throw c}})}info(t){return or(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Cp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:hE(r),error:null}}catch(r){if(En(r))return{data:null,error:r};throw r}})}exists(t){return or(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield zq(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(En(r)&&r instanceof dE){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${u}`)}}}remove(t){return or(this,void 0,void 0,function*(){try{return{data:yield R2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(En(n))return{data:null,error:n};throw n}})}list(t,n,r){return or(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},qq),n),{prefix:t||""});return{data:yield is(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(En(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Hq="2.7.1",Gq={"X-Client-Info":`storage-js/${Hq}`};var wu=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(a){try{u(r.next(a))}catch(d){s(d)}}function l(a){try{u(r.throw(a))}catch(d){s(d)}}function u(a){a.done?o(a.value):i(a.value).then(c,l)}u((r=r.apply(e,t||[])).next())})};class Yq{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Gq),n),this.fetch=x2(r)}listBuckets(){return wu(this,void 0,void 0,function*(){try{return{data:yield Cp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(En(t))return{data:null,error:t};throw t}})}getBucket(t){return wu(this,void 0,void 0,function*(){try{return{data:yield Cp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(En(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return wu(this,void 0,void 0,function*(){try{return{data:yield is(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(En(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return wu(this,void 0,void 0,function*(){try{return{data:yield jq(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(En(r))return{data:null,error:r};throw r}})}emptyBucket(t){return wu(this,void 0,void 0,function*(){try{return{data:yield is(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(En(n))return{data:null,error:n};throw n}})}deleteBucket(t){return wu(this,void 0,void 0,function*(){try{return{data:yield R2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(En(n))return{data:null,error:n};throw n}})}}class Qq extends Yq{constructor(t,n={},r){super(t,n,r)}from(t){return new Wq(this.url,this.headers,t,this.fetch)}}const Kq="2.48.1";let Oc="";typeof Deno<"u"?Oc="deno":typeof document<"u"?Oc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oc="react-native":Oc="node";const Xq={"X-Client-Info":`supabase-js-${Oc}/${Kq}`},Jq={headers:Xq},Zq={schema:"public"},eW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tW={};var nW=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(a){try{u(r.next(a))}catch(d){s(d)}}function l(a){try{u(r.throw(a))}catch(d){s(d)}}function u(a){a.done?o(a.value):i(a.value).then(c,l)}u((r=r.apply(e,t||[])).next())})};const rW=e=>{let t;return e?t=e:typeof fetch>"u"?t=m2:t=fetch,(...n)=>t(...n)},iW=()=>typeof Headers>"u"?g2:Headers,oW=(e,t,n)=>{const r=rW(n),i=iW();return(o,s)=>nW(void 0,void 0,void 0,function*(){var c;const l=(c=yield t())!==null&&c!==void 0?c:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:u}))})};var sW=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(a){try{u(r.next(a))}catch(d){s(d)}}function l(a){try{u(r.throw(a))}catch(d){s(d)}}function u(a){a.done?o(a.value):i(a.value).then(c,l)}u((r=r.apply(e,t||[])).next())})};function aW(e){return e.replace(/\/$/,"")}function uW(e,t){const{db:n,auth:r,realtime:i,global:o}=e,{db:s,auth:c,realtime:l,global:u}=t,a={db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),o),accessToken:()=>sW(this,void 0,void 0,function*(){return""})};return e.accessToken?a.accessToken=e.accessToken:delete a.accessToken,a}const S2="2.67.3",lW="http://localhost:9999",cW="supabase.auth.token",fW={"X-Client-Info":`gotrue-js/${S2}`},NR=10,pE="X-Supabase-Api-Version",A2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function dW(e){return Math.round(Date.now()/1e3)+e}function hW(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ai=()=>typeof window<"u"&&typeof document<"u",Js={tested:!1,writable:!1},Vc=()=>{if(!Ai())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Js.tested)return Js.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Js.tested=!0,Js.writable=!0}catch{Js.tested=!0,Js.writable=!1}return Js.writable};function pW(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const O2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>il(async()=>{const{default:r}=await Promise.resolve().then(()=>wl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},mW=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",I2=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},vh=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},yh=async(e,t)=>{await e.removeItem(t)};function gW(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,o,s,c,l,u,a=0;for(e=e.replace("-","+").replace("_","/");a<e.length;)s=t.indexOf(e.charAt(a++)),c=t.indexOf(e.charAt(a++)),l=t.indexOf(e.charAt(a++)),u=t.indexOf(e.charAt(a++)),r=s<<2|c>>4,i=(c&15)<<4|l>>2,o=(l&3)<<6|u,n=n+String.fromCharCode(r),l!=64&&i!=0&&(n=n+String.fromCharCode(i)),u!=64&&o!=0&&(n=n+String.fromCharCode(o));return n}class bm{constructor(){this.promise=new bm.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}bm.promiseConstructor=Promise;function bR(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(gW(r))}async function vW(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function yW(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const s=await e(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})()})}function EW(e){return("0"+e.toString(16)).substr(-2)}function wW(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,EW).join("")}async function TW(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}function _W(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function NW(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await TW(e);return _W(n)}async function Tu(e,t,n=!1){const r=wW();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await I2(e,`${t}-code-verifier`,i);const o=await NW(r);return[o,r===o?"plain":"s256"]}const bW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xW(e){const t=e.headers.get(pE);if(!t||!t.match(bW))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class h1 extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ot(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class RW extends h1{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function SW(e){return ot(e)&&e.name==="AuthApiError"}class C2 extends h1{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Fa extends h1{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Zo extends Fa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function AW(e){return ot(e)&&e.name==="AuthSessionMissingError"}class F0 extends Fa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Eh extends Fa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wh extends Fa{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function OW(e){return ot(e)&&e.name==="AuthImplicitGrantRedirectError"}class xR extends Fa{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mE extends Fa{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function U0(e){return ot(e)&&e.name==="AuthRetryableFetchError"}class RR extends Fa{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var IW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ea=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CW=[502,503,504];async function SR(e){var t;if(!mW(e))throw new mE(ea(e),0);if(CW.includes(e.status))throw new mE(ea(e),e.status);let n;try{n=await e.json()}catch(o){throw new C2(ea(o),o)}let r;const i=xW(e);if(i&&i.getTime()>=A2["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new RR(ea(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Zo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new RR(ea(n),e.status,n.weak_password.reasons);throw new RW(ea(n),e.status||500,r)}const kW=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function dt(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[pE]||(o[pE]=A2["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const c=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await MW(e,t,n+c,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function MW(e,t,n,r,i,o){const s=kW(t,r,i,o);let c;try{c=await e(n,Object.assign({},s))}catch(l){throw console.error(l),new mE(ea(l),0)}if(c.ok||await SR(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(l){await SR(l)}}function es(e){var t;let n=null;FW(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=dW(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function AR(e){const t=es(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function us(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function PW(e){return{data:e,error:null}}function LW(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,s=IW(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:c,user:l},error:null}}function DW(e){return e}function FW(e){return e.access_token&&e.refresh_token&&e.expires_in}var UW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class BW{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=O2(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await dt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ot(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await dt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:us})}catch(r){if(ot(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=UW(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await dt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:LW,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ot(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await dt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:us})}catch(n){if(ot(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,s,c,l;try{const u={nextPage:null,lastPage:0,total:0},a=await dt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:DW});if(a.error)throw a.error;const d=await a.json(),h=(s=a.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(l=(c=a.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ot(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await dt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:us})}catch(n){if(ot(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await dt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:us})}catch(r){if(ot(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await dt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:us})}catch(r){if(ot(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await dt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await dt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ot(n))return{data:null,error:n};throw n}}}const $W={getItem:e=>Vc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Vc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Vc()&&globalThis.localStorage.removeItem(e)}};function OR(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function VW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const _u={debug:!!(globalThis&&Vc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class k2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jW extends k2{}async function zW(e,t,n){_u.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),_u.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){_u.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{_u.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw _u.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jW(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(_u.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}VW();const qW={url:lW,storageKey:cW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},mc=30*1e3,IR=3;async function CR(e,t,n){return await n()}class af{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=af.nextInstanceID,af.nextInstanceID+=1,this.instanceID>0&&Ai()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},qW),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new BW({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=O2(i.fetch),this.lock=i.lock||CR,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ai()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=zW:this.lock=CR,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Vc()?this.storage=$W:(this.memoryStorage={},this.storage=OR(this.memoryStorage)):(this.memoryStorage={},this.storage=OR(this.memoryStorage)),Ai()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${S2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=pW(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ai()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),OW(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:s,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),await this._saveSession(s),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ot(n)?{error:n}:{error:new C2("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:es}),{data:s,error:c}=o;if(c||!s)return{data:{user:null,session:null},error:c};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(ot(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:a,password:d,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Tu(this.storage,this.storageKey)),o=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:a,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:es})}else if("phone"in t){const{phone:a,password:d,options:h}=t;o=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:a,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:es})}else throw new Eh("You must provide either an email or phone number and a password");const{data:s,error:c}=o;if(c||!s)return{data:{user:null,session:null},error:c};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(ot(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:s,options:c}=t;n=await dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:AR})}else if("phone"in t){const{phone:o,password:s,options:c}=t;n=await dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:AR})}else throw new Eh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new F0}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ot(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await vh(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:s}=await dt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:es});if(await yh(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new F0}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:s})}catch(o){if(ot(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:s}=t,c=await dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:es}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new F0}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(ot(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,s;try{if("email"in t){const{email:c,options:l}=t;let u=null,a=null;this.flowType==="pkce"&&([u,a]=await Tu(this.storage,this.storageKey));const{error:d}=await dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:a},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:c,options:l}=t,{data:u,error:a}=await dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:a}}throw new Eh("You must provide either an email or phone number.")}catch(c){if(ot(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:c}=await dt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:es});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ot(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,s=null;return this.flowType==="pkce"&&([o,s]=await Tu(this.storage,this.storageKey)),await dt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:s}),headers:this.headers,xform:PW})}catch(o){if(ot(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Zo;const{error:i}=await dt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ot(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:s}=await dt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:s,error:c}=await dt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:c}}throw new Eh("You must provide either an email or phone number and a type")}catch(n){if(ot(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await vh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,a)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,a))})}return{data:{session:t},error:null}}const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:us}):await this._useSession(async n=>{var r,i,o;const{data:s,error:c}=n;if(c)throw c;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zo}:await dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:us})})}catch(n){if(ot(n))return AW(n)&&(await this._removeSession(),await yh(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Zo;const s=i.session;let c=null,l=null;this.flowType==="pkce"&&t.email!=null&&([c,l]=await Tu(this.storage,this.storageKey));const{data:u,error:a}=await dt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:l}),jwt:s.access_token,xform:us});if(a)throw a;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(ot(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return bR(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zo;const n=Date.now()/1e3;let r=n,i=!0,o=null;const s=bR(t.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{session:c,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ot(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:s,error:c}=n;if(c)throw c;t=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Zo;const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ot(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ai())throw new wh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xR("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xR("No code detected.");const{data:T,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:s,expires_in:c,expires_at:l,token_type:u}=t;if(!o||!c||!s||!u)throw new wh("No session defined in URL");const a=Math.round(Date.now()/1e3),d=parseInt(c);let h=a+d;l&&(h=parseInt(l));const m=h-a;m*1e3<=mc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const y=h-d;a-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,a):a-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,a);const{data:g,error:v}=await this._getUser(o);if(v)throw v;const w={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(r){if(ot(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await vh(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:c}=await this.admin.signOut(s,t);if(c&&!(SW(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await yh(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=hW(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Tu(this.storage,this.storageKey,!0));try{return await dt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ot(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ot(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var s,c,l,u,a;const{data:d,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await dt(this.fetch,"GET",m,{headers:this.headers,jwt:(a=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&a!==void 0?a:void 0})});if(i)throw i;return Ai()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ot(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)throw s;return await dt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await yW(async i=>(i>0&&await vW(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await dt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:es})),(i,o)=>{const s=200*Math.pow(2,i);return o&&U0(o)&&Date.now()+s-r<mc})}catch(r){if(this._debug(n,"error",r),ot(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ai()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await vh(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<i+NR;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${NR}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),U0(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Zo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new bm;const{data:o,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!o.session)throw new Zo;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={session:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(i,"error",o),ot(o)){const s={session:null,error:o};return U0(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(s),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await I2(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await yh(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ai()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),mc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/mc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${mc}ms, refresh threshold is ${IR} ticks`),i<=IR&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof k2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ai()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,s]=await Tu(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(c.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await dt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)return{data:null,error:s};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await dt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:s,error:c}=await dt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:c})})}catch(n){if(ot(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await dt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ot(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),o=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(i.access_token);let c=null;s.aal&&(c=s.aal);let l=c;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const a=s.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:a},error:null}}))}}af.nextInstanceID=0;const WW=af;class HW extends WW{constructor(t){super(t)}}var GW=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(a){try{u(r.next(a))}catch(d){s(d)}}function l(a){try{u(r.throw(a))}catch(d){s(d)}}function u(a){a.done?o(a.value):i(a.value).then(c,l)}u((r=r.apply(e,t||[])).next())})};class YW{constructor(t,n,r){var i,o,s;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const c=aW(t);this.realtimeUrl=`${c}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${c}/auth/v1`,this.storageUrl=`${c}/storage/v1`,this.functionsUrl=`${c}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Zq,realtime:tW,auth:Object.assign(Object.assign({},eW),{storageKey:l}),global:Jq},a=uW(r??{},u);this.storageKey=(i=a.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=a.global.headers)!==null&&o!==void 0?o:{},a.accessToken?(this.accessToken=a.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=a.auth)!==null&&s!==void 0?s:{},this.headers,a.global.fetch),this.fetch=oW(n,this._getAccessToken.bind(this),a.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},a.realtime)),this.rest=new wq(`${c}/rest/v1`,{headers:this.headers,schema:a.db.schema,fetch:this.fetch}),a.accessToken||this._listenForAuthEvents()}get functions(){return new uq(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Qq(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return GW(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:c,debug:l},u,a){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HW({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:s,lock:c,debug:l,fetch:a,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Lq(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const QW=(e,t,n)=>new YW(e,t,n),KW="https://ugqelrsbgvwjlnzrzqab.supabase.co",XW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVncWVscnNiZ3Z3amxuenJ6cWFiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk0Njk1MjIsImV4cCI6MjA1NTA0NTUyMn0.onkTRQl074KrSeQ8kmK3Kv3gUt-PAru-z1RrrK1tq5E",la=QW(KW,XW),M2=k.createContext(void 0);function JW({children:e}){const[t,n]=k.useState(null),[r,i]=k.useState(!1),[o,s]=k.useState(null);k.useEffect(()=>{la.auth.getSession().then(({data:{session:a}})=>{a&&(n(a),i(!0),s(a.user.id))});const{data:u}=la.auth.onAuthStateChange((a,d)=>{d&&(console.log(d.user),n(d),i(!0))});return()=>{u.subscription.unsubscribe()}},[]);const c=async()=>{var a;if(!t)return null;const u=Math.floor(Date.now()/1e3);if(t.expires_at&&t.expires_at<u){const{data:d}=await la.auth.refreshSession();return n(d.session),(a=d.session)==null?void 0:a.access_token}return t.access_token},l=async()=>{await la.auth.signOut(),i(!1),n(null),s(null)};return P.jsx(M2.Provider,{value:{getValidToken:c,isAuthenticated:r,signUp:ZW,signIn:eH,signOut:l,userId:o},children:e})}function kf(){const e=k.useContext(M2);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}async function ZW({email:e,password:t}){const{data:n,error:r}=await la.auth.signUp({email:e,password:t});if(r)throw r;return n}async function eH({email:e,password:t}){const{data:n,error:r}=await la.auth.signInWithPassword({email:e,password:t});if(r)throw r;return n}const tH=({onSelect:e})=>{const[t,n]=k.useState(!1),[r,i]=k.useState(!1),{getValidToken:o}=kf(),s=k.useCallback(async()=>{console.log("Checking authorization status...");const d=await o();try{const m=await(await fetch("http://localhost:4000/api/auth/google/status",{headers:{Authorization:`Bearer ${d}`}})).json();console.log("Authorization status response:",m),console.log("Setting isAuthorized from",r,"to",m.authorized),i(m.authorized)}catch(h){console.error("Failed to check authorization:",h)}},[o,r]);k.useEffect(()=>{(()=>{const h=document.createElement("script");h.src="https://apis.google.com/js/api.js",h.onload=()=>{window.gapi.load("picker",()=>{n(!0)})},document.body.appendChild(h)})(),s()},[s]),k.useEffect(()=>{localStorage.getItem("checkGoogleAuth")==="true"&&(localStorage.removeItem("checkGoogleAuth"),s())},[s]);const c=async()=>{if(!t){console.error("Google Picker API not loaded");return}const d=await o();try{const h=await fetch("http://localhost:4000/api/auth/google/picker-config",{headers:{Authorization:`Bearer ${d}`}});if(!h.ok)throw new Error("Failed to get picker configuration");const{developerKey:m,appId:y,oauthToken:g}=await h.json();console.log(m,y,g);const v=new window.google.picker.View(window.google.picker.ViewId.SPREADSHEETS);new window.google.picker.PickerBuilder().addView(v).enableFeature(window.google.picker.Feature.NAV_HIDDEN).setOAuthToken(g).setDeveloperKey(m).setCallback(l).setAppId(y).build().setVisible(!0)}catch(h){console.error("Error opening picker:",h)}},l=async d=>{if(d.action===window.google.picker.Action.PICKED&&d.docs){const h=d.docs[0],m=h.id,y=h.name,g=await o();try{if(!(await fetch("http://localhost:4000/api/auth/google/picker-selection",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({documentId:m,documentName:y})})).ok)throw new Error("Failed to save selection");e(m,y)}catch(v){console.error("Error saving selection:",v)}}},u=async()=>{const d=await o();try{const h=await fetch("http://localhost:4000/api/auth/google",{method:"GET",headers:{Authorization:`Bearer ${d}`}});if(console.log("Auth response status:",h.status),!h.ok){const y=await h.text();throw console.error(`HTTP error! status: ${h.status}, details:`,y),new Error(`HTTP error! status: ${h.status}`)}const m=await h.json();if(console.log("Auth response data:",m),m.url)localStorage.setItem("checkGoogleAuth","true"),window.location.href=m.url;else throw new Error("No redirect URL received")}catch(h){console.error("Error initiating Google auth:",h),alert("Failed to connect to Google. Please try again later.")}},a=async()=>{console.log("Starting test request...");const d=await o();try{const h=await fetch("http://localhost:4000/api/test",{method:"GET",headers:{Authorization:`Bearer ${d}`}});console.log("Response status:",h.status);const m=await h.json();console.log("Response data:",m)}catch(h){console.error("Error during test request:",h)}};return P.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 mb-4",children:[r?P.jsx(rp,{onClick:c,disabled:!t,className:"bg-blue-500 text-white px-4 py-2 rounded-md",children:"Select Spreadsheet"}):P.jsx(P.Fragment,{children:P.jsx(rp,{onClick:u,className:"bg-blue-500 text-white px-4 py-2 rounded-md",children:"Connect Google Sheets"})}),P.jsx("button",{type:"button",onClick:a,className:"bg-blue-500 text-white px-4 py-2 rounded-md mb-2",children:"Test API *"})]})},nH=()=>{const{signOut:e}=kf(),[t,n]=k.useState([{id:"notifications",name:"Email Notifications",description:"Receive email notifications about system updates",enabled:!0},{id:"darkMode",name:"Dark Mode",description:"Enable dark mode theme",enabled:!1},{id:"autoSave",name:"Auto Save",description:"Automatically save changes",enabled:!0},{id:"analytics",name:"Usage Analytics",description:"Share anonymous usage data to help improve the system",enabled:!0}]),r=o=>{n(t.map(s=>s.id===o?{...s,enabled:!s.enabled}:s))},i=async()=>{try{await e()}catch(o){console.error("Error signing out:",o)}};return P.jsx("div",{className:"max-w-2xl mx-auto p-4",children:P.jsx("div",{className:"bg-white shadow rounded-lg",children:P.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[P.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Settings"}),P.jsx("div",{className:"space-y-6",children:t.map(o=>P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{className:"flex-1",children:[P.jsx("h3",{className:"text-sm font-medium text-gray-900",children:o.name}),P.jsx("p",{className:"text-sm text-gray-500",children:o.description})]}),P.jsx("button",{type:"button",className:`${o.enabled?"bg-indigo-600":"bg-gray-200"} relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2`,role:"switch","aria-checked":o.enabled,onClick:()=>r(o.id),children:P.jsx("span",{"aria-hidden":"true",className:`${o.enabled?"translate-x-5":"translate-x-0"} pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out`})})]},o.id))}),P.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[P.jsx(tH,{onSelect:()=>{}}),P.jsx("button",{type:"button",onClick:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Sign Out"})]})]})})})};function Jn(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Jn(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var B0={exports:{}},$0={},V0={exports:{}},j0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kR;function rH(){if(kR)return j0;kR=1;var e=ll();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,s=e.useDebugValue;function c(d,h){var m=h(),y=r({inst:{value:m,getSnapshot:h}}),g=y[0].inst,v=y[1];return o(function(){g.value=m,g.getSnapshot=h,l(g)&&v({inst:g})},[d,m,h]),i(function(){return l(g)&&v({inst:g}),d(function(){l(g)&&v({inst:g})})},[d]),s(m),m}function l(d){var h=d.getSnapshot;d=d.value;try{var m=h();return!n(d,m)}catch{return!0}}function u(d,h){return h()}var a=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:c;return j0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:a,j0}var MR;function iH(){return MR||(MR=1,V0.exports=rH()),V0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PR;function oH(){if(PR)return $0;PR=1;var e=ll(),t=iH();function n(u,a){return u===a&&(u!==0||1/u===1/a)||u!==u&&a!==a}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,s=e.useEffect,c=e.useMemo,l=e.useDebugValue;return $0.useSyncExternalStoreWithSelector=function(u,a,d,h,m){var y=o(null);if(y.current===null){var g={hasValue:!1,value:null};y.current=g}else g=y.current;y=c(function(){function w(x){if(!T){if(T=!0,N=x,x=h(x),m!==void 0&&g.hasValue){var O=g.value;if(m(O,x))return b=O}return b=x}if(O=b,r(N,x))return O;var M=h(x);return m!==void 0&&m(O,M)?(N=x,O):(N=x,b=M)}var T=!1,N,b,S=d===void 0?null:d;return[function(){return w(a())},S===null?void 0:function(){return w(S())}]},[a,d,h,m]);var v=i(u,y[0],y[1]);return s(function(){g.hasValue=!0,g.value=v},[v]),l(v),v},$0}var LR;function sH(){return LR||(LR=1,B0.exports=oH()),B0.exports}var aH=sH();const uH=Aa(aH),lH={},DR=e=>{let t;const n=new Set,r=(a,d)=>{const h=typeof a=="function"?a(t):a;if(!Object.is(h,t)){const m=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,m))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:a=>(n.add(a),()=>n.delete(a)),destroy:()=>{(lH?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},cH=e=>e?DR(e):DR,{useDebugValue:fH}=fe,{useSyncExternalStoreWithSelector:dH}=uH,hH=e=>e;function P2(e,t=hH,n){const r=dH(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return fH(r),r}const FR=(e,t)=>{const n=cH(e),r=(i,o=t)=>P2(n,i,o);return Object.assign(r,n),r},pH=(e,t)=>e?FR(e,t):FR;function jn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var mH={value:()=>{}};function xm(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Jh(n)}function Jh(e){this._=e}function gH(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Jh.prototype=xm.prototype={constructor:Jh,on:function(e,t){var n=this._,r=gH(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=vH(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=UR(n[i],e.name,t);else if(t==null)for(i in n)n[i]=UR(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Jh(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function vH(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function UR(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=mH,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var gE="http://www.w3.org/1999/xhtml";const BR={svg:"http://www.w3.org/2000/svg",xhtml:gE,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rm(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),BR.hasOwnProperty(t)?{space:BR[t],local:e}:e}function yH(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===gE&&t.documentElement.namespaceURI===gE?t.createElement(e):t.createElementNS(n,e)}}function EH(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function L2(e){var t=Rm(e);return(t.local?EH:yH)(t)}function wH(){}function p1(e){return e==null?wH:function(){return this.querySelector(e)}}function TH(e){typeof e!="function"&&(e=p1(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,c=r[i]=new Array(s),l,u,a=0;a<s;++a)(l=o[a])&&(u=e.call(l,l.__data__,a,o))&&("__data__"in l&&(u.__data__=l.__data__),c[a]=u);return new Nr(r,this._parents)}function _H(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function NH(){return[]}function D2(e){return e==null?NH:function(){return this.querySelectorAll(e)}}function bH(e){return function(){return _H(e.apply(this,arguments))}}function xH(e){typeof e=="function"?e=bH(e):e=D2(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],c=s.length,l,u=0;u<c;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new Nr(r,i)}function F2(e){return function(){return this.matches(e)}}function U2(e){return function(t){return t.matches(e)}}var RH=Array.prototype.find;function SH(e){return function(){return RH.call(this.children,e)}}function AH(){return this.firstElementChild}function OH(e){return this.select(e==null?AH:SH(typeof e=="function"?e:U2(e)))}var IH=Array.prototype.filter;function CH(){return Array.from(this.children)}function kH(e){return function(){return IH.call(this.children,e)}}function MH(e){return this.selectAll(e==null?CH:kH(typeof e=="function"?e:U2(e)))}function PH(e){typeof e!="function"&&(e=F2(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,c=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&c.push(l);return new Nr(r,this._parents)}function B2(e){return new Array(e.length)}function LH(){return new Nr(this._enter||this._groups.map(B2),this._parents)}function kp(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}kp.prototype={constructor:kp,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function DH(e){return function(){return e}}function FH(e,t,n,r,i,o){for(var s=0,c,l=t.length,u=o.length;s<u;++s)(c=t[s])?(c.__data__=o[s],r[s]=c):n[s]=new kp(e,o[s]);for(;s<l;++s)(c=t[s])&&(i[s]=c)}function UH(e,t,n,r,i,o,s){var c,l,u=new Map,a=t.length,d=o.length,h=new Array(a),m;for(c=0;c<a;++c)(l=t[c])&&(h[c]=m=s.call(l,l.__data__,c,t)+"",u.has(m)?i[c]=l:u.set(m,l));for(c=0;c<d;++c)m=s.call(e,o[c],c,o)+"",(l=u.get(m))?(r[c]=l,l.__data__=o[c],u.delete(m)):n[c]=new kp(e,o[c]);for(c=0;c<a;++c)(l=t[c])&&u.get(h[c])===l&&(i[c]=l)}function BH(e){return e.__data__}function $H(e,t){if(!arguments.length)return Array.from(this,BH);var n=t?UH:FH,r=this._parents,i=this._groups;typeof e!="function"&&(e=DH(e));for(var o=i.length,s=new Array(o),c=new Array(o),l=new Array(o),u=0;u<o;++u){var a=r[u],d=i[u],h=d.length,m=VH(e.call(a,a&&a.__data__,u,r)),y=m.length,g=c[u]=new Array(y),v=s[u]=new Array(y),w=l[u]=new Array(h);n(a,d,g,v,w,m,t);for(var T=0,N=0,b,S;T<y;++T)if(b=g[T]){for(T>=N&&(N=T+1);!(S=v[N])&&++N<y;);b._next=S||null}}return s=new Nr(s,r),s._enter=c,s._exit=l,s}function VH(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jH(){return new Nr(this._exit||this._groups.map(B2),this._parents)}function zH(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function qH(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),c=new Array(i),l=0;l<s;++l)for(var u=n[l],a=r[l],d=u.length,h=c[l]=new Array(d),m,y=0;y<d;++y)(m=u[y]||a[y])&&(h[y]=m);for(;l<i;++l)c[l]=n[l];return new Nr(c,this._parents)}function WH(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function HH(e){e||(e=GH);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],c=s.length,l=i[o]=new Array(c),u,a=0;a<c;++a)(u=s[a])&&(l[a]=u);l.sort(t)}return new Nr(i,this._parents).order()}function GH(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function YH(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function QH(){return Array.from(this)}function KH(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function XH(){let e=0;for(const t of this)++e;return e}function JH(){return!this.node()}function ZH(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,c;o<s;++o)(c=i[o])&&e.call(c,c.__data__,o,i);return this}function eG(e){return function(){this.removeAttribute(e)}}function tG(e){return function(){this.removeAttributeNS(e.space,e.local)}}function nG(e,t){return function(){this.setAttribute(e,t)}}function rG(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function iG(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function oG(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function sG(e,t){var n=Rm(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?tG:eG:typeof t=="function"?n.local?oG:iG:n.local?rG:nG)(n,t))}function $2(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function aG(e){return function(){this.style.removeProperty(e)}}function uG(e,t,n){return function(){this.style.setProperty(e,t,n)}}function lG(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function cG(e,t,n){return arguments.length>1?this.each((t==null?aG:typeof t=="function"?lG:uG)(e,t,n??"")):sl(this.node(),e)}function sl(e,t){return e.style.getPropertyValue(t)||$2(e).getComputedStyle(e,null).getPropertyValue(t)}function fG(e){return function(){delete this[e]}}function dG(e,t){return function(){this[e]=t}}function hG(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function pG(e,t){return arguments.length>1?this.each((t==null?fG:typeof t=="function"?hG:dG)(e,t)):this.node()[e]}function V2(e){return e.trim().split(/^|\s+/)}function m1(e){return e.classList||new j2(e)}function j2(e){this._node=e,this._names=V2(e.getAttribute("class")||"")}j2.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function z2(e,t){for(var n=m1(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function q2(e,t){for(var n=m1(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function mG(e){return function(){z2(this,e)}}function gG(e){return function(){q2(this,e)}}function vG(e,t){return function(){(t.apply(this,arguments)?z2:q2)(this,e)}}function yG(e,t){var n=V2(e+"");if(arguments.length<2){for(var r=m1(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?vG:t?mG:gG)(n,t))}function EG(){this.textContent=""}function wG(e){return function(){this.textContent=e}}function TG(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function _G(e){return arguments.length?this.each(e==null?EG:(typeof e=="function"?TG:wG)(e)):this.node().textContent}function NG(){this.innerHTML=""}function bG(e){return function(){this.innerHTML=e}}function xG(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function RG(e){return arguments.length?this.each(e==null?NG:(typeof e=="function"?xG:bG)(e)):this.node().innerHTML}function SG(){this.nextSibling&&this.parentNode.appendChild(this)}function AG(){return this.each(SG)}function OG(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function IG(){return this.each(OG)}function CG(e){var t=typeof e=="function"?e:L2(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function kG(){return null}function MG(e,t){var n=typeof e=="function"?e:L2(e),r=t==null?kG:typeof t=="function"?t:p1(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function PG(){var e=this.parentNode;e&&e.removeChild(this)}function LG(){return this.each(PG)}function DG(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function FG(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function UG(e){return this.select(e?FG:DG)}function BG(e){return arguments.length?this.property("__data__",e):this.node().__data__}function $G(e){return function(t){e.call(this,t,this.__data__)}}function VG(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function jG(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function zG(e,t,n){return function(){var r=this.__on,i,o=$G(t);if(r){for(var s=0,c=r.length;s<c;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function qG(e,t,n){var r=VG(e+""),i,o=r.length,s;if(arguments.length<2){var c=this.node().__on;if(c){for(var l=0,u=c.length,a;l<u;++l)for(i=0,a=c[l];i<o;++i)if((s=r[i]).type===a.type&&s.name===a.name)return a.value}return}for(c=t?zG:jG,i=0;i<o;++i)this.each(c(r[i],t,n));return this}function W2(e,t,n){var r=$2(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function WG(e,t){return function(){return W2(this,e,t)}}function HG(e,t){return function(){return W2(this,e,t.apply(this,arguments))}}function GG(e,t){return this.each((typeof t=="function"?HG:WG)(e,t))}function*YG(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var H2=[null];function Nr(e,t){this._groups=e,this._parents=t}function Mf(){return new Nr([[document.documentElement]],H2)}function QG(){return this}Nr.prototype=Mf.prototype={constructor:Nr,select:TH,selectAll:xH,selectChild:OH,selectChildren:MH,filter:PH,data:$H,enter:LH,exit:jH,join:zH,merge:qH,selection:QG,order:WH,sort:HH,call:YH,nodes:QH,node:KH,size:XH,empty:JH,each:ZH,attr:sG,style:cG,property:pG,classed:yG,text:_G,html:RG,raise:AG,lower:IG,append:CG,insert:MG,remove:LG,clone:UG,datum:BG,on:qG,dispatch:GG,[Symbol.iterator]:YG};function ii(e){return typeof e=="string"?new Nr([[document.querySelector(e)]],[document.documentElement]):new Nr([[e]],H2)}function KG(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Oi(e,t){if(e=KG(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const XG={passive:!1},uf={capture:!0,passive:!1};function z0(e){e.stopImmediatePropagation()}function Hu(e){e.preventDefault(),e.stopImmediatePropagation()}function G2(e){var t=e.document.documentElement,n=ii(e).on("dragstart.drag",Hu,uf);"onselectstart"in t?n.on("selectstart.drag",Hu,uf):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Y2(e,t){var n=e.document.documentElement,r=ii(e).on("dragstart.drag",null);t&&(r.on("click.drag",Hu,uf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Th=e=>()=>e;function vE(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:c,dx:l,dy:u,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:a}})}vE.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function JG(e){return!e.ctrlKey&&!e.button}function ZG(){return this.parentNode}function eY(e,t){return t??{x:e.x,y:e.y}}function tY(){return navigator.maxTouchPoints||"ontouchstart"in this}function nY(){var e=JG,t=ZG,n=eY,r=tY,i={},o=xm("start","drag","end"),s=0,c,l,u,a,d=0;function h(b){b.on("mousedown.drag",m).filter(r).on("touchstart.drag",v).on("touchmove.drag",w,XG).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(b,S){if(!(a||!e.call(this,b,S))){var x=N(this,t.call(this,b,S),b,S,"mouse");x&&(ii(b.view).on("mousemove.drag",y,uf).on("mouseup.drag",g,uf),G2(b.view),z0(b),u=!1,c=b.clientX,l=b.clientY,x("start",b))}}function y(b){if(Hu(b),!u){var S=b.clientX-c,x=b.clientY-l;u=S*S+x*x>d}i.mouse("drag",b)}function g(b){ii(b.view).on("mousemove.drag mouseup.drag",null),Y2(b.view,u),Hu(b),i.mouse("end",b)}function v(b,S){if(e.call(this,b,S)){var x=b.changedTouches,O=t.call(this,b,S),M=x.length,U,z;for(U=0;U<M;++U)(z=N(this,O,b,S,x[U].identifier,x[U]))&&(z0(b),z("start",b,x[U]))}}function w(b){var S=b.changedTouches,x=S.length,O,M;for(O=0;O<x;++O)(M=i[S[O].identifier])&&(Hu(b),M("drag",b,S[O]))}function T(b){var S=b.changedTouches,x=S.length,O,M;for(a&&clearTimeout(a),a=setTimeout(function(){a=null},500),O=0;O<x;++O)(M=i[S[O].identifier])&&(z0(b),M("end",b,S[O]))}function N(b,S,x,O,M,U){var z=o.copy(),Q=Oi(U||x,S),ee,X,F;if((F=n.call(b,new vE("beforestart",{sourceEvent:x,target:h,identifier:M,active:s,x:Q[0],y:Q[1],dx:0,dy:0,dispatch:z}),O))!=null)return ee=F.x-Q[0]||0,X=F.y-Q[1]||0,function J(K,te,G){var H=Q,W;switch(K){case"start":i[M]=J,W=s++;break;case"end":delete i[M],--s;case"drag":Q=Oi(G||te,S),W=s;break}z.call(K,b,new vE(K,{sourceEvent:te,subject:F,target:h,identifier:M,active:W,x:Q[0]+ee,y:Q[1]+X,dx:Q[0]-H[0],dy:Q[1]-H[1],dispatch:z}),O)}}return h.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Th(!!b),h):e},h.container=function(b){return arguments.length?(t=typeof b=="function"?b:Th(b),h):t},h.subject=function(b){return arguments.length?(n=typeof b=="function"?b:Th(b),h):n},h.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Th(!!b),h):r},h.on=function(){var b=o.on.apply(o,arguments);return b===o?h:b},h.clickDistance=function(b){return arguments.length?(d=(b=+b)*b,h):Math.sqrt(d)},h}function g1(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Q2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Pf(){}var lf=.7,Mp=1/lf,Gu="\\s*([+-]?\\d+)\\s*",cf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rY=/^#([0-9a-f]{3,8})$/,iY=new RegExp(`^rgb\\(${Gu},${Gu},${Gu}\\)$`),oY=new RegExp(`^rgb\\(${Pi},${Pi},${Pi}\\)$`),sY=new RegExp(`^rgba\\(${Gu},${Gu},${Gu},${cf}\\)$`),aY=new RegExp(`^rgba\\(${Pi},${Pi},${Pi},${cf}\\)$`),uY=new RegExp(`^hsl\\(${cf},${Pi},${Pi}\\)$`),lY=new RegExp(`^hsla\\(${cf},${Pi},${Pi},${cf}\\)$`),$R={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g1(Pf,ff,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:VR,formatHex:VR,formatHex8:cY,formatHsl:fY,formatRgb:jR,toString:jR});function VR(){return this.rgb().formatHex()}function cY(){return this.rgb().formatHex8()}function fY(){return K2(this).formatHsl()}function jR(){return this.rgb().formatRgb()}function ff(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=rY.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?zR(t):n===3?new ur(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_h(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_h(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=iY.exec(e))?new ur(t[1],t[2],t[3],1):(t=oY.exec(e))?new ur(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=sY.exec(e))?_h(t[1],t[2],t[3],t[4]):(t=aY.exec(e))?_h(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uY.exec(e))?HR(t[1],t[2]/100,t[3]/100,1):(t=lY.exec(e))?HR(t[1],t[2]/100,t[3]/100,t[4]):$R.hasOwnProperty(e)?zR($R[e]):e==="transparent"?new ur(NaN,NaN,NaN,0):null}function zR(e){return new ur(e>>16&255,e>>8&255,e&255,1)}function _h(e,t,n,r){return r<=0&&(e=t=n=NaN),new ur(e,t,n,r)}function dY(e){return e instanceof Pf||(e=ff(e)),e?(e=e.rgb(),new ur(e.r,e.g,e.b,e.opacity)):new ur}function yE(e,t,n,r){return arguments.length===1?dY(e):new ur(e,t,n,r??1)}function ur(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}g1(ur,yE,Q2(Pf,{brighter(e){return e=e==null?Mp:Math.pow(Mp,e),new ur(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?lf:Math.pow(lf,e),new ur(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ur(ga(this.r),ga(this.g),ga(this.b),Pp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qR,formatHex:qR,formatHex8:hY,formatRgb:WR,toString:WR}));function qR(){return`#${ca(this.r)}${ca(this.g)}${ca(this.b)}`}function hY(){return`#${ca(this.r)}${ca(this.g)}${ca(this.b)}${ca((isNaN(this.opacity)?1:this.opacity)*255)}`}function WR(){const e=Pp(this.opacity);return`${e===1?"rgb(":"rgba("}${ga(this.r)}, ${ga(this.g)}, ${ga(this.b)}${e===1?")":`, ${e})`}`}function Pp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ga(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ca(e){return e=ga(e),(e<16?"0":"")+e.toString(16)}function HR(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new oi(e,t,n,r)}function K2(e){if(e instanceof oi)return new oi(e.h,e.s,e.l,e.opacity);if(e instanceof Pf||(e=ff(e)),!e)return new oi;if(e instanceof oi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,c=o-i,l=(o+i)/2;return c?(t===o?s=(n-r)/c+(n<r)*6:n===o?s=(r-t)/c+2:s=(t-n)/c+4,c/=l<.5?o+i:2-o-i,s*=60):c=l>0&&l<1?0:s,new oi(s,c,l,e.opacity)}function pY(e,t,n,r){return arguments.length===1?K2(e):new oi(e,t,n,r??1)}function oi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}g1(oi,pY,Q2(Pf,{brighter(e){return e=e==null?Mp:Math.pow(Mp,e),new oi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?lf:Math.pow(lf,e),new oi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ur(q0(e>=240?e-240:e+120,i,r),q0(e,i,r),q0(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new oi(GR(this.h),Nh(this.s),Nh(this.l),Pp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pp(this.opacity);return`${e===1?"hsl(":"hsla("}${GR(this.h)}, ${Nh(this.s)*100}%, ${Nh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GR(e){return e=(e||0)%360,e<0?e+360:e}function Nh(e){return Math.max(0,Math.min(1,e||0))}function q0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const X2=e=>()=>e;function mY(e,t){return function(n){return e+n*t}}function gY(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function vY(e){return(e=+e)==1?J2:function(t,n){return n-t?gY(t,n,e):X2(isNaN(t)?n:t)}}function J2(e,t){var n=t-e;return n?mY(e,n):X2(isNaN(e)?t:e)}const YR=function e(t){var n=vY(t);function r(i,o){var s=n((i=yE(i)).r,(o=yE(o)).r),c=n(i.g,o.g),l=n(i.b,o.b),u=J2(i.opacity,o.opacity);return function(a){return i.r=s(a),i.g=c(a),i.b=l(a),i.opacity=u(a),i+""}}return r.gamma=e,r}(1);function os(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var EE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,W0=new RegExp(EE.source,"g");function yY(e){return function(){return e}}function EY(e){return function(t){return e(t)+""}}function wY(e,t){var n=EE.lastIndex=W0.lastIndex=0,r,i,o,s=-1,c=[],l=[];for(e=e+"",t=t+"";(r=EE.exec(e))&&(i=W0.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),c[s]?c[s]+=o:c[++s]=o),(r=r[0])===(i=i[0])?c[s]?c[s]+=i:c[++s]=i:(c[++s]=null,l.push({i:s,x:os(r,i)})),n=W0.lastIndex;return n<t.length&&(o=t.slice(n),c[s]?c[s]+=o:c[++s]=o),c.length<2?l[0]?EY(l[0].x):yY(t):(t=l.length,function(u){for(var a=0,d;a<t;++a)c[(d=l[a]).i]=d.x(u);return c.join("")})}var QR=180/Math.PI,wE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Z2(e,t,n,r,i,o){var s,c,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,l/=c),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*QR,skewX:Math.atan(l)*QR,scaleX:s,scaleY:c}}var bh;function TY(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?wE:Z2(t.a,t.b,t.c,t.d,t.e,t.f)}function _Y(e){return e==null||(bh||(bh=document.createElementNS("http://www.w3.org/2000/svg","g")),bh.setAttribute("transform",e),!(e=bh.transform.baseVal.consolidate()))?wE:(e=e.matrix,Z2(e.a,e.b,e.c,e.d,e.e,e.f))}function eM(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,a,d,h,m,y){if(u!==d||a!==h){var g=m.push("translate(",null,t,null,n);y.push({i:g-4,x:os(u,d)},{i:g-2,x:os(a,h)})}else(d||h)&&m.push("translate("+d+t+h+n)}function s(u,a,d,h){u!==a?(u-a>180?a+=360:a-u>180&&(u+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:os(u,a)})):a&&d.push(i(d)+"rotate("+a+r)}function c(u,a,d,h){u!==a?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:os(u,a)}):a&&d.push(i(d)+"skewX("+a+r)}function l(u,a,d,h,m,y){if(u!==d||a!==h){var g=m.push(i(m)+"scale(",null,",",null,")");y.push({i:g-4,x:os(u,d)},{i:g-2,x:os(a,h)})}else(d!==1||h!==1)&&m.push(i(m)+"scale("+d+","+h+")")}return function(u,a){var d=[],h=[];return u=e(u),a=e(a),o(u.translateX,u.translateY,a.translateX,a.translateY,d,h),s(u.rotate,a.rotate,d,h),c(u.skewX,a.skewX,d,h),l(u.scaleX,u.scaleY,a.scaleX,a.scaleY,d,h),u=a=null,function(m){for(var y=-1,g=h.length,v;++y<g;)d[(v=h[y]).i]=v.x(m);return d.join("")}}}var NY=eM(TY,"px, ","px)","deg)"),bY=eM(_Y,", ",")",")"),xY=1e-12;function KR(e){return((e=Math.exp(e))+1/e)/2}function RY(e){return((e=Math.exp(e))-1/e)/2}function SY(e){return((e=Math.exp(2*e))-1)/(e+1)}const AY=function e(t,n,r){function i(o,s){var c=o[0],l=o[1],u=o[2],a=s[0],d=s[1],h=s[2],m=a-c,y=d-l,g=m*m+y*y,v,w;if(g<xY)w=Math.log(h/u)/t,v=function(O){return[c+O*m,l+O*y,u*Math.exp(t*O*w)]};else{var T=Math.sqrt(g),N=(h*h-u*u+r*g)/(2*u*n*T),b=(h*h-u*u-r*g)/(2*h*n*T),S=Math.log(Math.sqrt(N*N+1)-N),x=Math.log(Math.sqrt(b*b+1)-b);w=(x-S)/t,v=function(O){var M=O*w,U=KR(S),z=u/(n*T)*(U*SY(t*M+S)-RY(S));return[c+z*m,l+z*y,u*U/KR(t*M+S)]}}return v.duration=w*1e3*t/Math.SQRT2,v}return i.rho=function(o){var s=Math.max(.001,+o),c=s*s,l=c*c;return e(s,c,l)},i}(Math.SQRT2,2,4);var al=0,Ic=0,gc=0,tM=1e3,Lp,Cc,Dp=0,Ra=0,Sm=0,df=typeof performance=="object"&&performance.now?performance:Date,nM=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function v1(){return Ra||(nM(OY),Ra=df.now()+Sm)}function OY(){Ra=0}function Fp(){this._call=this._time=this._next=null}Fp.prototype=rM.prototype={constructor:Fp,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?v1():+n)+(t==null?0:+t),!this._next&&Cc!==this&&(Cc?Cc._next=this:Lp=this,Cc=this),this._call=e,this._time=n,TE()},stop:function(){this._call&&(this._call=null,this._time=1/0,TE())}};function rM(e,t,n){var r=new Fp;return r.restart(e,t,n),r}function IY(){v1(),++al;for(var e=Lp,t;e;)(t=Ra-e._time)>=0&&e._call.call(void 0,t),e=e._next;--al}function XR(){Ra=(Dp=df.now())+Sm,al=Ic=0;try{IY()}finally{al=0,kY(),Ra=0}}function CY(){var e=df.now(),t=e-Dp;t>tM&&(Sm-=t,Dp=e)}function kY(){for(var e,t=Lp,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Lp=n);Cc=e,TE(r)}function TE(e){if(!al){Ic&&(Ic=clearTimeout(Ic));var t=e-Ra;t>24?(e<1/0&&(Ic=setTimeout(XR,e-df.now()-Sm)),gc&&(gc=clearInterval(gc))):(gc||(Dp=df.now(),gc=setInterval(CY,tM)),al=1,nM(XR))}}function JR(e,t,n){var r=new Fp;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var MY=xm("start","end","cancel","interrupt"),PY=[],iM=0,ZR=1,_E=2,Zh=3,eS=4,NE=5,ep=6;function Am(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;LY(e,n,{name:t,index:r,group:i,on:MY,tween:PY,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:iM})}function y1(e,t){var n=_i(e,t);if(n.state>iM)throw new Error("too late; already scheduled");return n}function Hi(e,t){var n=_i(e,t);if(n.state>Zh)throw new Error("too late; already running");return n}function _i(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function LY(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=rM(o,0,n.time);function o(u){n.state=ZR,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var a,d,h,m;if(n.state!==ZR)return l();for(a in r)if(m=r[a],m.name===n.name){if(m.state===Zh)return JR(s);m.state===eS?(m.state=ep,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[a]):+a<t&&(m.state=ep,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[a])}if(JR(function(){n.state===Zh&&(n.state=eS,n.timer.restart(c,n.delay,n.time),c(u))}),n.state=_E,n.on.call("start",e,e.__data__,n.index,n.group),n.state===_E){for(n.state=Zh,i=new Array(h=n.tween.length),a=0,d=-1;a<h;++a)(m=n.tween[a].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=m);i.length=d+1}}function c(u){for(var a=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=NE,1),d=-1,h=i.length;++d<h;)i[d].call(e,a);n.state===NE&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=ep,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function tp(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>_E&&r.state<NE,r.state=ep,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function DY(e){return this.each(function(){tp(this,e)})}function FY(e,t){var n,r;return function(){var i=Hi(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,c=r.length;s<c;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function UY(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Hi(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var c={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=c;break}l===u&&i.push(c)}o.tween=i}}function BY(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=_i(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?FY:UY)(n,e,t))}function E1(e,t,n){var r=e._id;return e.each(function(){var i=Hi(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return _i(i,r).value[t]}}function oM(e,t){var n;return(typeof t=="number"?os:t instanceof ff?YR:(n=ff(t))?(t=n,YR):wY)(e,t)}function $Y(e){return function(){this.removeAttribute(e)}}function VY(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jY(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function zY(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function qY(e,t,n){var r,i,o;return function(){var s,c=n(this),l;return c==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=c+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,c)))}}function WY(e,t,n){var r,i,o;return function(){var s,c=n(this),l;return c==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=c+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,c)))}}function HY(e,t){var n=Rm(e),r=n==="transform"?bY:oM;return this.attrTween(e,typeof t=="function"?(n.local?WY:qY)(n,r,E1(this,"attr."+e,t)):t==null?(n.local?VY:$Y)(n):(n.local?zY:jY)(n,r,t))}function GY(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function YY(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function QY(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&YY(e,o)),n}return i._value=t,i}function KY(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&GY(e,o)),n}return i._value=t,i}function XY(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Rm(e);return this.tween(n,(r.local?QY:KY)(r,t))}function JY(e,t){return function(){y1(this,e).delay=+t.apply(this,arguments)}}function ZY(e,t){return t=+t,function(){y1(this,e).delay=t}}function eQ(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?JY:ZY)(t,e)):_i(this.node(),t).delay}function tQ(e,t){return function(){Hi(this,e).duration=+t.apply(this,arguments)}}function nQ(e,t){return t=+t,function(){Hi(this,e).duration=t}}function rQ(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?tQ:nQ)(t,e)):_i(this.node(),t).duration}function iQ(e,t){if(typeof t!="function")throw new Error;return function(){Hi(this,e).ease=t}}function oQ(e){var t=this._id;return arguments.length?this.each(iQ(t,e)):_i(this.node(),t).ease}function sQ(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Hi(this,e).ease=n}}function aQ(e){if(typeof e!="function")throw new Error;return this.each(sQ(this._id,e))}function uQ(e){typeof e!="function"&&(e=F2(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,c=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&c.push(l);return new _o(r,this._parents,this._name,this._id)}function lQ(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),c=0;c<o;++c)for(var l=t[c],u=n[c],a=l.length,d=s[c]=new Array(a),h,m=0;m<a;++m)(h=l[m]||u[m])&&(d[m]=h);for(;c<r;++c)s[c]=t[c];return new _o(s,this._parents,this._name,this._id)}function cQ(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function fQ(e,t,n){var r,i,o=cQ(t)?y1:Hi;return function(){var s=o(this,e),c=s.on;c!==r&&(i=(r=c).copy()).on(t,n),s.on=i}}function dQ(e,t){var n=this._id;return arguments.length<2?_i(this.node(),n).on.on(e):this.each(fQ(n,e,t))}function hQ(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function pQ(){return this.on("end.remove",hQ(this._id))}function mQ(e){var t=this._name,n=this._id;typeof e!="function"&&(e=p1(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var c=r[s],l=c.length,u=o[s]=new Array(l),a,d,h=0;h<l;++h)(a=c[h])&&(d=e.call(a,a.__data__,h,c))&&("__data__"in a&&(d.__data__=a.__data__),u[h]=d,Am(u[h],t,n,h,u,_i(a,n)));return new _o(o,this._parents,t,n)}function gQ(e){var t=this._name,n=this._id;typeof e!="function"&&(e=D2(e));for(var r=this._groups,i=r.length,o=[],s=[],c=0;c<i;++c)for(var l=r[c],u=l.length,a,d=0;d<u;++d)if(a=l[d]){for(var h=e.call(a,a.__data__,d,l),m,y=_i(a,n),g=0,v=h.length;g<v;++g)(m=h[g])&&Am(m,t,n,g,h,y);o.push(h),s.push(a)}return new _o(o,s,t,n)}var vQ=Mf.prototype.constructor;function yQ(){return new vQ(this._groups,this._parents)}function EQ(e,t){var n,r,i;return function(){var o=sl(this,e),s=(this.style.removeProperty(e),sl(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function sM(e){return function(){this.style.removeProperty(e)}}function wQ(e,t,n){var r,i=n+"",o;return function(){var s=sl(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function TQ(e,t,n){var r,i,o;return function(){var s=sl(this,e),c=n(this),l=c+"";return c==null&&(l=c=(this.style.removeProperty(e),sl(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,c))}}function _Q(e,t){var n,r,i,o="style."+t,s="end."+o,c;return function(){var l=Hi(this,e),u=l.on,a=l.value[o]==null?c||(c=sM(t)):void 0;(u!==n||i!==a)&&(r=(n=u).copy()).on(s,i=a),l.on=r}}function NQ(e,t,n){var r=(e+="")=="transform"?NY:oM;return t==null?this.styleTween(e,EQ(e,r)).on("end.style."+e,sM(e)):typeof t=="function"?this.styleTween(e,TQ(e,r,E1(this,"style."+e,t))).each(_Q(this._id,e)):this.styleTween(e,wQ(e,r,t),n).on("end.style."+e,null)}function bQ(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function xQ(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&bQ(e,s,n)),r}return o._value=t,o}function RQ(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,xQ(e,t,n??""))}function SQ(e){return function(){this.textContent=e}}function AQ(e){return function(){var t=e(this);this.textContent=t??""}}function OQ(e){return this.tween("text",typeof e=="function"?AQ(E1(this,"text",e)):SQ(e==null?"":e+""))}function IQ(e){return function(t){this.textContent=e.call(this,t)}}function CQ(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&IQ(i)),t}return r._value=e,r}function kQ(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,CQ(e))}function MQ(){for(var e=this._name,t=this._id,n=aM(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],c=s.length,l,u=0;u<c;++u)if(l=s[u]){var a=_i(l,t);Am(l,e,n,u,s,{time:a.time+a.delay+a.duration,delay:0,duration:a.duration,ease:a.ease})}return new _o(r,this._parents,e,n)}function PQ(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var c={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=Hi(this,r),a=u.on;a!==e&&(t=(e=a).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(l)),u.on=t}),i===0&&o()})}var LQ=0;function _o(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function aM(){return++LQ}var ro=Mf.prototype;_o.prototype={constructor:_o,select:mQ,selectAll:gQ,selectChild:ro.selectChild,selectChildren:ro.selectChildren,filter:uQ,merge:lQ,selection:yQ,transition:MQ,call:ro.call,nodes:ro.nodes,node:ro.node,size:ro.size,empty:ro.empty,each:ro.each,on:dQ,attr:HY,attrTween:XY,style:NQ,styleTween:RQ,text:OQ,textTween:kQ,remove:pQ,tween:BY,delay:eQ,duration:rQ,ease:oQ,easeVarying:aQ,end:PQ,[Symbol.iterator]:ro[Symbol.iterator]};function DQ(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var FQ={time:null,delay:0,duration:250,ease:DQ};function UQ(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function BQ(e){var t,n;e instanceof _o?(t=e._id,e=e._name):(t=aM(),(n=FQ).time=v1(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],c=s.length,l,u=0;u<c;++u)(l=s[u])&&Am(l,e,t,u,s,n||UQ(l,t));return new _o(r,this._parents,e,t)}Mf.prototype.interrupt=DY;Mf.prototype.transition=BQ;const xh=e=>()=>e;function $Q(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function co(e,t,n){this.k=e,this.x=t,this.y=n}co.prototype={constructor:co,scale:function(e){return e===1?this:new co(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new co(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var hs=new co(1,0,0);co.prototype;function H0(e){e.stopImmediatePropagation()}function vc(e){e.preventDefault(),e.stopImmediatePropagation()}function VQ(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function jQ(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function tS(){return this.__zoom||hs}function zQ(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function qQ(){return navigator.maxTouchPoints||"ontouchstart"in this}function WQ(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function HQ(){var e=VQ,t=jQ,n=WQ,r=zQ,i=qQ,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],c=250,l=AY,u=xm("start","zoom","end"),a,d,h,m=500,y=150,g=0,v=10;function w(F){F.property("__zoom",tS).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",U).on("dblclick.zoom",z).filter(i).on("touchstart.zoom",Q).on("touchmove.zoom",ee).on("touchend.zoom touchcancel.zoom",X).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(F,J,K,te){var G=F.selection?F.selection():F;G.property("__zoom",tS),F!==G?S(F,J,K,te):G.interrupt().each(function(){x(this,arguments).event(te).start().zoom(null,typeof J=="function"?J.apply(this,arguments):J).end()})},w.scaleBy=function(F,J,K,te){w.scaleTo(F,function(){var G=this.__zoom.k,H=typeof J=="function"?J.apply(this,arguments):J;return G*H},K,te)},w.scaleTo=function(F,J,K,te){w.transform(F,function(){var G=t.apply(this,arguments),H=this.__zoom,W=K==null?b(G):typeof K=="function"?K.apply(this,arguments):K,V=H.invert(W),C=typeof J=="function"?J.apply(this,arguments):J;return n(N(T(H,C),W,V),G,s)},K,te)},w.translateBy=function(F,J,K,te){w.transform(F,function(){return n(this.__zoom.translate(typeof J=="function"?J.apply(this,arguments):J,typeof K=="function"?K.apply(this,arguments):K),t.apply(this,arguments),s)},null,te)},w.translateTo=function(F,J,K,te,G){w.transform(F,function(){var H=t.apply(this,arguments),W=this.__zoom,V=te==null?b(H):typeof te=="function"?te.apply(this,arguments):te;return n(hs.translate(V[0],V[1]).scale(W.k).translate(typeof J=="function"?-J.apply(this,arguments):-J,typeof K=="function"?-K.apply(this,arguments):-K),H,s)},te,G)};function T(F,J){return J=Math.max(o[0],Math.min(o[1],J)),J===F.k?F:new co(J,F.x,F.y)}function N(F,J,K){var te=J[0]-K[0]*F.k,G=J[1]-K[1]*F.k;return te===F.x&&G===F.y?F:new co(F.k,te,G)}function b(F){return[(+F[0][0]+ +F[1][0])/2,(+F[0][1]+ +F[1][1])/2]}function S(F,J,K,te){F.on("start.zoom",function(){x(this,arguments).event(te).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(te).end()}).tween("zoom",function(){var G=this,H=arguments,W=x(G,H).event(te),V=t.apply(G,H),C=K==null?b(V):typeof K=="function"?K.apply(G,H):K,L=Math.max(V[1][0]-V[0][0],V[1][1]-V[0][1]),I=G.__zoom,j=typeof J=="function"?J.apply(G,H):J,$=l(I.invert(C).concat(L/I.k),j.invert(C).concat(L/j.k));return function(oe){if(oe===1)oe=j;else{var q=$(oe),se=L/q[2];oe=new co(se,C[0]-q[0]*se,C[1]-q[1]*se)}W.zoom(null,oe)}})}function x(F,J,K){return!K&&F.__zooming||new O(F,J)}function O(F,J){this.that=F,this.args=J,this.active=0,this.sourceEvent=null,this.extent=t.apply(F,J),this.taps=0}O.prototype={event:function(F){return F&&(this.sourceEvent=F),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(F,J){return this.mouse&&F!=="mouse"&&(this.mouse[1]=J.invert(this.mouse[0])),this.touch0&&F!=="touch"&&(this.touch0[1]=J.invert(this.touch0[0])),this.touch1&&F!=="touch"&&(this.touch1[1]=J.invert(this.touch1[0])),this.that.__zoom=J,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(F){var J=ii(this.that).datum();u.call(F,this.that,new $Q(F,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:u}),J)}};function M(F,...J){if(!e.apply(this,arguments))return;var K=x(this,J).event(F),te=this.__zoom,G=Math.max(o[0],Math.min(o[1],te.k*Math.pow(2,r.apply(this,arguments)))),H=Oi(F);if(K.wheel)(K.mouse[0][0]!==H[0]||K.mouse[0][1]!==H[1])&&(K.mouse[1]=te.invert(K.mouse[0]=H)),clearTimeout(K.wheel);else{if(te.k===G)return;K.mouse=[H,te.invert(H)],tp(this),K.start()}vc(F),K.wheel=setTimeout(W,y),K.zoom("mouse",n(N(T(te,G),K.mouse[0],K.mouse[1]),K.extent,s));function W(){K.wheel=null,K.end()}}function U(F,...J){if(h||!e.apply(this,arguments))return;var K=F.currentTarget,te=x(this,J,!0).event(F),G=ii(F.view).on("mousemove.zoom",C,!0).on("mouseup.zoom",L,!0),H=Oi(F,K),W=F.clientX,V=F.clientY;G2(F.view),H0(F),te.mouse=[H,this.__zoom.invert(H)],tp(this),te.start();function C(I){if(vc(I),!te.moved){var j=I.clientX-W,$=I.clientY-V;te.moved=j*j+$*$>g}te.event(I).zoom("mouse",n(N(te.that.__zoom,te.mouse[0]=Oi(I,K),te.mouse[1]),te.extent,s))}function L(I){G.on("mousemove.zoom mouseup.zoom",null),Y2(I.view,te.moved),vc(I),te.event(I).end()}}function z(F,...J){if(e.apply(this,arguments)){var K=this.__zoom,te=Oi(F.changedTouches?F.changedTouches[0]:F,this),G=K.invert(te),H=K.k*(F.shiftKey?.5:2),W=n(N(T(K,H),te,G),t.apply(this,J),s);vc(F),c>0?ii(this).transition().duration(c).call(S,W,te,F):ii(this).call(w.transform,W,te,F)}}function Q(F,...J){if(e.apply(this,arguments)){var K=F.touches,te=K.length,G=x(this,J,F.changedTouches.length===te).event(F),H,W,V,C;for(H0(F),W=0;W<te;++W)V=K[W],C=Oi(V,this),C=[C,this.__zoom.invert(C),V.identifier],G.touch0?!G.touch1&&G.touch0[2]!==C[2]&&(G.touch1=C,G.taps=0):(G.touch0=C,H=!0,G.taps=1+!!a);a&&(a=clearTimeout(a)),H&&(G.taps<2&&(d=C[0],a=setTimeout(function(){a=null},m)),tp(this),G.start())}}function ee(F,...J){if(this.__zooming){var K=x(this,J).event(F),te=F.changedTouches,G=te.length,H,W,V,C;for(vc(F),H=0;H<G;++H)W=te[H],V=Oi(W,this),K.touch0&&K.touch0[2]===W.identifier?K.touch0[0]=V:K.touch1&&K.touch1[2]===W.identifier&&(K.touch1[0]=V);if(W=K.that.__zoom,K.touch1){var L=K.touch0[0],I=K.touch0[1],j=K.touch1[0],$=K.touch1[1],oe=(oe=j[0]-L[0])*oe+(oe=j[1]-L[1])*oe,q=(q=$[0]-I[0])*q+(q=$[1]-I[1])*q;W=T(W,Math.sqrt(oe/q)),V=[(L[0]+j[0])/2,(L[1]+j[1])/2],C=[(I[0]+$[0])/2,(I[1]+$[1])/2]}else if(K.touch0)V=K.touch0[0],C=K.touch0[1];else return;K.zoom("touch",n(N(W,V,C),K.extent,s))}}function X(F,...J){if(this.__zooming){var K=x(this,J).event(F),te=F.changedTouches,G=te.length,H,W;for(H0(F),h&&clearTimeout(h),h=setTimeout(function(){h=null},m),H=0;H<G;++H)W=te[H],K.touch0&&K.touch0[2]===W.identifier?delete K.touch0:K.touch1&&K.touch1[2]===W.identifier&&delete K.touch1;if(K.touch1&&!K.touch0&&(K.touch0=K.touch1,delete K.touch1),K.touch0)K.touch0[1]=this.__zoom.invert(K.touch0[0]);else if(K.end(),K.taps===2&&(W=Oi(W,this),Math.hypot(d[0]-W[0],d[1]-W[1])<v)){var V=ii(this).on("dblclick.zoom");V&&V.apply(this,arguments)}}}return w.wheelDelta=function(F){return arguments.length?(r=typeof F=="function"?F:xh(+F),w):r},w.filter=function(F){return arguments.length?(e=typeof F=="function"?F:xh(!!F),w):e},w.touchable=function(F){return arguments.length?(i=typeof F=="function"?F:xh(!!F),w):i},w.extent=function(F){return arguments.length?(t=typeof F=="function"?F:xh([[+F[0][0],+F[0][1]],[+F[1][0],+F[1][1]]]),w):t},w.scaleExtent=function(F){return arguments.length?(o[0]=+F[0],o[1]=+F[1],w):[o[0],o[1]]},w.translateExtent=function(F){return arguments.length?(s[0][0]=+F[0][0],s[1][0]=+F[1][0],s[0][1]=+F[0][1],s[1][1]=+F[1][1],w):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},w.constrain=function(F){return arguments.length?(n=F,w):n},w.duration=function(F){return arguments.length?(c=+F,w):c},w.interpolate=function(F){return arguments.length?(l=F,w):l},w.on=function(){var F=u.on.apply(u,arguments);return F===u?w:F},w.clickDistance=function(F){return arguments.length?(g=(F=+F)*F,w):Math.sqrt(g)},w.tapDistance=function(F){return arguments.length?(v=+F,w):v},w}const Om=k.createContext(null),GQ=Om.Provider,No={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},uM=No.error001();function Wt(e,t){const n=k.useContext(Om);if(n===null)throw new Error(uM);return P2(n,e,t)}const Rn=()=>{const e=k.useContext(Om);if(e===null)throw new Error(uM);return k.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},YQ=e=>e.userSelectionActive?"none":"all";function lM({position:e,children:t,className:n,style:r,...i}){const o=Wt(YQ),s=`${e}`.split("-");return fe.createElement("div",{className:Jn(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...i},t)}function QQ({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:fe.createElement(lM,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},fe.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const KQ=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:c=2,children:l,className:u,...a})=>{const d=k.useRef(null),[h,m]=k.useState({x:0,y:0,width:0,height:0}),y=Jn(["react-flow__edge-textwrapper",u]);return k.useEffect(()=>{if(d.current){const g=d.current.getBBox();m({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:fe.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:y,visibility:h.width?"visible":"hidden",...a},i&&fe.createElement("rect",{width:h.width+2*s[0],x:-s[0],y:-s[1],height:h.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:c,ry:c}),fe.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:d,style:r},n),l)};var XQ=k.memo(KQ);const w1=e=>({width:e.offsetWidth,height:e.offsetHeight}),ul=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),T1=(e={x:0,y:0},t)=>({x:ul(e.x,t[0][0],t[1][0]),y:ul(e.y,t[0][1],t[1][1])}),nS=(e,t,n)=>e<t?ul(Math.abs(e-t),1,50)/50:e>n?-ul(Math.abs(e-n),1,50)/50:0,cM=(e,t)=>{const n=nS(e.x,35,t.width-35)*20,r=nS(e.y,35,t.height-35)*20;return[n,r]},fM=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},JQ=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),_1=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),ZQ=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),rS=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),bE=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},eK=e=>Dr(e.width)&&Dr(e.height)&&Dr(e.x)&&Dr(e.y),Dr=e=>!isNaN(e)&&isFinite(e),Xt=Symbol.for("internals"),dM=["Enter"," ","Escape"],tK=(e,t)=>{},nK=e=>"nativeEvent"in e;function xE(e){var i,o;const t=nK(e)?e.nativeEvent:e,n=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const hM=e=>"clientX"in e,ps=(e,t)=>{var o,s;const n=hM(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Up=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Lf=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:u,style:a,markerEnd:d,markerStart:h,interactionWidth:m=20})=>fe.createElement(fe.Fragment,null,fe.createElement("path",{id:e,style:a,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:h}),m&&fe.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),i&&Dr(n)&&Dr(r)?fe.createElement(XQ,{x:n,y:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:u}):null);Lf.displayName="BaseEdge";function yc(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(o=>o.id===e);i&&n(r,{...i})}}function pM({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,c=r<t?r+s:r-s;return[o,c,i,s]}function mM({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:c}){const l=e*.125+i*.375+s*.375+n*.125,u=t*.125+o*.375+c*.375+r*.125,a=Math.abs(l-e),d=Math.abs(u-t);return[l,u,a,d]}var Sa;(function(e){e.Strict="strict",e.Loose="loose"})(Sa||(Sa={}));var fa;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(fa||(fa={}));var hf;(function(e){e.Partial="partial",e.Full="full"})(hf||(hf={}));var ls;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ls||(ls={}));var Bp;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Bp||(Bp={}));var Ve;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ve||(Ve={}));function iS({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===Ve.Left||e===Ve.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function gM({sourceX:e,sourceY:t,sourcePosition:n=Ve.Bottom,targetX:r,targetY:i,targetPosition:o=Ve.Top}){const[s,c]=iS({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=iS({pos:o,x1:r,y1:i,x2:e,y2:t}),[a,d,h,m]=mM({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:c,targetControlX:l,targetControlY:u});return[`M${e},${t} C${s},${c} ${l},${u} ${r},${i}`,a,d,h,m]}const N1=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Ve.Bottom,targetPosition:o=Ve.Top,label:s,labelStyle:c,labelShowBg:l,labelBgStyle:u,labelBgPadding:a,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:y,interactionWidth:g})=>{const[v,w,T]=gM({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return fe.createElement(Lf,{path:v,labelX:w,labelY:T,label:s,labelStyle:c,labelShowBg:l,labelBgStyle:u,labelBgPadding:a,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:y,interactionWidth:g})});N1.displayName="SimpleBezierEdge";const oS={[Ve.Left]:{x:-1,y:0},[Ve.Right]:{x:1,y:0},[Ve.Top]:{x:0,y:-1},[Ve.Bottom]:{x:0,y:1}},rK=({source:e,sourcePosition:t=Ve.Bottom,target:n})=>t===Ve.Left||t===Ve.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},sS=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function iK({source:e,sourcePosition:t=Ve.Bottom,target:n,targetPosition:r=Ve.Top,center:i,offset:o}){const s=oS[t],c=oS[r],l={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+c.x*o,y:n.y+c.y*o},a=rK({source:l,sourcePosition:t,target:u}),d=a.x!==0?"x":"y",h=a[d];let m=[],y,g;const v={x:0,y:0},w={x:0,y:0},[T,N,b,S]=pM({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*c[d]===-1){y=i.x??T,g=i.y??N;const O=[{x:y,y:l.y},{x:y,y:u.y}],M=[{x:l.x,y:g},{x:u.x,y:g}];s[d]===h?m=d==="x"?O:M:m=d==="x"?M:O}else{const O=[{x:l.x,y:u.y}],M=[{x:u.x,y:l.y}];if(d==="x"?m=s.x===h?M:O:m=s.y===h?O:M,t===r){const X=Math.abs(e[d]-n[d]);if(X<=o){const F=Math.min(o-1,o-X);s[d]===h?v[d]=(l[d]>e[d]?-1:1)*F:w[d]=(u[d]>n[d]?-1:1)*F}}if(t!==r){const X=d==="x"?"y":"x",F=s[d]===c[X],J=l[X]>u[X],K=l[X]<u[X];(s[d]===1&&(!F&&J||F&&K)||s[d]!==1&&(!F&&K||F&&J))&&(m=d==="x"?O:M)}const U={x:l.x+v.x,y:l.y+v.y},z={x:u.x+w.x,y:u.y+w.y},Q=Math.max(Math.abs(U.x-m[0].x),Math.abs(z.x-m[0].x)),ee=Math.max(Math.abs(U.y-m[0].y),Math.abs(z.y-m[0].y));Q>=ee?(y=(U.x+z.x)/2,g=m[0].y):(y=m[0].x,g=(U.y+z.y)/2)}return[[e,{x:l.x+v.x,y:l.y+v.y},...m,{x:u.x+w.x,y:u.y+w.y},n],y,g,b,S]}function oK(e,t,n,r){const i=Math.min(sS(e,t)/2,sS(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,a=e.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*a}`}const c=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*c},${s}`}function RE({sourceX:e,sourceY:t,sourcePosition:n=Ve.Bottom,targetX:r,targetY:i,targetPosition:o=Ve.Top,borderRadius:s=5,centerX:c,centerY:l,offset:u=20}){const[a,d,h,m,y]=iK({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:c,y:l},offset:u});return[a.reduce((v,w,T)=>{let N="";return T>0&&T<a.length-1?N=oK(a[T-1],w,a[T+1],s):N=`${T===0?"M":"L"}${w.x} ${w.y}`,v+=N,v},""),d,h,m,y]}const Im=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:u,style:a,sourcePosition:d=Ve.Bottom,targetPosition:h=Ve.Top,markerEnd:m,markerStart:y,pathOptions:g,interactionWidth:v})=>{const[w,T,N]=RE({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:h,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return fe.createElement(Lf,{path:w,labelX:T,labelY:N,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:u,style:a,markerEnd:m,markerStart:y,interactionWidth:v})});Im.displayName="SmoothStepEdge";const b1=k.memo(e=>{var t;return fe.createElement(Im,{...e,pathOptions:k.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});b1.displayName="StepEdge";function sK({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,c]=pM({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,c]}const x1=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:u,style:a,markerEnd:d,markerStart:h,interactionWidth:m})=>{const[y,g,v]=sK({sourceX:e,sourceY:t,targetX:n,targetY:r});return fe.createElement(Lf,{path:y,labelX:g,labelY:v,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:u,style:a,markerEnd:d,markerStart:h,interactionWidth:m})});x1.displayName="StraightEdge";function Rh(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function aS({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case Ve.Left:return[t-Rh(t-r,o),n];case Ve.Right:return[t+Rh(r-t,o),n];case Ve.Top:return[t,n-Rh(n-i,o)];case Ve.Bottom:return[t,n+Rh(i-n,o)]}}function vM({sourceX:e,sourceY:t,sourcePosition:n=Ve.Bottom,targetX:r,targetY:i,targetPosition:o=Ve.Top,curvature:s=.25}){const[c,l]=aS({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[u,a]=aS({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[d,h,m,y]=mM({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:c,sourceControlY:l,targetControlX:u,targetControlY:a});return[`M${e},${t} C${c},${l} ${u},${a} ${r},${i}`,d,h,m,y]}const $p=k.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Ve.Bottom,targetPosition:o=Ve.Top,label:s,labelStyle:c,labelShowBg:l,labelBgStyle:u,labelBgPadding:a,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:y,pathOptions:g,interactionWidth:v})=>{const[w,T,N]=vM({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:g==null?void 0:g.curvature});return fe.createElement(Lf,{path:w,labelX:T,labelY:N,label:s,labelStyle:c,labelShowBg:l,labelBgStyle:u,labelBgPadding:a,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:y,interactionWidth:v})});$p.displayName="BezierEdge";const R1=k.createContext(null),aK=R1.Provider;R1.Consumer;const uK=()=>k.useContext(R1),lK=e=>"id"in e&&"source"in e&&"target"in e,cK=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,SE=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,fK=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),dK=(e,t)=>{if(!e.source||!e.target)return t;let n;return lK(e)?n={...e}:n={...e,id:cK(e)},fK(n,t)?t:t.concat(n)},AE=({x:e,y:t},[n,r,i],o,[s,c])=>{const l={x:(e-n)/i,y:(t-r)/i};return o?{x:s*Math.round(l.x/s),y:c*Math.round(l.y/c)}:l},yM=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),Yu=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},S1=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:o,y:s}=Yu(i,t).positionAbsolute;return JQ(r,_1({x:o,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ZQ(n)},EM=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1,c=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(a=>{const{width:d,height:h,selectable:m=!0,hidden:y=!1}=a;if(s&&!m||y)return!1;const{positionAbsolute:g}=Yu(a,c),v={x:g.x,y:g.y,width:d||0,height:h||0},w=bE(l,v),T=typeof d>"u"||typeof h>"u"||d===null||h===null,N=o&&w>0,b=(d||0)*(h||0);(T||N||w>=b||a.dragging)&&u.push(a)}),u},wM=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},TM=(e,t,n,r,i,o=.1)=>{const s=t/(e.width*(1+o)),c=n/(e.height*(1+o)),l=Math.min(s,c),u=ul(l,r,i),a=e.x+e.width/2,d=e.y+e.height/2,h=t/2-a*u,m=n/2-d*u;return{x:h,y:m,zoom:u}},ta=(e,t=0)=>e.transition().duration(t);function uS(e,t,n,r){return(t[n]||[]).reduce((i,o)=>{var s,c;return`${e.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((c=e.positionAbsolute)==null?void 0:c.y)??0)+o.y+o.height/2}),i},[])}function hK(e,t,n,r,i,o){const{x:s,y:c}=ps(e),u=t.elementsFromPoint(s,c).find(y=>y.classList.contains("react-flow__handle"));if(u){const y=u.getAttribute("data-nodeid");if(y){const g=A1(void 0,u),v=u.getAttribute("data-handleid"),w=o({nodeId:y,id:v,type:g});if(w){const T=i.find(N=>N.nodeId===y&&N.type===g&&N.id===v);return{handle:{id:v,type:g,nodeId:y,x:(T==null?void 0:T.x)||n.x,y:(T==null?void 0:T.y)||n.y},validHandleResult:w}}}}let a=[],d=1/0;if(i.forEach(y=>{const g=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(g<=r){const v=o(y);g<=d&&(g<d?a=[{handle:y,validHandleResult:v}]:g===d&&a.push({handle:y,validHandleResult:v}),d=g)}}),!a.length)return{handle:null,validHandleResult:_M()};if(a.length===1)return a[0];const h=a.some(({validHandleResult:y})=>y.isValid),m=a.some(({handle:y})=>y.type==="target");return a.find(({handle:y,validHandleResult:g})=>m?y.type==="target":h?g.isValid:!0)||a[0]}const pK={source:null,target:null,sourceHandle:null,targetHandle:null},_M=()=>({handleDomNode:null,isValid:!1,connection:pK,endHandle:null});function NM(e,t,n,r,i,o,s){const c=i==="target",l=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={..._M(),handleDomNode:l};if(l){const a=A1(void 0,l),d=l.getAttribute("data-nodeid"),h=l.getAttribute("data-handleid"),m=l.classList.contains("connectable"),y=l.classList.contains("connectableend"),g={source:c?d:n,sourceHandle:c?h:r,target:c?n:d,targetHandle:c?r:h};u.connection=g,m&&y&&(t===Sa.Strict?c&&a==="source"||!c&&a==="target":d!==n||h!==r)&&(u.endHandle={nodeId:d,handleId:h,type:a},u.isValid=o(g))}return u}function mK({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,o)=>{if(o[Xt]){const{handleBounds:s}=o[Xt];let c=[],l=[];s&&(c=uS(o,s,"source",`${t}-${n}-${r}`),l=uS(o,s,"target",`${t}-${n}-${r}`)),i.push(...c,...l)}return i},[])}function A1(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function G0(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function gK(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function bM({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:s,isValidConnection:c,edgeUpdaterType:l,onReconnectEnd:u}){const a=fM(e.target),{connectionMode:d,domNode:h,autoPanOnConnect:m,connectionRadius:y,onConnectStart:g,panBy:v,getNodes:w,cancelConnection:T}=o();let N=0,b;const{x:S,y:x}=ps(e),O=a==null?void 0:a.elementFromPoint(S,x),M=A1(l,O),U=h==null?void 0:h.getBoundingClientRect();if(!U||!M)return;let z,Q=ps(e,U),ee=!1,X=null,F=!1,J=null;const K=mK({nodes:w(),nodeId:n,handleId:t,handleType:M}),te=()=>{if(!m)return;const[W,V]=cM(Q,U);v({x:W,y:V}),N=requestAnimationFrame(te)};s({connectionPosition:Q,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:M,connectionStartHandle:{nodeId:n,handleId:t,type:M},connectionEndHandle:null}),g==null||g(e,{nodeId:n,handleId:t,handleType:M});function G(W){const{transform:V}=o();Q=ps(W,U);const{handle:C,validHandleResult:L}=hK(W,a,AE(Q,V,!1,[1,1]),y,K,I=>NM(I,d,n,t,i?"target":"source",c,a));if(b=C,ee||(te(),ee=!0),J=L.handleDomNode,X=L.connection,F=L.isValid,s({connectionPosition:b&&F?yM({x:b.x,y:b.y},V):Q,connectionStatus:gK(!!b,F),connectionEndHandle:L.endHandle}),!b&&!F&&!J)return G0(z);X.source!==X.target&&J&&(G0(z),z=J,J.classList.add("connecting","react-flow__handle-connecting"),J.classList.toggle("valid",F),J.classList.toggle("react-flow__handle-valid",F))}function H(W){var V,C;(b||J)&&X&&F&&(r==null||r(X)),(C=(V=o()).onConnectEnd)==null||C.call(V,W),l&&(u==null||u(W)),G0(z),T(),cancelAnimationFrame(N),ee=!1,F=!1,X=null,J=null,a.removeEventListener("mousemove",G),a.removeEventListener("mouseup",H),a.removeEventListener("touchmove",G),a.removeEventListener("touchend",H)}a.addEventListener("mousemove",G),a.addEventListener("mouseup",H),a.addEventListener("touchmove",G),a.addEventListener("touchend",H)}const lS=()=>!0,vK=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),yK=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},xM=k.forwardRef(({type:e="source",position:t=Ve.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:c,children:l,className:u,onMouseDown:a,onTouchStart:d,...h},m)=>{var U,z;const y=s||null,g=e==="target",v=Rn(),w=uK(),{connectOnClick:T,noPanClassName:N}=Wt(vK,jn),{connecting:b,clickConnecting:S}=Wt(yK(w,y,e),jn);w||(z=(U=v.getState()).onError)==null||z.call(U,"010",No.error010());const x=Q=>{const{defaultEdgeOptions:ee,onConnect:X,hasDefaultEdges:F}=v.getState(),J={...ee,...Q};if(F){const{edges:K,setEdges:te}=v.getState();te(dK(J,K))}X==null||X(J),c==null||c(J)},O=Q=>{if(!w)return;const ee=hM(Q);i&&(ee&&Q.button===0||!ee)&&bM({event:Q,handleId:y,nodeId:w,onConnect:x,isTarget:g,getState:v.getState,setState:v.setState,isValidConnection:n||v.getState().isValidConnection||lS}),ee?a==null||a(Q):d==null||d(Q)},M=Q=>{const{onClickConnectStart:ee,onClickConnectEnd:X,connectionClickStartHandle:F,connectionMode:J,isValidConnection:K}=v.getState();if(!w||!F&&!i)return;if(!F){ee==null||ee(Q,{nodeId:w,handleId:y,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:w,type:e,handleId:y}});return}const te=fM(Q.target),G=n||K||lS,{connection:H,isValid:W}=NM({nodeId:w,id:y,type:e},J,F.nodeId,F.handleId||null,F.type,G,te);W&&x(H),X==null||X(Q),v.setState({connectionClickStartHandle:null})};return fe.createElement("div",{"data-handleid":y,"data-nodeid":w,"data-handlepos":t,"data-id":`${w}-${y}-${e}`,className:Jn(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",N,u,{source:!g,target:g,connectable:r,connectablestart:i,connectableend:o,connecting:S,connectionindicator:r&&(i&&!b||o&&b)}]),onMouseDown:O,onTouchStart:O,onClick:T?M:void 0,ref:m,...h},l)});xM.displayName="Handle";var As=k.memo(xM);const RM=({data:e,isConnectable:t,targetPosition:n=Ve.Top,sourcePosition:r=Ve.Bottom})=>fe.createElement(fe.Fragment,null,fe.createElement(As,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,fe.createElement(As,{type:"source",position:r,isConnectable:t}));RM.displayName="DefaultNode";var OE=k.memo(RM);const SM=({data:e,isConnectable:t,sourcePosition:n=Ve.Bottom})=>fe.createElement(fe.Fragment,null,e==null?void 0:e.label,fe.createElement(As,{type:"source",position:n,isConnectable:t}));SM.displayName="InputNode";var AM=k.memo(SM);const OM=({data:e,isConnectable:t,targetPosition:n=Ve.Top})=>fe.createElement(fe.Fragment,null,fe.createElement(As,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);OM.displayName="OutputNode";var IM=k.memo(OM);const O1=()=>null;O1.displayName="GroupNode";const EK=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Sh=e=>e.id;function wK(e,t){return jn(e.selectedNodes.map(Sh),t.selectedNodes.map(Sh))&&jn(e.selectedEdges.map(Sh),t.selectedEdges.map(Sh))}const CM=k.memo(({onSelectionChange:e})=>{const t=Rn(),{selectedNodes:n,selectedEdges:r}=Wt(EK,wK);return k.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(o=>o(i))},[n,r,e]),null});CM.displayName="SelectionListener";const TK=e=>!!e.onSelectionChange;function _K({onSelectionChange:e}){const t=Wt(TK);return e||t?fe.createElement(CM,{onSelectionChange:e}):null}const NK=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Nu(e,t){k.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function lt(e,t,n){k.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const bK=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:s,onClickConnectStart:c,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:a,nodesFocusable:d,edgesFocusable:h,edgesUpdatable:m,elevateNodesOnSelect:y,minZoom:g,maxZoom:v,nodeExtent:w,onNodesChange:T,onEdgesChange:N,elementsSelectable:b,connectionMode:S,snapGrid:x,snapToGrid:O,translateExtent:M,connectOnClick:U,defaultEdgeOptions:z,fitView:Q,fitViewOptions:ee,onNodesDelete:X,onEdgesDelete:F,onNodeDrag:J,onNodeDragStart:K,onNodeDragStop:te,onSelectionDrag:G,onSelectionDragStart:H,onSelectionDragStop:W,noPanClassName:V,nodeOrigin:C,rfId:L,autoPanOnConnect:I,autoPanOnNodeDrag:j,onError:$,connectionRadius:oe,isValidConnection:q,nodeDragThreshold:se})=>{const{setNodes:ge,setEdges:we,setDefaultNodesAndEdges:be,setMinZoom:Re,setMaxZoom:Qe,setTranslateExtent:ze,setNodeExtent:Rt,reset:Xe}=Wt(NK,jn),xe=Rn();return k.useEffect(()=>{const Me=r==null?void 0:r.map(it=>({...it,...z}));return be(n,Me),()=>{Xe()}},[]),lt("defaultEdgeOptions",z,xe.setState),lt("connectionMode",S,xe.setState),lt("onConnect",i,xe.setState),lt("onConnectStart",o,xe.setState),lt("onConnectEnd",s,xe.setState),lt("onClickConnectStart",c,xe.setState),lt("onClickConnectEnd",l,xe.setState),lt("nodesDraggable",u,xe.setState),lt("nodesConnectable",a,xe.setState),lt("nodesFocusable",d,xe.setState),lt("edgesFocusable",h,xe.setState),lt("edgesUpdatable",m,xe.setState),lt("elementsSelectable",b,xe.setState),lt("elevateNodesOnSelect",y,xe.setState),lt("snapToGrid",O,xe.setState),lt("snapGrid",x,xe.setState),lt("onNodesChange",T,xe.setState),lt("onEdgesChange",N,xe.setState),lt("connectOnClick",U,xe.setState),lt("fitViewOnInit",Q,xe.setState),lt("fitViewOnInitOptions",ee,xe.setState),lt("onNodesDelete",X,xe.setState),lt("onEdgesDelete",F,xe.setState),lt("onNodeDrag",J,xe.setState),lt("onNodeDragStart",K,xe.setState),lt("onNodeDragStop",te,xe.setState),lt("onSelectionDrag",G,xe.setState),lt("onSelectionDragStart",H,xe.setState),lt("onSelectionDragStop",W,xe.setState),lt("noPanClassName",V,xe.setState),lt("nodeOrigin",C,xe.setState),lt("rfId",L,xe.setState),lt("autoPanOnConnect",I,xe.setState),lt("autoPanOnNodeDrag",j,xe.setState),lt("onError",$,xe.setState),lt("connectionRadius",oe,xe.setState),lt("isValidConnection",q,xe.setState),lt("nodeDragThreshold",se,xe.setState),Nu(e,ge),Nu(t,we),Nu(g,Re),Nu(v,Qe),Nu(M,ze),Nu(w,Rt),null},cS={display:"none"},xK={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},kM="react-flow__node-desc",MM="react-flow__edge-desc",RK="react-flow__aria-live",SK=e=>e.ariaLiveMessage;function AK({rfId:e}){const t=Wt(SK);return fe.createElement("div",{id:`${RK}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:xK},t)}function OK({rfId:e,disableKeyboardA11y:t}){return fe.createElement(fe.Fragment,null,fe.createElement("div",{id:`${kM}-${e}`,style:cS},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),fe.createElement("div",{id:`${MM}-${e}`,style:cS},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&fe.createElement(AK,{rfId:e}))}var pf=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=k.useState(!1),i=k.useRef(!1),o=k.useRef(new Set([])),[s,c]=k.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),a=u.reduce((d,h)=>d.concat(...h),[]);return[u,a]}return[[],[]]},[e]);return k.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const a=m=>{if(i.current=m.ctrlKey||m.metaKey||m.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&xE(m))return!1;const g=dS(m.code,c);o.current.add(m[g]),fS(s,o.current,!1)&&(m.preventDefault(),r(!0))},d=m=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&xE(m))return!1;const g=dS(m.code,c);fS(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(m[g]),m.key==="Meta"&&o.current.clear(),i.current=!1},h=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",a),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",a),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",h)}}},[e,r]),n};function fS(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function dS(e,t){return t.includes(e)?"code":"key"}function PM(e,t,n,r){var c,l;const i=e.parentNode||e.parentId;if(!i)return n;const o=t.get(i),s=Yu(o,r);return PM(o,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((c=o[Xt])==null?void 0:c.z)??0)>(n.z??0)?((l=o[Xt])==null?void 0:l.z)??0:n.z??0},r)}function LM(e,t,n){e.forEach(r=>{var o;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:s,y:c,z:l}=PM(r,e,{...r.position,z:((o=r[Xt])==null?void 0:o.z)??0},t);r.positionAbsolute={x:s,y:c},r[Xt].z=l,n!=null&&n[r.id]&&(r[Xt].isParent=!0)}})}function Y0(e,t,n,r){const i=new Map,o={},s=r?1e3:0;return e.forEach(c=>{var m;const l=(Dr(c.zIndex)?c.zIndex:0)+(c.selected?s:0),u=t.get(c.id),a={...c,positionAbsolute:{x:c.position.x,y:c.position.y}},d=c.parentNode||c.parentId;d&&(o[d]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==c.type;Object.defineProperty(a,Xt,{enumerable:!1,value:{handleBounds:h||(m=u==null?void 0:u[Xt])==null?void 0:m.handleBounds,z:l}}),i.set(c.id,a)}),LM(i,n,o),i}function DM(e,t={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:s,d3Zoom:c,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:a,nodeOrigin:d}=e(),h=t.initial&&!u&&a;if(c&&l&&(h||!t.initial)){const y=n().filter(v=>{var T;const w=t.includeHiddenNodes?v.width&&v.height:!v.hidden;return(T=t.nodes)!=null&&T.length?w&&t.nodes.some(N=>N.id===v.id):w}),g=y.every(v=>v.width&&v.height);if(y.length>0&&g){const v=S1(y,d),{x:w,y:T,zoom:N}=TM(v,r,i,t.minZoom??o,t.maxZoom??s,t.padding??.1),b=hs.translate(w,T).scale(N);return typeof t.duration=="number"&&t.duration>0?c.transform(ta(l,t.duration),b):c.transform(l,b),!0}}return!1}function IK(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Xt]:r[Xt],selected:n.selected})}),new Map(t)}function CK(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Ah({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:s,onEdgesChange:c,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:IK(e,i)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:CK(t,o)}),c==null||c(t))}const bu=()=>{},kK={zoomIn:bu,zoomOut:bu,zoomTo:bu,getZoom:()=>1,setViewport:bu,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:bu,fitBounds:bu,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},MK=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),PK=()=>{const e=Rn(),{d3Zoom:t,d3Selection:n}=Wt(MK,jn);return k.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(ta(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(ta(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>t.scaleTo(ta(n,o==null?void 0:o.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,o)=>{const[s,c,l]=e.getState().transform,u=hs.translate(i.x??s,i.y??c).scale(i.zoom??l);t.transform(ta(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[i,o,s]=e.getState().transform;return{x:i,y:o,zoom:s}},fitView:i=>DM(e.getState,i),setCenter:(i,o,s)=>{const{width:c,height:l,maxZoom:u}=e.getState(),a=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,d=c/2-i*a,h=l/2-o*a,m=hs.translate(d,h).scale(a);t.transform(ta(n,s==null?void 0:s.duration),m)},fitBounds:(i,o)=>{const{width:s,height:c,minZoom:l,maxZoom:u}=e.getState(),{x:a,y:d,zoom:h}=TM(i,s,c,l,u,(o==null?void 0:o.padding)??.1),m=hs.translate(a,d).scale(h);t.transform(ta(n,o==null?void 0:o.duration),m)},project:i=>{const{transform:o,snapToGrid:s,snapGrid:c}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),AE(i,o,s,c)},screenToFlowPosition:i=>{const{transform:o,snapToGrid:s,snapGrid:c,domNode:l}=e.getState();if(!l)return i;const{x:u,y:a}=l.getBoundingClientRect(),d={x:i.x-u,y:i.y-a};return AE(d,o,s,c)},flowToScreenPosition:i=>{const{transform:o,domNode:s}=e.getState();if(!s)return i;const{x:c,y:l}=s.getBoundingClientRect(),u=yM(i,o);return{x:u.x+c,y:u.y+l}},viewportInitialized:!0}:kK,[t,n])};function I1(){const e=PK(),t=Rn(),n=k.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),r=k.useCallback(g=>t.getState().nodeInternals.get(g),[]),i=k.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(v=>({...v}))},[]),o=k.useCallback(g=>{const{edges:v=[]}=t.getState();return v.find(w=>w.id===g)},[]),s=k.useCallback(g=>{const{getNodes:v,setNodes:w,hasDefaultNodes:T,onNodesChange:N}=t.getState(),b=v(),S=typeof g=="function"?g(b):g;if(T)w(S);else if(N){const x=S.length===0?b.map(O=>({type:"remove",id:O.id})):S.map(O=>({item:O,type:"reset"}));N(x)}},[]),c=k.useCallback(g=>{const{edges:v=[],setEdges:w,hasDefaultEdges:T,onEdgesChange:N}=t.getState(),b=typeof g=="function"?g(v):g;if(T)w(b);else if(N){const S=b.length===0?v.map(x=>({type:"remove",id:x.id})):b.map(x=>({item:x,type:"reset"}));N(S)}},[]),l=k.useCallback(g=>{const v=Array.isArray(g)?g:[g],{getNodes:w,setNodes:T,hasDefaultNodes:N,onNodesChange:b}=t.getState();if(N){const x=[...w(),...v];T(x)}else if(b){const S=v.map(x=>({item:x,type:"add"}));b(S)}},[]),u=k.useCallback(g=>{const v=Array.isArray(g)?g:[g],{edges:w=[],setEdges:T,hasDefaultEdges:N,onEdgesChange:b}=t.getState();if(N)T([...w,...v]);else if(b){const S=v.map(x=>({item:x,type:"add"}));b(S)}},[]),a=k.useCallback(()=>{const{getNodes:g,edges:v=[],transform:w}=t.getState(),[T,N,b]=w;return{nodes:g().map(S=>({...S})),edges:v.map(S=>({...S})),viewport:{x:T,y:N,zoom:b}}},[]),d=k.useCallback(({nodes:g,edges:v})=>{const{nodeInternals:w,getNodes:T,edges:N,hasDefaultNodes:b,hasDefaultEdges:S,onNodesDelete:x,onEdgesDelete:O,onNodesChange:M,onEdgesChange:U}=t.getState(),z=(g||[]).map(J=>J.id),Q=(v||[]).map(J=>J.id),ee=T().reduce((J,K)=>{const te=K.parentNode||K.parentId,G=!z.includes(K.id)&&te&&J.find(W=>W.id===te);return(typeof K.deletable=="boolean"?K.deletable:!0)&&(z.includes(K.id)||G)&&J.push(K),J},[]),X=N.filter(J=>typeof J.deletable=="boolean"?J.deletable:!0),F=X.filter(J=>Q.includes(J.id));if(ee||F){const J=wM(ee,X),K=[...F,...J],te=K.reduce((G,H)=>(G.includes(H.id)||G.push(H.id),G),[]);if((S||b)&&(S&&t.setState({edges:N.filter(G=>!te.includes(G.id))}),b&&(ee.forEach(G=>{w.delete(G.id)}),t.setState({nodeInternals:new Map(w)}))),te.length>0&&(O==null||O(K),U&&U(te.map(G=>({id:G,type:"remove"})))),ee.length>0&&(x==null||x(ee),M)){const G=ee.map(H=>({id:H.id,type:"remove"}));M(G)}}},[]),h=k.useCallback(g=>{const v=eK(g),w=v?null:t.getState().nodeInternals.get(g.id);return!v&&!w?[null,null,v]:[v?g:rS(w),w,v]},[]),m=k.useCallback((g,v=!0,w)=>{const[T,N,b]=h(g);return T?(w||t.getState().getNodes()).filter(S=>{if(!b&&(S.id===N.id||!S.positionAbsolute))return!1;const x=rS(S),O=bE(x,T);return v&&O>0||O>=T.width*T.height}):[]},[]),y=k.useCallback((g,v,w=!0)=>{const[T]=h(g);if(!T)return!1;const N=bE(T,v);return w&&N>0||N>=T.width*T.height},[]);return k.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:s,setEdges:c,addNodes:l,addEdges:u,toObject:a,deleteElements:d,getIntersectingNodes:m,isNodeIntersecting:y}),[e,n,r,i,o,s,c,l,u,a,d,m,y])}const LK={actInsideInputWithModifier:!1};var DK=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Rn(),{deleteElements:r}=I1(),i=pf(e,LK),o=pf(t);k.useEffect(()=>{if(i){const{edges:s,getNodes:c}=n.getState(),l=c().filter(a=>a.selected),u=s.filter(a=>a.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),k.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function FK(e){const t=Rn();k.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const i=w1(e.current);(i.height===0||i.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",No.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const C1={position:"absolute",width:"100%",height:"100%",top:0,left:0},UK=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Oh=e=>({x:e.x,y:e.y,zoom:e.k}),xu=(e,t)=>e.target.closest(`.${t}`),hS=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),pS=e=>{const t=e.ctrlKey&&Up()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},BK=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),$K=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:c=.5,panOnScrollMode:l=fa.Free,zoomOnDoubleClick:u=!0,elementsSelectable:a,panOnDrag:d=!0,defaultViewport:h,translateExtent:m,minZoom:y,maxZoom:g,zoomActivationKeyCode:v,preventScrolling:w=!0,children:T,noWheelClassName:N,noPanClassName:b})=>{const S=k.useRef(),x=Rn(),O=k.useRef(!1),M=k.useRef(!1),U=k.useRef(null),z=k.useRef({x:0,y:0,zoom:0}),{d3Zoom:Q,d3Selection:ee,d3ZoomHandler:X,userSelectionActive:F}=Wt(BK,jn),J=pf(v),K=k.useRef(0),te=k.useRef(!1),G=k.useRef();return FK(U),k.useEffect(()=>{if(U.current){const H=U.current.getBoundingClientRect(),W=HQ().scaleExtent([y,g]).translateExtent(m),V=ii(U.current).call(W),C=hs.translate(h.x,h.y).scale(ul(h.zoom,y,g)),L=[[0,0],[H.width,H.height]],I=W.constrain()(C,L,m);W.transform(V,I),W.wheelDelta(pS),x.setState({d3Zoom:W,d3Selection:V,d3ZoomHandler:V.on("wheel.zoom"),transform:[I.x,I.y,I.k],domNode:U.current.closest(".react-flow")})}},[]),k.useEffect(()=>{ee&&Q&&(s&&!J&&!F?ee.on("wheel.zoom",H=>{if(xu(H,N))return!1;H.preventDefault(),H.stopImmediatePropagation();const W=ee.property("__zoom").k||1;if(H.ctrlKey&&o){const q=Oi(H),se=pS(H),ge=W*Math.pow(2,se);Q.scaleTo(ee,ge,q,H);return}const V=H.deltaMode===1?20:1;let C=l===fa.Vertical?0:H.deltaX*V,L=l===fa.Horizontal?0:H.deltaY*V;!Up()&&H.shiftKey&&l!==fa.Vertical&&(C=H.deltaY*V,L=0),Q.translateBy(ee,-(C/W)*c,-(L/W)*c,{internal:!0});const I=Oh(ee.property("__zoom")),{onViewportChangeStart:j,onViewportChange:$,onViewportChangeEnd:oe}=x.getState();clearTimeout(G.current),te.current||(te.current=!0,t==null||t(H,I),j==null||j(I)),te.current&&(e==null||e(H,I),$==null||$(I),G.current=setTimeout(()=>{n==null||n(H,I),oe==null||oe(I),te.current=!1},150))},{passive:!1}):typeof X<"u"&&ee.on("wheel.zoom",function(H,W){if(!w&&H.type==="wheel"&&!H.ctrlKey||xu(H,N))return null;H.preventDefault(),X.call(this,H,W)},{passive:!1}))},[F,s,l,ee,Q,X,J,o,w,N,t,e,n]),k.useEffect(()=>{Q&&Q.on("start",H=>{var C,L;if(!H.sourceEvent||H.sourceEvent.internal)return null;K.current=(C=H.sourceEvent)==null?void 0:C.button;const{onViewportChangeStart:W}=x.getState(),V=Oh(H.transform);O.current=!0,z.current=V,((L=H.sourceEvent)==null?void 0:L.type)==="mousedown"&&x.setState({paneDragging:!0}),W==null||W(V),t==null||t(H.sourceEvent,V)})},[Q,t]),k.useEffect(()=>{Q&&(F&&!O.current?Q.on("zoom",null):F||Q.on("zoom",H=>{var V;const{onViewportChange:W}=x.getState();if(x.setState({transform:[H.transform.x,H.transform.y,H.transform.k]}),M.current=!!(r&&hS(d,K.current??0)),(e||W)&&!((V=H.sourceEvent)!=null&&V.internal)){const C=Oh(H.transform);W==null||W(C),e==null||e(H.sourceEvent,C)}}))},[F,Q,e,d,r]),k.useEffect(()=>{Q&&Q.on("end",H=>{if(!H.sourceEvent||H.sourceEvent.internal)return null;const{onViewportChangeEnd:W}=x.getState();if(O.current=!1,x.setState({paneDragging:!1}),r&&hS(d,K.current??0)&&!M.current&&r(H.sourceEvent),M.current=!1,(n||W)&&UK(z.current,H.transform)){const V=Oh(H.transform);z.current=V,clearTimeout(S.current),S.current=setTimeout(()=>{W==null||W(V),n==null||n(H.sourceEvent,V)},s?150:0)}})},[Q,s,d,n,r]),k.useEffect(()=>{Q&&Q.filter(H=>{const W=J||i,V=o&&H.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&H.button===1&&H.type==="mousedown"&&(xu(H,"react-flow__node")||xu(H,"react-flow__edge")))return!0;if(!d&&!W&&!s&&!u&&!o||F||!u&&H.type==="dblclick"||xu(H,N)&&H.type==="wheel"||xu(H,b)&&(H.type!=="wheel"||s&&H.type==="wheel"&&!J)||!o&&H.ctrlKey&&H.type==="wheel"||!W&&!s&&!V&&H.type==="wheel"||!d&&(H.type==="mousedown"||H.type==="touchstart")||Array.isArray(d)&&!d.includes(H.button)&&H.type==="mousedown")return!1;const C=Array.isArray(d)&&d.includes(H.button)||!H.button||H.button<=1;return(!H.ctrlKey||H.type==="wheel")&&C})},[F,Q,i,o,s,u,d,a,J]),fe.createElement("div",{className:"react-flow__renderer",ref:U,style:C1},T)},VK=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function jK(){const{userSelectionActive:e,userSelectionRect:t}=Wt(VK,jn);return e&&t?fe.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function mS(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(i>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),o>0&&(r.style.height+=o),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function zK(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const o=e.filter(c=>c.id===i.id);if(o.length===0)return r.push(i),r;const s={...i};for(const c of o)if(c)switch(c.type){case"select":{s.selected=c.selected;break}case"position":{typeof c.position<"u"&&(s.position=c.position),typeof c.positionAbsolute<"u"&&(s.positionAbsolute=c.positionAbsolute),typeof c.dragging<"u"&&(s.dragging=c.dragging),s.expandParent&&mS(r,s);break}case"dimensions":{typeof c.dimensions<"u"&&(s.width=c.dimensions.width,s.height=c.dimensions.height),typeof c.updateStyle<"u"&&(s.style={...s.style||{},...c.dimensions}),typeof c.resizing=="boolean"&&(s.resizing=c.resizing),s.expandParent&&mS(r,s);break}case"remove":return r}return r.push(s),r},n)}function qK(e,t){return zK(e,t)}const ss=(e,t)=>({id:e,type:"select",selected:t});function Lu(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(ss(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(ss(r.id,!1))),n},[])}const Q0=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},WK=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),FM=k.memo(({isSelecting:e,selectionMode:t=hf.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:c,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:a,children:d})=>{const h=k.useRef(null),m=Rn(),y=k.useRef(0),g=k.useRef(0),v=k.useRef(),{userSelectionActive:w,elementsSelectable:T,dragging:N}=Wt(WK,jn),b=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,g.current=0},S=X=>{o==null||o(X),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},x=X=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){X.preventDefault();return}s==null||s(X)},O=c?X=>c(X):void 0,M=X=>{const{resetSelectedElements:F,domNode:J}=m.getState();if(v.current=J==null?void 0:J.getBoundingClientRect(),!T||!e||X.button!==0||X.target!==h.current||!v.current)return;const{x:K,y:te}=ps(X,v.current);F(),m.setState({userSelectionRect:{width:0,height:0,startX:K,startY:te,x:K,y:te}}),r==null||r(X)},U=X=>{const{userSelectionRect:F,nodeInternals:J,edges:K,transform:te,onNodesChange:G,onEdgesChange:H,nodeOrigin:W,getNodes:V}=m.getState();if(!e||!v.current||!F)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const C=ps(X,v.current),L=F.startX??0,I=F.startY??0,j={...F,x:C.x<L?C.x:L,y:C.y<I?C.y:I,width:Math.abs(C.x-L),height:Math.abs(C.y-I)},$=V(),oe=EM(J,j,te,t===hf.Partial,!0,W),q=wM(oe,K).map(ge=>ge.id),se=oe.map(ge=>ge.id);if(y.current!==se.length){y.current=se.length;const ge=Lu($,se);ge.length&&(G==null||G(ge))}if(g.current!==q.length){g.current=q.length;const ge=Lu(K,q);ge.length&&(H==null||H(ge))}m.setState({userSelectionRect:j})},z=X=>{if(X.button!==0)return;const{userSelectionRect:F}=m.getState();!w&&F&&X.target===h.current&&(S==null||S(X)),m.setState({nodesSelectionActive:y.current>0}),b(),i==null||i(X)},Q=X=>{w&&(m.setState({nodesSelectionActive:y.current>0}),i==null||i(X)),b()},ee=T&&(e||w);return fe.createElement("div",{className:Jn(["react-flow__pane",{dragging:N,selection:e}]),onClick:ee?void 0:Q0(S,h),onContextMenu:Q0(x,h),onWheel:Q0(O,h),onMouseEnter:ee?void 0:l,onMouseDown:ee?M:void 0,onMouseMove:ee?U:u,onMouseUp:ee?z:void 0,onMouseLeave:ee?Q:a,ref:h,style:C1},d,fe.createElement(jK,null))});FM.displayName="Pane";function UM(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:UM(r,t):!1}function gS(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function HK(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!UM(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var o,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function GK(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function BM(e,t,n,r,i=[0,0],o){const s=GK(e,e.extent||r);let c=s;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const d=n.get(l),{x:h,y:m}=Yu(d,i).positionAbsolute;c=d&&Dr(h)&&Dr(m)&&Dr(d.width)&&Dr(d.height)?[[h+e.width*i[0],m+e.height*i[1]],[h+d.width-e.width+e.width*i[0],m+d.height-e.height+e.height*i[1]]]:c}else o==null||o("005",No.error005()),c=s;else if(e.extent&&l&&e.extent!=="parent"){const d=n.get(l),{x:h,y:m}=Yu(d,i).positionAbsolute;c=[[e.extent[0][0]+h,e.extent[0][1]+m],[e.extent[1][0]+h,e.extent[1][1]+m]]}let u={x:0,y:0};if(l){const d=n.get(l);u=Yu(d,i).positionAbsolute}const a=c&&c!=="parent"?T1(t,c):t;return{position:{x:a.x-u.x,y:a.y-u.y},positionAbsolute:a}}function K0({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const vS=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const o=Array.from(i),s=t.getBoundingClientRect(),c={x:s.width*r[0],y:s.height*r[1]};return o.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-s.left-c.x)/n,y:(u.top-s.top-c.y)/n,...w1(l)}})};function Ec(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function IE({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:c,onError:l}=t.getState(),u=c.get(e);if(!u){l==null||l("012",No.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var a;return(a=r==null?void 0:r.current)==null?void 0:a.blur()})):i([e])}function YK(){const e=Rn();return k.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,c=n.touches?n.touches[0].clientY:n.clientY,l={x:(s-r[0])/r[2],y:(c-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:o?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function X0(e){return(t,n,r)=>e==null?void 0:e(t,r)}function $M({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:s}){const c=Rn(),[l,u]=k.useState(!1),a=k.useRef([]),d=k.useRef({x:null,y:null}),h=k.useRef(0),m=k.useRef(null),y=k.useRef({x:0,y:0}),g=k.useRef(null),v=k.useRef(!1),w=k.useRef(!1),T=k.useRef(!1),N=YK();return k.useEffect(()=>{if(e!=null&&e.current){const b=ii(e.current),S=({x:M,y:U})=>{const{nodeInternals:z,onNodeDrag:Q,onSelectionDrag:ee,updateNodePositions:X,nodeExtent:F,snapGrid:J,snapToGrid:K,nodeOrigin:te,onError:G}=c.getState();d.current={x:M,y:U};let H=!1,W={x:0,y:0,x2:0,y2:0};if(a.current.length>1&&F){const C=S1(a.current,te);W=_1(C)}if(a.current=a.current.map(C=>{const L={x:M-C.distance.x,y:U-C.distance.y};K&&(L.x=J[0]*Math.round(L.x/J[0]),L.y=J[1]*Math.round(L.y/J[1]));const I=[[F[0][0],F[0][1]],[F[1][0],F[1][1]]];a.current.length>1&&F&&!C.extent&&(I[0][0]=C.positionAbsolute.x-W.x+F[0][0],I[1][0]=C.positionAbsolute.x+(C.width??0)-W.x2+F[1][0],I[0][1]=C.positionAbsolute.y-W.y+F[0][1],I[1][1]=C.positionAbsolute.y+(C.height??0)-W.y2+F[1][1]);const j=BM(C,L,z,I,te,G);return H=H||C.position.x!==j.position.x||C.position.y!==j.position.y,C.position=j.position,C.positionAbsolute=j.positionAbsolute,C}),!H)return;X(a.current,!0,!0),u(!0);const V=i?Q:X0(ee);if(V&&g.current){const[C,L]=K0({nodeId:i,dragItems:a.current,nodeInternals:z});V(g.current,C,L)}},x=()=>{if(!m.current)return;const[M,U]=cM(y.current,m.current);if(M!==0||U!==0){const{transform:z,panBy:Q}=c.getState();d.current.x=(d.current.x??0)-M/z[2],d.current.y=(d.current.y??0)-U/z[2],Q({x:M,y:U})&&S(d.current)}h.current=requestAnimationFrame(x)},O=M=>{var te;const{nodeInternals:U,multiSelectionActive:z,nodesDraggable:Q,unselectNodesAndEdges:ee,onNodeDragStart:X,onSelectionDragStart:F}=c.getState();w.current=!0;const J=i?X:X0(F);(!s||!o)&&!z&&i&&((te=U.get(i))!=null&&te.selected||ee()),i&&o&&s&&IE({id:i,store:c,nodeRef:e});const K=N(M);if(d.current=K,a.current=HK(U,Q,K,i),J&&a.current){const[G,H]=K0({nodeId:i,dragItems:a.current,nodeInternals:U});J(M.sourceEvent,G,H)}};if(t)b.on(".drag",null);else{const M=nY().on("start",U=>{const{domNode:z,nodeDragThreshold:Q}=c.getState();Q===0&&O(U),T.current=!1;const ee=N(U);d.current=ee,m.current=(z==null?void 0:z.getBoundingClientRect())||null,y.current=ps(U.sourceEvent,m.current)}).on("drag",U=>{var X,F;const z=N(U),{autoPanOnNodeDrag:Q,nodeDragThreshold:ee}=c.getState();if(U.sourceEvent.type==="touchmove"&&U.sourceEvent.touches.length>1&&(T.current=!0),!T.current){if(!v.current&&w.current&&Q&&(v.current=!0,x()),!w.current){const J=z.xSnapped-(((X=d==null?void 0:d.current)==null?void 0:X.x)??0),K=z.ySnapped-(((F=d==null?void 0:d.current)==null?void 0:F.y)??0);Math.sqrt(J*J+K*K)>ee&&O(U)}(d.current.x!==z.xSnapped||d.current.y!==z.ySnapped)&&a.current&&w.current&&(g.current=U.sourceEvent,y.current=ps(U.sourceEvent,m.current),S(z))}}).on("end",U=>{if(!(!w.current||T.current)&&(u(!1),v.current=!1,w.current=!1,cancelAnimationFrame(h.current),a.current)){const{updateNodePositions:z,nodeInternals:Q,onNodeDragStop:ee,onSelectionDragStop:X}=c.getState(),F=i?ee:X0(X);if(z(a.current,!1,!1),F){const[J,K]=K0({nodeId:i,dragItems:a.current,nodeInternals:Q});F(U.sourceEvent,J,K)}}}).filter(U=>{const z=U.target;return!U.button&&(!n||!gS(z,`.${n}`,e))&&(!r||gS(z,r,e))});return b.call(M),()=>{b.on(".drag",null)}}}},[e,t,n,r,o,c,i,s,N]),l}function VM(){const e=Rn();return k.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:s,snapToGrid:c,snapGrid:l,onError:u,nodesDraggable:a}=e.getState(),d=s().filter(T=>T.selected&&(T.draggable||a&&typeof T.draggable>"u")),h=c?l[0]:5,m=c?l[1]:5,y=n.isShiftPressed?4:1,g=n.x*h*y,v=n.y*m*y,w=d.map(T=>{if(T.positionAbsolute){const N={x:T.positionAbsolute.x+g,y:T.positionAbsolute.y+v};c&&(N.x=l[0]*Math.round(N.x/l[0]),N.y=l[1]*Math.round(N.y/l[1]));const{positionAbsolute:b,position:S}=BM(T,N,r,i,void 0,u);T.position=S,T.positionAbsolute=b}return T});o(w,!0,!1)},[])}const Qu={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var wc=e=>{const t=({id:n,type:r,data:i,xPos:o,yPos:s,xPosOrigin:c,yPosOrigin:l,selected:u,onClick:a,onMouseEnter:d,onMouseMove:h,onMouseLeave:m,onContextMenu:y,onDoubleClick:g,style:v,className:w,isDraggable:T,isSelectable:N,isConnectable:b,isFocusable:S,selectNodesOnDrag:x,sourcePosition:O,targetPosition:M,hidden:U,resizeObserver:z,dragHandle:Q,zIndex:ee,isParent:X,noDragClassName:F,noPanClassName:J,initialized:K,disableKeyboardA11y:te,ariaLabel:G,rfId:H,hasHandleBounds:W})=>{const V=Rn(),C=k.useRef(null),L=k.useRef(null),I=k.useRef(O),j=k.useRef(M),$=k.useRef(r),oe=N||T||a||d||h||m,q=VM(),se=Ec(n,V.getState,d),ge=Ec(n,V.getState,h),we=Ec(n,V.getState,m),be=Ec(n,V.getState,y),Re=Ec(n,V.getState,g),Qe=Xe=>{const{nodeDragThreshold:xe}=V.getState();if(N&&(!x||!T||xe>0)&&IE({id:n,store:V,nodeRef:C}),a){const Me=V.getState().nodeInternals.get(n);Me&&a(Xe,{...Me})}},ze=Xe=>{if(!xE(Xe)&&!te)if(dM.includes(Xe.key)&&N){const xe=Xe.key==="Escape";IE({id:n,store:V,unselect:xe,nodeRef:C})}else T&&u&&Object.prototype.hasOwnProperty.call(Qu,Xe.key)&&(V.setState({ariaLiveMessage:`Moved selected node ${Xe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),q({x:Qu[Xe.key].x,y:Qu[Xe.key].y,isShiftPressed:Xe.shiftKey}))};k.useEffect(()=>()=>{L.current&&(z==null||z.unobserve(L.current),L.current=null)},[]),k.useEffect(()=>{if(C.current&&!U){const Xe=C.current;(!K||!W||L.current!==Xe)&&(L.current&&(z==null||z.unobserve(L.current)),z==null||z.observe(Xe),L.current=Xe)}},[U,K,W]),k.useEffect(()=>{const Xe=$.current!==r,xe=I.current!==O,Me=j.current!==M;C.current&&(Xe||xe||Me)&&(Xe&&($.current=r),xe&&(I.current=O),Me&&(j.current=M),V.getState().updateNodeDimensions([{id:n,nodeElement:C.current,forceUpdate:!0}]))},[n,r,O,M]);const Rt=$M({nodeRef:C,disabled:U||!T,noDragClassName:F,handleSelector:Q,nodeId:n,isSelectable:N,selectNodesOnDrag:x});return U?null:fe.createElement("div",{className:Jn(["react-flow__node",`react-flow__node-${r}`,{[J]:T},w,{selected:u,selectable:N,parent:X,dragging:Rt}]),ref:C,style:{zIndex:ee,transform:`translate(${c}px,${l}px)`,pointerEvents:oe?"all":"none",visibility:K?"visible":"hidden",...v},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:se,onMouseMove:ge,onMouseLeave:we,onContextMenu:be,onClick:Qe,onDoubleClick:Re,onKeyDown:S?ze:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":te?void 0:`${kM}-${H}`,"aria-label":G},fe.createElement(aK,{value:n},fe.createElement(e,{id:n,data:i,type:r,xPos:o,yPos:s,selected:u,isConnectable:b,sourcePosition:O,targetPosition:M,dragging:Rt,dragHandle:Q,zIndex:ee})))};return t.displayName="NodeWrapper",k.memo(t)};const QK=e=>{const t=e.getNodes().filter(n=>n.selected);return{...S1(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function KK({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Rn(),{width:i,height:o,x:s,y:c,transformString:l,userSelectionActive:u}=Wt(QK,jn),a=VM(),d=k.useRef(null);if(k.useEffect(()=>{var y;n||(y=d.current)==null||y.focus({preventScroll:!0})},[n]),$M({nodeRef:d}),u||!i||!o)return null;const h=e?y=>{const g=r.getState().getNodes().filter(v=>v.selected);e(y,g)}:void 0,m=y=>{Object.prototype.hasOwnProperty.call(Qu,y.key)&&a({x:Qu[y.key].x,y:Qu[y.key].y,isShiftPressed:y.shiftKey})};return fe.createElement("div",{className:Jn(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},fe.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:i,height:o,top:c,left:s}}))}var XK=k.memo(KK);const JK=e=>e.nodesSelectionActive,jM=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:c,onMove:l,onMoveStart:u,onMoveEnd:a,selectionKeyCode:d,selectionOnDrag:h,selectionMode:m,onSelectionStart:y,onSelectionEnd:g,multiSelectionKeyCode:v,panActivationKeyCode:w,zoomActivationKeyCode:T,elementsSelectable:N,zoomOnScroll:b,zoomOnPinch:S,panOnScroll:x,panOnScrollSpeed:O,panOnScrollMode:M,zoomOnDoubleClick:U,panOnDrag:z,defaultViewport:Q,translateExtent:ee,minZoom:X,maxZoom:F,preventScrolling:J,onSelectionContextMenu:K,noWheelClassName:te,noPanClassName:G,disableKeyboardA11y:H})=>{const W=Wt(JK),V=pf(d),C=pf(w),L=C||z,I=C||x,j=V||h&&L!==!0;return DK({deleteKeyCode:c,multiSelectionKeyCode:v}),fe.createElement($K,{onMove:l,onMoveStart:u,onMoveEnd:a,onPaneContextMenu:o,elementsSelectable:N,zoomOnScroll:b,zoomOnPinch:S,panOnScroll:I,panOnScrollSpeed:O,panOnScrollMode:M,zoomOnDoubleClick:U,panOnDrag:!V&&L,defaultViewport:Q,translateExtent:ee,minZoom:X,maxZoom:F,zoomActivationKeyCode:T,preventScrolling:J,noWheelClassName:te,noPanClassName:G},fe.createElement(FM,{onSelectionStart:y,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:L,isSelecting:!!j,selectionMode:m},e,W&&fe.createElement(XK,{onSelectionContextMenu:K,noPanClassName:G,disableKeyboardA11y:H})))};jM.displayName="FlowRenderer";var ZK=k.memo(jM);function eX(e){return Wt(k.useCallback(n=>e?EM(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function tX(e){const t={input:wc(e.input||AM),default:wc(e.default||OE),output:wc(e.output||IM),group:wc(e.group||O1)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=wc(e[o]||OE),i),n);return{...t,...r}}const nX=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},rX=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),zM=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:s}=Wt(rX,jn),c=eX(e.onlyRenderVisibleElements),l=k.useRef(),u=k.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const a=new ResizeObserver(d=>{const h=d.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));o(h)});return l.current=a,a},[]);return k.useEffect(()=>()=>{var a;(a=l==null?void 0:l.current)==null||a.disconnect()},[]),fe.createElement("div",{className:"react-flow__nodes",style:C1},c.map(a=>{var S,x,O;let d=a.type||"default";e.nodeTypes[d]||(s==null||s("003",No.error003(d)),d="default");const h=e.nodeTypes[d]||e.nodeTypes.default,m=!!(a.draggable||t&&typeof a.draggable>"u"),y=!!(a.selectable||i&&typeof a.selectable>"u"),g=!!(a.connectable||n&&typeof a.connectable>"u"),v=!!(a.focusable||r&&typeof a.focusable>"u"),w=e.nodeExtent?T1(a.positionAbsolute,e.nodeExtent):a.positionAbsolute,T=(w==null?void 0:w.x)??0,N=(w==null?void 0:w.y)??0,b=nX({x:T,y:N,width:a.width??0,height:a.height??0,origin:e.nodeOrigin});return fe.createElement(h,{key:a.id,id:a.id,className:a.className,style:a.style,type:d,data:a.data,sourcePosition:a.sourcePosition||Ve.Bottom,targetPosition:a.targetPosition||Ve.Top,hidden:a.hidden,xPos:T,yPos:N,xPosOrigin:b.x,yPosOrigin:b.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!a.selected,isDraggable:m,isSelectable:y,isConnectable:g,isFocusable:v,resizeObserver:u,dragHandle:a.dragHandle,zIndex:((S=a[Xt])==null?void 0:S.z)??0,isParent:!!((x=a[Xt])!=null&&x.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!a.width&&!!a.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:a.ariaLabel,hasHandleBounds:!!((O=a[Xt])!=null&&O.handleBounds)})}))};zM.displayName="NodeRenderer";var iX=k.memo(zM);const oX=(e,t,n)=>n===Ve.Left?e-t:n===Ve.Right?e+t:e,sX=(e,t,n)=>n===Ve.Top?e-t:n===Ve.Bottom?e+t:e,yS="react-flow__edgeupdater",ES=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:c})=>fe.createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:Jn([yS,`${yS}-${c}`]),cx:oX(t,r,e),cy:sX(n,r,e),r,stroke:"transparent",fill:"transparent"}),aX=()=>!0;var Ru=e=>{const t=({id:n,className:r,type:i,data:o,onClick:s,onEdgeDoubleClick:c,selected:l,animated:u,label:a,labelStyle:d,labelShowBg:h,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:g,style:v,source:w,target:T,sourceX:N,sourceY:b,targetX:S,targetY:x,sourcePosition:O,targetPosition:M,elementsSelectable:U,hidden:z,sourceHandleId:Q,targetHandleId:ee,onContextMenu:X,onMouseEnter:F,onMouseMove:J,onMouseLeave:K,reconnectRadius:te,onReconnect:G,onReconnectStart:H,onReconnectEnd:W,markerEnd:V,markerStart:C,rfId:L,ariaLabel:I,isFocusable:j,isReconnectable:$,pathOptions:oe,interactionWidth:q,disableKeyboardA11y:se})=>{const ge=k.useRef(null),[we,be]=k.useState(!1),[Re,Qe]=k.useState(!1),ze=Rn(),Rt=k.useMemo(()=>`url('#${SE(C,L)}')`,[C,L]),Xe=k.useMemo(()=>`url('#${SE(V,L)}')`,[V,L]);if(z)return null;const xe=Je=>{var dn;const{edges:Ke,addSelectedEdges:nt,unselectNodesAndEdges:Ut,multiSelectionActive:Rr}=ze.getState(),Sn=Ke.find(Sr=>Sr.id===n);Sn&&(U&&(ze.setState({nodesSelectionActive:!1}),Sn.selected&&Rr?(Ut({nodes:[],edges:[Sn]}),(dn=ge.current)==null||dn.blur()):nt([n])),s&&s(Je,Sn))},Me=yc(n,ze.getState,c),it=yc(n,ze.getState,X),gt=yc(n,ze.getState,F),Ze=yc(n,ze.getState,J),ye=yc(n,ze.getState,K),ne=(Je,Ke)=>{if(Je.button!==0)return;const{edges:nt,isValidConnection:Ut}=ze.getState(),Rr=Ke?T:w,Sn=(Ke?ee:Q)||null,dn=Ke?"target":"source",Sr=Ut||aX,Ni=Ke,qr=nt.find(Ht=>Ht.id===n);Qe(!0),H==null||H(Je,qr,dn);const Se=Ht=>{Qe(!1),W==null||W(Ht,qr,dn)};bM({event:Je,handleId:Sn,nodeId:Rr,onConnect:Ht=>G==null?void 0:G(qr,Ht),isTarget:Ni,getState:ze.getState,setState:ze.setState,isValidConnection:Sr,edgeUpdaterType:dn,onReconnectEnd:Se})},le=Je=>ne(Je,!0),de=Je=>ne(Je,!1),he=()=>be(!0),ke=()=>be(!1),rt=!U&&!s,at=Je=>{var Ke;if(!se&&dM.includes(Je.key)&&U){const{unselectNodesAndEdges:nt,addSelectedEdges:Ut,edges:Rr}=ze.getState();Je.key==="Escape"?((Ke=ge.current)==null||Ke.blur(),nt({edges:[Rr.find(dn=>dn.id===n)]})):Ut([n])}};return fe.createElement("g",{className:Jn(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:u,inactive:rt,updating:we}]),onClick:xe,onDoubleClick:Me,onContextMenu:it,onMouseEnter:gt,onMouseMove:Ze,onMouseLeave:ye,onKeyDown:j?at:void 0,tabIndex:j?0:void 0,role:j?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":I===null?void 0:I||`Edge from ${w} to ${T}`,"aria-describedby":j?`${MM}-${L}`:void 0,ref:ge},!Re&&fe.createElement(e,{id:n,source:w,target:T,selected:l,animated:u,label:a,labelStyle:d,labelShowBg:h,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:g,data:o,style:v,sourceX:N,sourceY:b,targetX:S,targetY:x,sourcePosition:O,targetPosition:M,sourceHandleId:Q,targetHandleId:ee,markerStart:Rt,markerEnd:Xe,pathOptions:oe,interactionWidth:q}),$&&fe.createElement(fe.Fragment,null,($==="source"||$===!0)&&fe.createElement(ES,{position:O,centerX:N,centerY:b,radius:te,onMouseDown:le,onMouseEnter:he,onMouseOut:ke,type:"source"}),($==="target"||$===!0)&&fe.createElement(ES,{position:M,centerX:S,centerY:x,radius:te,onMouseDown:de,onMouseEnter:he,onMouseOut:ke,type:"target"})))};return t.displayName="EdgeWrapper",k.memo(t)};function uX(e){const t={default:Ru(e.default||$p),straight:Ru(e.bezier||x1),step:Ru(e.step||b1),smoothstep:Ru(e.step||Im),simplebezier:Ru(e.simplebezier||N1)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=Ru(e[o]||$p),i),n);return{...t,...r}}function wS(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case Ve.Top:return{x:r+o/2,y:i};case Ve.Right:return{x:r+o,y:i+s/2};case Ve.Bottom:return{x:r+o/2,y:i+s};case Ve.Left:return{x:r,y:i+s/2}}}function TS(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const lX=(e,t,n,r,i,o)=>{const s=wS(n,e,t),c=wS(o,r,i);return{sourceX:s.x,sourceY:s.y,targetX:c.x,targetY:c.y}};function cX({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:s,height:c,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const a=_1({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:c/l[2]}),d=Math.max(0,Math.min(a.x2,u.x2)-Math.max(a.x,u.x)),h=Math.max(0,Math.min(a.y2,u.y2)-Math.max(a.y,u.y));return Math.ceil(d*h)>0}function _S(e){var r,i,o,s,c;const t=((r=e==null?void 0:e[Xt])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((c=e==null?void 0:e.positionAbsolute)==null?void 0:c.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const fX=[{level:0,isMaxLevel:!0,edges:[]}];function dX(e,t,n=!1){let r=-1;const i=e.reduce((s,c)=>{var a,d;const l=Dr(c.zIndex);let u=l?c.zIndex:0;if(n){const h=t.get(c.target),m=t.get(c.source),y=c.selected||(h==null?void 0:h.selected)||(m==null?void 0:m.selected),g=Math.max(((a=m==null?void 0:m[Xt])==null?void 0:a.z)||0,((d=h==null?void 0:h[Xt])==null?void 0:d.z)||0,1e3);u=(l?c.zIndex:0)+(y?g:0)}return s[u]?s[u].push(c):s[u]=[c],r=u>r?u:r,s},{}),o=Object.entries(i).map(([s,c])=>{const l=+s;return{edges:c,level:l,isMaxLevel:l===r}});return o.length===0?fX:o}function hX(e,t,n){const r=Wt(k.useCallback(i=>e?i.edges.filter(o=>{const s=t.get(o.source),c=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(c==null?void 0:c.width)&&(c==null?void 0:c.height)&&cX({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:c.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:c.width,targetHeight:c.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return dX(r,t,n)}const pX=({color:e="none",strokeWidth:t=1})=>fe.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),mX=({color:e="none",strokeWidth:t=1})=>fe.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),NS={[Bp.Arrow]:pX,[Bp.ArrowClosed]:mX};function gX(e){const t=Rn();return k.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(NS,e)?NS[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",No.error009(e)),null)},[e])}const vX=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:c="auto-start-reverse"})=>{const l=gX(t);return l?fe.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:c,refX:"0",refY:"0"},fe.createElement(l,{color:n,strokeWidth:s})):null},yX=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const c=SE(s,t);r.includes(c)||(i.push({id:c,color:s.color||e,...s}),r.push(c))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},qM=({defaultColor:e,rfId:t})=>{const n=Wt(k.useCallback(yX({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((o,s)=>o.id!==i[s].id)));return fe.createElement("defs",null,n.map(r=>fe.createElement(vX,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};qM.displayName="MarkerDefinitions";var EX=k.memo(qM);const wX=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),WM=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:c,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:a,onEdgeDoubleClick:d,onReconnect:h,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:g,children:v,disableKeyboardA11y:w})=>{const{edgesFocusable:T,edgesUpdatable:N,elementsSelectable:b,width:S,height:x,connectionMode:O,nodeInternals:M,onError:U}=Wt(wX,jn),z=hX(t,M,n);return S?fe.createElement(fe.Fragment,null,z.map(({level:Q,edges:ee,isMaxLevel:X})=>fe.createElement("svg",{key:Q,style:{zIndex:Q},width:S,height:x,className:"react-flow__edges react-flow__container"},X&&fe.createElement(EX,{defaultColor:e,rfId:r}),fe.createElement("g",null,ee.map(F=>{const[J,K,te]=_S(M.get(F.source)),[G,H,W]=_S(M.get(F.target));if(!te||!W)return null;let V=F.type||"default";i[V]||(U==null||U("011",No.error011(V)),V="default");const C=i[V]||i.default,L=O===Sa.Strict?H.target:(H.target??[]).concat(H.source??[]),I=TS(K.source,F.sourceHandle),j=TS(L,F.targetHandle),$=(I==null?void 0:I.position)||Ve.Bottom,oe=(j==null?void 0:j.position)||Ve.Top,q=!!(F.focusable||T&&typeof F.focusable>"u"),se=F.reconnectable||F.updatable,ge=typeof h<"u"&&(se||N&&typeof se>"u");if(!I||!j)return U==null||U("008",No.error008(I,F)),null;const{sourceX:we,sourceY:be,targetX:Re,targetY:Qe}=lX(J,I,$,G,j,oe);return fe.createElement(C,{key:F.id,id:F.id,className:Jn([F.className,o]),type:V,data:F.data,selected:!!F.selected,animated:!!F.animated,hidden:!!F.hidden,label:F.label,labelStyle:F.labelStyle,labelShowBg:F.labelShowBg,labelBgStyle:F.labelBgStyle,labelBgPadding:F.labelBgPadding,labelBgBorderRadius:F.labelBgBorderRadius,style:F.style,source:F.source,target:F.target,sourceHandleId:F.sourceHandle,targetHandleId:F.targetHandle,markerEnd:F.markerEnd,markerStart:F.markerStart,sourceX:we,sourceY:be,targetX:Re,targetY:Qe,sourcePosition:$,targetPosition:oe,elementsSelectable:b,onContextMenu:s,onMouseEnter:c,onMouseMove:l,onMouseLeave:u,onClick:a,onEdgeDoubleClick:d,onReconnect:h,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:g,rfId:r,ariaLabel:F.ariaLabel,isFocusable:q,isReconnectable:ge,pathOptions:"pathOptions"in F?F.pathOptions:void 0,interactionWidth:F.interactionWidth,disableKeyboardA11y:w})})))),v):null};WM.displayName="EdgeRenderer";var TX=k.memo(WM);const _X=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function NX({children:e}){const t=Wt(_X);return fe.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function bX(e){const t=I1(),n=k.useRef(!1);k.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const xX={[Ve.Left]:Ve.Right,[Ve.Right]:Ve.Left,[Ve.Top]:Ve.Bottom,[Ve.Bottom]:Ve.Top},HM=({nodeId:e,handleType:t,style:n,type:r=ls.Bezier,CustomComponent:i,connectionStatus:o})=>{var x,O,M;const{fromNode:s,handleId:c,toX:l,toY:u,connectionMode:a}=Wt(k.useCallback(U=>({fromNode:U.nodeInternals.get(e),handleId:U.connectionHandleId,toX:(U.connectionPosition.x-U.transform[0])/U.transform[2],toY:(U.connectionPosition.y-U.transform[1])/U.transform[2],connectionMode:U.connectionMode}),[e]),jn),d=(x=s==null?void 0:s[Xt])==null?void 0:x.handleBounds;let h=d==null?void 0:d[t];if(a===Sa.Loose&&(h=h||(d==null?void 0:d[t==="source"?"target":"source"])),!s||!h)return null;const m=c?h.find(U=>U.id===c):h[0],y=m?m.x+m.width/2:(s.width??0)/2,g=m?m.y+m.height/2:s.height??0,v=(((O=s.positionAbsolute)==null?void 0:O.x)??0)+y,w=(((M=s.positionAbsolute)==null?void 0:M.y)??0)+g,T=m==null?void 0:m.position,N=T?xX[T]:null;if(!T||!N)return null;if(i)return fe.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:m,fromX:v,fromY:w,toX:l,toY:u,fromPosition:T,toPosition:N,connectionStatus:o});let b="";const S={sourceX:v,sourceY:w,sourcePosition:T,targetX:l,targetY:u,targetPosition:N};return r===ls.Bezier?[b]=vM(S):r===ls.Step?[b]=RE({...S,borderRadius:0}):r===ls.SmoothStep?[b]=RE(S):r===ls.SimpleBezier?[b]=gM(S):b=`M${v},${w} ${l},${u}`,fe.createElement("path",{d:b,fill:"none",className:"react-flow__connection-path",style:n})};HM.displayName="ConnectionLine";const RX=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function SX({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:s,width:c,height:l,connectionStatus:u}=Wt(RX,jn);return!(i&&o&&c&&s)?null:fe.createElement("svg",{style:e,width:c,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},fe.createElement("g",{className:Jn(["react-flow__connection",u])},fe.createElement(HM,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function bS(e,t){return k.useRef(null),Rn(),k.useMemo(()=>t(e),[e])}const GM=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:s,onEdgeClick:c,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:a,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:m,onSelectionContextMenu:y,onSelectionStart:g,onSelectionEnd:v,connectionLineType:w,connectionLineStyle:T,connectionLineComponent:N,connectionLineContainerStyle:b,selectionKeyCode:S,selectionOnDrag:x,selectionMode:O,multiSelectionKeyCode:M,panActivationKeyCode:U,zoomActivationKeyCode:z,deleteKeyCode:Q,onlyRenderVisibleElements:ee,elementsSelectable:X,selectNodesOnDrag:F,defaultViewport:J,translateExtent:K,minZoom:te,maxZoom:G,preventScrolling:H,defaultMarkerColor:W,zoomOnScroll:V,zoomOnPinch:C,panOnScroll:L,panOnScrollSpeed:I,panOnScrollMode:j,zoomOnDoubleClick:$,panOnDrag:oe,onPaneClick:q,onPaneMouseEnter:se,onPaneMouseMove:ge,onPaneMouseLeave:we,onPaneScroll:be,onPaneContextMenu:Re,onEdgeContextMenu:Qe,onEdgeMouseEnter:ze,onEdgeMouseMove:Rt,onEdgeMouseLeave:Xe,onReconnect:xe,onReconnectStart:Me,onReconnectEnd:it,reconnectRadius:gt,noDragClassName:Ze,noWheelClassName:ye,noPanClassName:ne,elevateEdgesOnSelect:le,disableKeyboardA11y:de,nodeOrigin:he,nodeExtent:ke,rfId:rt})=>{const at=bS(e,tX),Je=bS(t,uX);return bX(o),fe.createElement(ZK,{onPaneClick:q,onPaneMouseEnter:se,onPaneMouseMove:ge,onPaneMouseLeave:we,onPaneContextMenu:Re,onPaneScroll:be,deleteKeyCode:Q,selectionKeyCode:S,selectionOnDrag:x,selectionMode:O,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:M,panActivationKeyCode:U,zoomActivationKeyCode:z,elementsSelectable:X,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:V,zoomOnPinch:C,zoomOnDoubleClick:$,panOnScroll:L,panOnScrollSpeed:I,panOnScrollMode:j,panOnDrag:oe,defaultViewport:J,translateExtent:K,minZoom:te,maxZoom:G,onSelectionContextMenu:y,preventScrolling:H,noDragClassName:Ze,noWheelClassName:ye,noPanClassName:ne,disableKeyboardA11y:de},fe.createElement(NX,null,fe.createElement(TX,{edgeTypes:Je,onEdgeClick:c,onEdgeDoubleClick:u,onlyRenderVisibleElements:ee,onEdgeContextMenu:Qe,onEdgeMouseEnter:ze,onEdgeMouseMove:Rt,onEdgeMouseLeave:Xe,onReconnect:xe,onReconnectStart:Me,onReconnectEnd:it,reconnectRadius:gt,defaultMarkerColor:W,noPanClassName:ne,elevateEdgesOnSelect:!!le,disableKeyboardA11y:de,rfId:rt},fe.createElement(SX,{style:T,type:w,component:N,containerStyle:b})),fe.createElement("div",{className:"react-flow__edgelabel-renderer"}),fe.createElement(iX,{nodeTypes:at,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:a,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:m,selectNodesOnDrag:F,onlyRenderVisibleElements:ee,noPanClassName:ne,noDragClassName:Ze,disableKeyboardA11y:de,nodeOrigin:he,nodeExtent:ke,rfId:rt})))};GM.displayName="GraphView";var AX=k.memo(GM);const CE=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ko={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:CE,nodeExtent:CE,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Sa.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:tK,isValidConnection:void 0},OX=()=>pH((e,t)=>({...Ko,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:Y0(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",s=i?Y0(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:c,domNode:l,nodeOrigin:u}=t(),a=l==null?void 0:l.querySelector(".react-flow__viewport");if(!a)return;const d=window.getComputedStyle(a),{m22:h}=new window.DOMMatrixReadOnly(d.transform),m=n.reduce((g,v)=>{const w=i.get(v.id);if(w!=null&&w.hidden)i.set(w.id,{...w,[Xt]:{...w[Xt],handleBounds:void 0}});else if(w){const T=w1(v.nodeElement);!!(T.width&&T.height&&(w.width!==T.width||w.height!==T.height||v.forceUpdate))&&(i.set(w.id,{...w,[Xt]:{...w[Xt],handleBounds:{source:vS(".source",v.nodeElement,h,u),target:vS(".target",v.nodeElement,h,u)}},...T}),g.push({id:w.id,type:"dimensions",dimensions:T}))}return g},[]);LM(i,u);const y=s||o&&!s&&DM(t,{initial:!0,...c});e({nodeInternals:new Map(i),fitViewOnInitDone:y}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(c=>{const l={id:c.id,type:"position",dragging:i};return r&&(l.positionAbsolute=c.positionAbsolute,l.position=c.position),l});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:s,getNodes:c,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(o){const u=qK(n,c()),a=Y0(u,i,s,l);e({nodeInternals:a})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,c=null;r?s=n.map(l=>ss(l,!0)):(s=Lu(o(),n),c=Lu(i,[])),Ah({changedNodes:s,changedEdges:c,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,c=null;r?s=n.map(l=>ss(l,!0)):(s=Lu(i,n),c=Lu(o(),[])),Ah({changedNodes:c,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=t(),s=n||o(),c=r||i,l=s.map(a=>(a.selected=!1,ss(a.id,!1))),u=c.map(a=>ss(a.id,!1));Ah({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(c=>c.selected).map(c=>ss(c.id,!1)),s=n.filter(c=>c.selected).map(c=>ss(c.id,!1));Ah({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=T1(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:s,d3Selection:c,translateExtent:l}=t();if(!s||!c||!n.x&&!n.y)return!1;const u=hs.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),a=[[0,0],[i,o]],d=s==null?void 0:s.constrain()(u,a,l);return s.transform(c,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:Ko.connectionNodeId,connectionHandleId:Ko.connectionHandleId,connectionHandleType:Ko.connectionHandleType,connectionStatus:Ko.connectionStatus,connectionStartHandle:Ko.connectionStartHandle,connectionEndHandle:Ko.connectionEndHandle}),reset:()=>e({...Ko})}),Object.is),YM=({children:e})=>{const t=k.useRef(null);return t.current||(t.current=OX()),fe.createElement(GQ,{value:t.current},e)};YM.displayName="ReactFlowProvider";const QM=({children:e})=>k.useContext(Om)?fe.createElement(fe.Fragment,null,e):fe.createElement(YM,null,e);QM.displayName="ReactFlowWrapper";const IX={input:AM,default:OE,output:IM,group:O1},CX={default:$p,straight:x1,step:b1,smoothstep:Im,simplebezier:N1},kX=[0,0],MX=[15,15],PX={x:0,y:0,zoom:1},LX={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},KM=k.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=IX,edgeTypes:s=CX,onNodeClick:c,onEdgeClick:l,onInit:u,onMove:a,onMoveStart:d,onMoveEnd:h,onConnect:m,onConnectStart:y,onConnectEnd:g,onClickConnectStart:v,onClickConnectEnd:w,onNodeMouseEnter:T,onNodeMouseMove:N,onNodeMouseLeave:b,onNodeContextMenu:S,onNodeDoubleClick:x,onNodeDragStart:O,onNodeDrag:M,onNodeDragStop:U,onNodesDelete:z,onEdgesDelete:Q,onSelectionChange:ee,onSelectionDragStart:X,onSelectionDrag:F,onSelectionDragStop:J,onSelectionContextMenu:K,onSelectionStart:te,onSelectionEnd:G,connectionMode:H=Sa.Strict,connectionLineType:W=ls.Bezier,connectionLineStyle:V,connectionLineComponent:C,connectionLineContainerStyle:L,deleteKeyCode:I="Backspace",selectionKeyCode:j="Shift",selectionOnDrag:$=!1,selectionMode:oe=hf.Full,panActivationKeyCode:q="Space",multiSelectionKeyCode:se=Up()?"Meta":"Control",zoomActivationKeyCode:ge=Up()?"Meta":"Control",snapToGrid:we=!1,snapGrid:be=MX,onlyRenderVisibleElements:Re=!1,selectNodesOnDrag:Qe=!0,nodesDraggable:ze,nodesConnectable:Rt,nodesFocusable:Xe,nodeOrigin:xe=kX,edgesFocusable:Me,edgesUpdatable:it,elementsSelectable:gt,defaultViewport:Ze=PX,minZoom:ye=.5,maxZoom:ne=2,translateExtent:le=CE,preventScrolling:de=!0,nodeExtent:he,defaultMarkerColor:ke="#b1b1b7",zoomOnScroll:rt=!0,zoomOnPinch:at=!0,panOnScroll:Je=!1,panOnScrollSpeed:Ke=.5,panOnScrollMode:nt=fa.Free,zoomOnDoubleClick:Ut=!0,panOnDrag:Rr=!0,onPaneClick:Sn,onPaneMouseEnter:dn,onPaneMouseMove:Sr,onPaneMouseLeave:Ni,onPaneScroll:qr,onPaneContextMenu:Se,children:xt,onEdgeContextMenu:Ht,onEdgeDoubleClick:dr,onEdgeMouseEnter:Wr,onEdgeMouseMove:Oo,onEdgeMouseLeave:Ua,onEdgeUpdate:Tl,onEdgeUpdateStart:Df,onEdgeUpdateEnd:Ps,onReconnect:_l,onReconnectStart:Ls,onReconnectEnd:Lm,reconnectRadius:Ds=10,edgeUpdaterRadius:Ba=10,onNodesChange:$a,onEdgesChange:Nl,noDragClassName:Dm="nodrag",noWheelClassName:Fm="nowheel",noPanClassName:Ff="nopan",fitView:Yi=!1,fitViewOptions:Uf,connectOnClick:Bf=!0,attributionPosition:Um,proOptions:$f,defaultEdgeOptions:Vf,elevateNodesOnSelect:jf=!0,elevateEdgesOnSelect:zf=!1,disableKeyboardA11y:qf=!1,autoPanOnConnect:Bm=!0,autoPanOnNodeDrag:Bt=!0,connectionRadius:$m=20,isValidConnection:bl,onError:Wf,style:Va,id:Hf,nodeDragThreshold:Gf,...ja},Ar)=>{const xl=Hf||"1";return fe.createElement("div",{...ja,style:{...Va,...LX},ref:Ar,className:Jn(["react-flow",i]),"data-testid":"rf__wrapper",id:Hf},fe.createElement(QM,null,fe.createElement(AX,{onInit:u,onMove:a,onMoveStart:d,onMoveEnd:h,onNodeClick:c,onEdgeClick:l,onNodeMouseEnter:T,onNodeMouseMove:N,onNodeMouseLeave:b,onNodeContextMenu:S,onNodeDoubleClick:x,nodeTypes:o,edgeTypes:s,connectionLineType:W,connectionLineStyle:V,connectionLineComponent:C,connectionLineContainerStyle:L,selectionKeyCode:j,selectionOnDrag:$,selectionMode:oe,deleteKeyCode:I,multiSelectionKeyCode:se,panActivationKeyCode:q,zoomActivationKeyCode:ge,onlyRenderVisibleElements:Re,selectNodesOnDrag:Qe,defaultViewport:Ze,translateExtent:le,minZoom:ye,maxZoom:ne,preventScrolling:de,zoomOnScroll:rt,zoomOnPinch:at,zoomOnDoubleClick:Ut,panOnScroll:Je,panOnScrollSpeed:Ke,panOnScrollMode:nt,panOnDrag:Rr,onPaneClick:Sn,onPaneMouseEnter:dn,onPaneMouseMove:Sr,onPaneMouseLeave:Ni,onPaneScroll:qr,onPaneContextMenu:Se,onSelectionContextMenu:K,onSelectionStart:te,onSelectionEnd:G,onEdgeContextMenu:Ht,onEdgeDoubleClick:dr,onEdgeMouseEnter:Wr,onEdgeMouseMove:Oo,onEdgeMouseLeave:Ua,onReconnect:_l??Tl,onReconnectStart:Ls??Df,onReconnectEnd:Lm??Ps,reconnectRadius:Ds??Ba,defaultMarkerColor:ke,noDragClassName:Dm,noWheelClassName:Fm,noPanClassName:Ff,elevateEdgesOnSelect:zf,rfId:xl,disableKeyboardA11y:qf,nodeOrigin:xe,nodeExtent:he}),fe.createElement(bK,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:y,onConnectEnd:g,onClickConnectStart:v,onClickConnectEnd:w,nodesDraggable:ze,nodesConnectable:Rt,nodesFocusable:Xe,edgesFocusable:Me,edgesUpdatable:it,elementsSelectable:gt,elevateNodesOnSelect:jf,minZoom:ye,maxZoom:ne,nodeExtent:he,onNodesChange:$a,onEdgesChange:Nl,snapToGrid:we,snapGrid:be,connectionMode:H,translateExtent:le,connectOnClick:Bf,defaultEdgeOptions:Vf,fitView:Yi,fitViewOptions:Uf,onNodesDelete:z,onEdgesDelete:Q,onNodeDragStart:O,onNodeDrag:M,onNodeDragStop:U,onSelectionDrag:F,onSelectionDragStart:X,onSelectionDragStop:J,noPanClassName:Ff,nodeOrigin:xe,rfId:xl,autoPanOnConnect:Bm,autoPanOnNodeDrag:Bt,onError:Wf,connectionRadius:$m,isValidConnection:bl,nodeDragThreshold:Gf}),fe.createElement(_K,{onSelectionChange:ee}),xt,fe.createElement(QQ,{proOptions:$f,position:Um}),fe.createElement(OK,{rfId:xl,disableKeyboardA11y:qf})))});KM.displayName="ReactFlow";function DX(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},fe.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function FX(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},fe.createElement("path",{d:"M0 0h32v4.2H0z"}))}function UX(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},fe.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function BX(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},fe.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function $X(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},fe.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const kc=({children:e,className:t,...n})=>fe.createElement("button",{type:"button",className:Jn(["react-flow__controls-button",t]),...n},e);kc.displayName="ControlButton";const VX=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),XM=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:c,onInteractiveChange:l,className:u,children:a,position:d="bottom-left"})=>{const h=Rn(),[m,y]=k.useState(!1),{isInteractive:g,minZoomReached:v,maxZoomReached:w}=Wt(VX,jn),{zoomIn:T,zoomOut:N,fitView:b}=I1();if(k.useEffect(()=>{y(!0)},[]),!m)return null;const S=()=>{T(),o==null||o()},x=()=>{N(),s==null||s()},O=()=>{b(i),c==null||c()},M=()=>{h.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l==null||l(!g)};return fe.createElement(lM,{className:Jn(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},t&&fe.createElement(fe.Fragment,null,fe.createElement(kc,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:w},fe.createElement(DX,null)),fe.createElement(kc,{onClick:x,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v},fe.createElement(FX,null))),n&&fe.createElement(kc,{className:"react-flow__controls-fitview",onClick:O,title:"fit view","aria-label":"fit view"},fe.createElement(UX,null)),r&&fe.createElement(kc,{className:"react-flow__controls-interactive",onClick:M,title:"toggle interactivity","aria-label":"toggle interactivity"},g?fe.createElement($X,null):fe.createElement(BX,null)),a)};XM.displayName="Controls";var jX=k.memo(XM),ui;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ui||(ui={}));function zX({color:e,dimensions:t,lineWidth:n}){return fe.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function qX({color:e,radius:t}){return fe.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const WX={[ui.Dots]:"#91919a",[ui.Lines]:"#eee",[ui.Cross]:"#e2e2e2"},HX={[ui.Dots]:1,[ui.Lines]:1,[ui.Cross]:6},GX=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function JM({id:e,variant:t=ui.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=2,color:s,style:c,className:l}){const u=k.useRef(null),{transform:a,patternId:d}=Wt(GX,jn),h=s||WX[t],m=r||HX[t],y=t===ui.Dots,g=t===ui.Cross,v=Array.isArray(n)?n:[n,n],w=[v[0]*a[2]||1,v[1]*a[2]||1],T=m*a[2],N=g?[T,T]:w,b=y?[T/o,T/o]:[N[0]/o,N[1]/o];return fe.createElement("svg",{className:Jn(["react-flow__background",l]),style:{...c,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},fe.createElement("pattern",{id:d+e,x:a[0]%w[0],y:a[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${b[0]},-${b[1]})`},y?fe.createElement(qX,{color:h,radius:T/o}):fe.createElement(zX,{dimensions:N,color:h,lineWidth:i})),fe.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}JM.displayName="Background";var YX=k.memo(JM);const QX=({data:e})=>P.jsxs("div",{className:"px-4 py-2 shadow-lg rounded-lg bg-white border-2 border-primary/20 cursor-pointer hover:border-primary transition-colors",onClick:()=>e.onClick(e.id),children:[P.jsx(As,{type:"target",position:Ve.Top}),P.jsx("div",{className:"font-bold text-lg text-primary",children:e.label}),P.jsx(As,{type:"source",position:Ve.Bottom})]}),KX=({data:e})=>P.jsxs("div",{className:"px-6 py-4 shadow-xl rounded-lg bg-white border-2 border-primary cursor-pointer hover:border-primary/80 transition-colors min-w-[300px]",onClick:()=>e.onClick(e.id),children:[P.jsx(As,{type:"target",position:Ve.Top}),P.jsx("div",{className:"font-bold text-xl text-primary mb-4",children:e.label}),P.jsx("div",{className:"space-y-2",children:Object.entries(e.metadata).map(([t,n])=>P.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 pb-2",children:[P.jsxs("span",{className:"font-semibold text-gray-600",children:[t,":"]}),P.jsx("span",{className:"text-gray-800",children:String(n)})]},t))}),P.jsx(As,{type:"source",position:Ve.Bottom})]}),XX={entityNode:QX,expandedNode:KX},JX=({blueprint:e})=>{const[t,n]=k.useState(new Set),r=a=>{n(d=>{const h=new Set(d);return h.has(a)?h.delete(a):h.add(a),h})},o=k.useMemo(()=>e.entities.map(a=>({tableName:a.name,query:Nf.getQueryForTable(a)})).filter(a=>a.query),[e]).map(({tableName:a,query:d})=>{const{data:h,loading:m,error:y}=_f(d,{fetchPolicy:"no-cache"});return{tableName:a,data:h?h[a.toLowerCase()]:null,loading:m,error:y}}),{nodes:s,edges:c}=k.useMemo(()=>{const a=[],d=[];let h=0;const m=3,y=250,g=100,v=100;return o.forEach(w=>{w.data&&w.data.forEach(T=>{const N={id:`node-${h}`,label:T.name||`${T.firstName} ${T.lastName}`,metadata:Object.entries(T).reduce((U,[z,Q])=>(z!=="name"&&z!=="firstName"&&z!=="lastName"&&(U[z]=Q),U),{}),onClick:r},b=Math.floor(h/m),S=h%m,x=g+S*y,O=v+b*y,M={id:`node-${h}`,type:t.has(`node-${h}`)?"expandedNode":"entityNode",position:{x,y:O},data:N,draggable:!1,selectable:!1,connectable:!1};console.log("Creating node:",M),a.push(M),h++})}),console.log("All nodes created:",a),e.entities.forEach(w=>{w.fields.forEach(T=>{T.type==="relationship"&&a.forEach((N,b)=>{if(b<a.length-1){const S={id:`edge-${b}`,source:N.id,target:a[b+1].id,type:"smoothstep",label:T.name,animated:!0};d.push(S)}})})}),console.log("All edges created:",d),{nodes:a,edges:d}},[o,e,t]);if(o.some(a=>a.loading))return P.jsx("div",{className:"flex flex-col items-center w-full p-4",children:"Loading knowledge graph..."});const u=o.filter(a=>a.error);return u.length>0?P.jsxs("div",{className:"p-4 text-red-600",children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Errors"}),u.map(a=>{var d;return P.jsxs("div",{children:[P.jsxs("strong",{children:[a.tableName,":"]})," ",(d=a.error)==null?void 0:d.message]},a.tableName)})]}):(console.log("Rendering ReactFlow with:",{nodesCount:s.length,edgesCount:c.length,firstNode:s[0],lastNode:s[s.length-1]}),P.jsx("div",{style:{position:"relative",width:"1400px",height:"800px",border:"1px solid #ccc"},children:P.jsxs(KM,{nodes:s,edges:c,nodeTypes:XX,fitView:!0,style:{position:"absolute",top:0,left:0,right:0,bottom:0},nodesDraggable:!1,nodesConnectable:!1,elementsSelectable:!1,panOnScroll:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,defaultViewport:{x:0,y:0,zoom:1},minZoom:.1,maxZoom:4,children:[P.jsx(YX,{}),P.jsx(jX,{})]})}))},ZX=({blueprint:e,searchQuery:t,updateSearchQuery:n})=>{const r=()=>{if(!t)return P.jsx("div",{className:"p-4",children:"No search query selected"});switch(console.log("searchQuery.type",t.type),t.type){case"object":return P.jsx(Kz,{blueprint:e,searchQuery:t,updateSearchQuery:n});case"table":return P.jsx(Gz,{blueprint:e,searchQuery:t,updateSearchQuery:n});case"ai":return P.jsx(Jz,{searchQuery:t});case"recommend":return P.jsx(eq,{blueprint:e,searchQuery:t,updateSearchQuery:n});case"all":return P.jsx(Hz,{blueprint:e,searchQuery:t,updateSearchQuery:n});case"settings":return P.jsx(nH,{});case"graph":return P.jsx(JX,{blueprint:e});default:return P.jsx("div",{className:"p-4",children:"Unknown search type"})}};return P.jsx("div",{className:"flex-1 overflow-auto",children:r()})};function eJ(e){return new ka(function(t,n){var r=lr(t,[]);return new St(function(i){var o,s=!1;return Promise.resolve(r).then(function(c){return e(c,t.getContext())}).then(t.setContext).then(function(){s||(o=n(t).subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)}))}).catch(i.error.bind(i)),function(){s=!0,o&&o.unsubscribe()}})})}const ZM=e=>Array.isArray(e)?e:e?[e]:[];function tJ(e,t){return String(e)<String(t)?-1:String(e)>String(t)?1:0}function xS(e){var n,r;let t;return"alias"in e&&(t=(n=e.alias)==null?void 0:n.value),t==null&&"name"in e&&(t=(r=e.name)==null?void 0:r.value),t==null&&(t=e.kind),t}function Cm(e,t,n){const r=xS(e),i=xS(t);return typeof n=="function"?n(r,i):tJ(r,i)}function km(e){return e!=null}const eP=3;function tP(e){return Mm(e,[])}function Mm(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return nJ(e,t);default:return String(e)}}function RS(e){return(e.name="GraphQLError")?e.toString():`${e.name}: ${e.message};
 ${e.stack}`}function nJ(e,t){if(e===null)return"null";if(e instanceof Error)return e.name==="AggregateError"?RS(e)+`
`+SS(e.errors,t):RS(e);if(t.includes(e))return"[Circular]";const n=[...t,e];if(rJ(e)){const r=e.toJSON();if(r!==e)return typeof r=="string"?r:Mm(r,n)}else if(Array.isArray(e))return SS(e,n);return iJ(e,n)}function rJ(e){return typeof e.toJSON=="function"}function iJ(e,t){const n=Object.entries(e);return n.length===0?"{}":t.length>eP?"["+oJ(e)+"]":"{ "+n.map(([i,o])=>i+": "+Mm(o,t)).join(", ")+" }"}function SS(e,t){if(e.length===0)return"[]";if(t.length>eP)return"[Array]";const n=e.length,r=[];for(let i=0;i<n;++i)r.push(Mm(e[i],t));return"["+r.join(", ")+"]"}function oJ(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}function sJ(e){return e!=null&&typeof e=="object"&&Symbol.iterator in e}function aJ(e){return typeof e=="object"&&e!==null}function nP(e){const t=new WeakMap;return function(r){const i=t.get(r);if(i===void 0){const o=e(r);return t.set(r,o),o}return i}}function uJ(e,t,n=["directives"]){var s;const r={};if(e.extensions){let c=e.extensions;for(const l of n)c=c==null?void 0:c[l];if(c!=null)for(const l in c){const u=c[l],a=l;if(Array.isArray(u))for(const d of u){let h=r[a];h||(h=[],r[a]=h),h.push(d)}else{let d=r[a];d||(d=[],r[a]=d),d.push(u)}}}const i=nP(c=>JSON.stringify(c)),o=[];e.astNode&&o.push(e.astNode),e.extensionASTNodes&&o.push(...e.extensionASTNodes);for(const c of o)if((s=c.directives)!=null&&s.length)for(const l of c.directives){const u=l.name.value;let a=r[u];a||(a=[],r[u]=a);let d={};if(l.arguments)for(const h of l.arguments){const m=h.name.value;d[m]==null,d[m]==null&&(d[m]=lp(h.value))}if(o.length>0&&a.length>0){const h=i(d);if(a.some(m=>i(m)===h))continue}a.push(d)}return r}function rP(e,t=["directives"]){const n=uJ(e,void 0,t);return Object.entries(n).map(([r,i])=>i==null?void 0:i.map(o=>({name:r,args:o}))).flat(1/0).filter(Boolean)}function bo(e){if(_t(e)){const t=bo(e.ofType);if(t.kind===B.NON_NULL_TYPE)throw new Error(`Invalid type node ${tP(e)}. Inner type of non-null type cannot be a non-null type.`);return{kind:B.NON_NULL_TYPE,type:t}}else if(ln(e))return{kind:B.LIST_TYPE,type:bo(e.ofType)};return{kind:B.NAMED_TYPE,name:{kind:B.NAME,value:e.name}}}function jc(e){if(e===null)return{kind:B.NULL};if(e===void 0)return null;if(Array.isArray(e)){const t=[];for(const n of e){const r=jc(n);r!=null&&t.push(r)}return{kind:B.LIST,values:t}}if(typeof e=="object"){if(e!=null&&e.toJSON)return jc(e.toJSON());const t=[];for(const n in e){const r=e[n],i=jc(r);i&&t.push({kind:B.OBJECT_FIELD,name:{kind:B.NAME,value:n},value:i})}return{kind:B.OBJECT,fields:t}}if(typeof e=="boolean")return{kind:B.BOOLEAN,value:e};if(typeof e=="bigint")return{kind:B.INT,value:String(e)};if(typeof e=="number"&&isFinite(e)){const t=String(e);return lJ.test(t)?{kind:B.INT,value:t}:{kind:B.FLOAT,value:t}}if(typeof e=="string")return{kind:B.STRING,value:e};throw new TypeError(`Cannot convert value to AST: ${e}.`)}const lJ=/^-?(?:0|[1-9][0-9]*)$/;function da(e,t){if(_t(t)){const n=da(e,t.ofType);return(n==null?void 0:n.kind)===B.NULL?null:n}if(e===null)return{kind:B.NULL};if(e===void 0)return null;if(ln(t)){const n=t.ofType;if(sJ(e)){const r=[];for(const i of e){const o=da(i,n);o!=null&&r.push(o)}return{kind:B.LIST,values:r}}return da(e,n)}if(Ft(t)){if(!aJ(e))return null;const n=[];for(const r of Object.values(t.getFields())){const i=da(e[r.name],r.type);i&&n.push({kind:B.OBJECT_FIELD,name:{kind:B.NAME,value:r.name},value:i})}return{kind:B.OBJECT,fields:n}}if(fi(t)){const n=t.serialize(e);return n==null?null:bn(t)?{kind:B.ENUM,value:n}:t.name==="ID"&&typeof n=="string"&&cJ.test(n)?{kind:B.INT,value:n}:jc(n)}console.assert(!1,"Unexpected input type: "+tP(t))}const cJ=/^-?(?:0|[1-9][0-9]*)$/;function zr(e){var t;if((t=e.astNode)!=null&&t.description)return{...e.astNode.description,block:!0};if(e.description)return{kind:B.STRING,value:e.description,block:!0}}const fJ=nP(function(t){const n=new Map,r=t.getQueryType();r&&n.set("query",r);const i=t.getMutationType();i&&n.set("mutation",i);const o=t.getSubscriptionType();return o&&n.set("subscription",o),n});function dJ(e,t={}){const n=t.pathToDirectivesInExtensions,r=e.getTypeMap(),i=hJ(e,n),o=i!=null?[i]:[],s=e.getDirectives();for(const c of s)XO(c)||o.push(pJ(c,e,n));for(const c in r){const l=r[c],u=vf(l),a=rI(l);if(!(u||a))if(Et(l))o.push(mJ(l,e,n));else if(wt(l))o.push(gJ(l,e,n));else if($n(l))o.push(vJ(l,e,n));else if(Ft(l))o.push(yJ(l,e,n));else if(bn(l))o.push(EJ(l,e,n));else if($r(l))o.push(wJ(l,e,n));else throw new Error(`Unknown type ${l}.`)}return{kind:B.DOCUMENT,definitions:o}}function hJ(e,t){const n=new Map([["query",void 0],["mutation",void 0],["subscription",void 0]]),r=[];if(e.astNode!=null&&r.push(e.astNode),e.extensionASTNodes!=null)for(const u of e.extensionASTNodes)r.push(u);for(const u of r)if(u.operationTypes)for(const a of u.operationTypes)n.set(a.operation,a);const i=fJ(e);for(const[u,a]of n){const d=i.get(u);if(d!=null){const h=bo(d);a!=null?a.type=h:n.set(u,{kind:B.OPERATION_TYPE_DEFINITION,operation:u,type:h})}}const o=[...n.values()].filter(km),s=Gi(e,e,t);if(!o.length&&!s.length)return null;const c={kind:o!=null?B.SCHEMA_DEFINITION:B.SCHEMA_EXTENSION,operationTypes:o,directives:s},l=zr(e);return l&&(c.description=l),c}function pJ(e,t,n){var r,i;return{kind:B.DIRECTIVE_DEFINITION,description:zr(e),name:{kind:B.NAME,value:e.name},arguments:(r=e.args)==null?void 0:r.map(o=>iP(o,t,n)),repeatable:e.isRepeatable,locations:((i=e.locations)==null?void 0:i.map(o=>({kind:B.NAME,value:o})))||[]}}function Gi(e,t,n){var l,u;let r=[];const i=rP(e,n);let o;i!=null&&(o=sP(t,i));let s=null,c=null;if(o!=null&&(r=o.filter(a=>a.name.value!=="deprecated"&&a.name.value!=="specifiedBy"),e.deprecationReason!=null&&(s=(l=o.filter(a=>a.name.value==="deprecated"))==null?void 0:l[0]),(e.specifiedByUrl!=null||e.specifiedByURL!=null)&&(c=(u=o.filter(a=>a.name.value==="specifiedBy"))==null?void 0:u[0])),e.deprecationReason!=null&&s==null&&(s=NJ(e.deprecationReason)),e.specifiedByUrl!=null||e.specifiedByURL!=null&&c==null){const d={url:e.specifiedByUrl||e.specifiedByURL};c=Pm("specifiedBy",d)}return s!=null&&r.push(s),c!=null&&r.push(c),r}function iP(e,t,n){return{kind:B.INPUT_VALUE_DEFINITION,description:zr(e),name:{kind:B.NAME,value:e.name},type:bo(e.type),defaultValue:e.defaultValue!==void 0?da(e.defaultValue,e.type)??void 0:void 0,directives:Gi(e,t,n)}}function mJ(e,t,n){return{kind:B.OBJECT_TYPE_DEFINITION,description:zr(e),name:{kind:B.NAME,value:e.name},fields:Object.values(e.getFields()).map(r=>oP(r,t,n)),interfaces:Object.values(e.getInterfaces()).map(r=>bo(r)),directives:Gi(e,t,n)}}function gJ(e,t,n){const r={kind:B.INTERFACE_TYPE_DEFINITION,description:zr(e),name:{kind:B.NAME,value:e.name},fields:Object.values(e.getFields()).map(i=>oP(i,t,n)),directives:Gi(e,t,n)};return"getInterfaces"in e&&(r.interfaces=Object.values(e.getInterfaces()).map(i=>bo(i))),r}function vJ(e,t,n){return{kind:B.UNION_TYPE_DEFINITION,description:zr(e),name:{kind:B.NAME,value:e.name},directives:Gi(e,t,n),types:e.getTypes().map(r=>bo(r))}}function yJ(e,t,n){return{kind:B.INPUT_OBJECT_TYPE_DEFINITION,description:zr(e),name:{kind:B.NAME,value:e.name},fields:Object.values(e.getFields()).map(r=>TJ(r,t,n)),directives:Gi(e,t,n)}}function EJ(e,t,n){return{kind:B.ENUM_TYPE_DEFINITION,description:zr(e),name:{kind:B.NAME,value:e.name},values:Object.values(e.getValues()).map(r=>_J(r,t,n)),directives:Gi(e,t,n)}}function wJ(e,t,n){const r=rP(e,n),i=sP(t,r),o=e.specifiedByUrl||e.specifiedByURL;if(o&&!i.some(s=>s.name.value==="specifiedBy")){const s={url:o};i.push(Pm("specifiedBy",s))}return{kind:B.SCALAR_TYPE_DEFINITION,description:zr(e),name:{kind:B.NAME,value:e.name},directives:i}}function oP(e,t,n){return{kind:B.FIELD_DEFINITION,description:zr(e),name:{kind:B.NAME,value:e.name},arguments:e.args.map(r=>iP(r,t,n)),type:bo(e.type),directives:Gi(e,t,n)}}function TJ(e,t,n){return{kind:B.INPUT_VALUE_DEFINITION,description:zr(e),name:{kind:B.NAME,value:e.name},type:bo(e.type),directives:Gi(e,t,n),defaultValue:da(e.defaultValue,e.type)??void 0}}function _J(e,t,n){return{kind:B.ENUM_VALUE_DEFINITION,description:zr(e),name:{kind:B.NAME,value:e.name},directives:Gi(e,t,n)}}function NJ(e){return Pm("deprecated",{reason:e},gw)}function Pm(e,t,n){const r=[];for(const i in t){const o=t[i];let s;if(n!=null){const c=n.args.find(l=>l.name===i);c&&(s=da(o,c.type))}s==null&&(s=jc(o)),s!=null&&r.push({kind:B.ARGUMENT,name:{kind:B.NAME,value:i},value:s})}return{kind:B.DIRECTIVE,name:{kind:B.NAME,value:e},arguments:r}}function sP(e,t){const n=[];for(const{name:r,args:i}of t){const o=e==null?void 0:e.getDirective(r);n.push(Pm(r,i,o))}return n}const bJ=80;let Ku={};function kE(){Ku={}}function xJ(e){var n;const t=(n=e.name)==null?void 0:n.value;if(t!=null)switch(Ih(e,t),e.kind){case"EnumTypeDefinition":if(e.values)for(const r of e.values)Ih(r,t,r.name.value);break;case"ObjectTypeDefinition":case"InputObjectTypeDefinition":case"InterfaceTypeDefinition":if(e.fields){for(const r of e.fields)if(Ih(r,t,r.name.value),CJ(r)&&r.arguments)for(const i of r.arguments)Ih(i,t,r.name.value,i.name.value)}break}}function Ih(e,t,n,r){const i=kJ(e);if(typeof i!="string"||i.length===0)return;const o=[t];n&&(o.push(n),r&&o.push(r));const s=o.join(".");Ku[s]||(Ku[s]=[]),Ku[s].push(i)}function RJ(e){return`
# `+e.replace(/\n/g,`
# `)}function De(e,t){return e?e.filter(n=>n).join(t||""):""}function AS(e){return(e==null?void 0:e.some(t=>t.includes(`
`)))??!1}function SJ(e){return(t,n,r,i,o)=>{var a;const s=[],c=i.reduce((d,h)=>(["fields","arguments","values"].includes(h)&&d.name&&s.push(d.name.value),d[h]),o[0]),l=[...s,(a=c==null?void 0:c.name)==null?void 0:a.value].filter(Boolean).join("."),u=[];return t.kind.includes("Definition")&&Ku[l]&&u.push(...Ku[l]),De([...u.map(RJ),t.description,e(t,n,r,i,o)],`
`)}}function zc(e){return e&&`  ${e.replace(/\n/g,`
  `)}`}function ei(e){return e&&e.length!==0?`{
${zc(De(e,`
`))}
}`:""}function jt(e,t,n){return t?e+t+(n||""):""}function AJ(e,t=!1){const n=e.replace(/"""/g,'\\"""');return(e[0]===" "||e[0]==="	")&&e.indexOf(`
`)===-1?`"""${n.replace(/"$/,`"
`)}"""`:`"""
${t?n:zc(n)}
"""`}const OS={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>De(e.definitions,`

`)},OperationDefinition:{leave:e=>{const t=jt("(",De(e.variableDefinitions,", "),")");return De([e.operation,De([e.name,t]),De(e.directives," ")]," ")+" "+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+jt(" = ",n)+jt(" ",De(r," "))},SelectionSet:{leave:({selections:e})=>ei(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){const o=jt("",e,": ")+t;let s=o+jt("(",De(n,", "),")");return s.length>bJ&&(s=o+jt(`(
`,zc(De(n,`
`)),`
)`)),De([s,De(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+jt(" ",De(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>De(["...",jt("on ",e),De(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${e}${jt("(",De(n,", "),")")} on ${t} ${jt("",De(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?AJ(e):JSON.stringify(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+De(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+De(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+jt("(",De(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({directives:e,operationTypes:t})=>De(["schema",De(e," "),ei(t)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({name:e,directives:t})=>De(["scalar",e,De(t," ")]," ")},ObjectTypeDefinition:{leave:({name:e,interfaces:t,directives:n,fields:r})=>De(["type",e,jt("implements ",De(t," & ")),De(n," "),ei(r)]," ")},FieldDefinition:{leave:({name:e,arguments:t,type:n,directives:r})=>e+(AS(t)?jt(`(
`,zc(De(t,`
`)),`
)`):jt("(",De(t,", "),")"))+": "+n+jt(" ",De(r," "))},InputValueDefinition:{leave:({name:e,type:t,defaultValue:n,directives:r})=>De([e+": "+t,jt("= ",n),De(r," ")]," ")},InterfaceTypeDefinition:{leave:({name:e,interfaces:t,directives:n,fields:r})=>De(["interface",e,jt("implements ",De(t," & ")),De(n," "),ei(r)]," ")},UnionTypeDefinition:{leave:({name:e,directives:t,types:n})=>De(["union",e,De(t," "),jt("= ",De(n," | "))]," ")},EnumTypeDefinition:{leave:({name:e,directives:t,values:n})=>De(["enum",e,De(t," "),ei(n)]," ")},EnumValueDefinition:{leave:({name:e,directives:t})=>De([e,De(t," ")]," ")},InputObjectTypeDefinition:{leave:({name:e,directives:t,fields:n})=>De(["input",e,De(t," "),ei(n)]," ")},DirectiveDefinition:{leave:({name:e,arguments:t,repeatable:n,locations:r})=>"directive @"+e+(AS(t)?jt(`(
`,zc(De(t,`
`)),`
)`):jt("(",De(t,", "),")"))+(n?" repeatable":"")+" on "+De(r," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>De(["extend schema",De(e," "),ei(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>De(["extend scalar",e,De(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>De(["extend type",e,jt("implements ",De(t," & ")),De(n," "),ei(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>De(["extend interface",e,jt("implements ",De(t," & ")),De(n," "),ei(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>De(["extend union",e,De(t," "),jt("= ",De(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>De(["extend enum",e,De(t," "),ei(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>De(["extend input",e,De(t," "),ei(n)]," ")}},OJ=Object.keys(OS).reduce((e,t)=>({...e,[t]:{leave:SJ(OS[t].leave)}}),{});function IJ(e){return Tr(e,OJ)}function CJ(e){return e.kind==="FieldDefinition"}function kJ(e){const t=MJ(e);if(t!==void 0)return PJ(`
${t}`)}function MJ(e){const t=e.loc;if(!t)return;const n=[];let r=t.startToken.prev;for(;r!=null&&r.kind===pe.COMMENT&&r.next!=null&&r.prev!=null&&r.line+1===r.next.line&&r.line!==r.prev.line;){const i=String(r.value);n.push(i),r=r.prev}return n.length>0?n.reverse().join(`
`):void 0}function PJ(e){const t=e.split(/\r\n|[\n\r]/g),n=LJ(t);if(n!==0)for(let r=1;r<t.length;r++)t[r]=t[r].slice(n);for(;t.length>0&&IS(t[0]);)t.shift();for(;t.length>0&&IS(t[t.length-1]);)t.pop();return t.join(`
`)}function LJ(e){let t=null;for(let n=1;n<e.length;n++){const r=e[n],i=aP(r);if(i!==r.length&&(t===null||i<t)&&(t=i,t===0))break}return t===null?0:t}function aP(e){let t=0;for(;t<e.length&&(e[t]===" "||e[t]==="	");)t++;return t}function IS(e){return aP(e)===e.length}var tt;(function(e){e.TYPE="MapperKind.TYPE",e.SCALAR_TYPE="MapperKind.SCALAR_TYPE",e.ENUM_TYPE="MapperKind.ENUM_TYPE",e.COMPOSITE_TYPE="MapperKind.COMPOSITE_TYPE",e.OBJECT_TYPE="MapperKind.OBJECT_TYPE",e.INPUT_OBJECT_TYPE="MapperKind.INPUT_OBJECT_TYPE",e.ABSTRACT_TYPE="MapperKind.ABSTRACT_TYPE",e.UNION_TYPE="MapperKind.UNION_TYPE",e.INTERFACE_TYPE="MapperKind.INTERFACE_TYPE",e.ROOT_OBJECT="MapperKind.ROOT_OBJECT",e.QUERY="MapperKind.QUERY",e.MUTATION="MapperKind.MUTATION",e.SUBSCRIPTION="MapperKind.SUBSCRIPTION",e.DIRECTIVE="MapperKind.DIRECTIVE",e.FIELD="MapperKind.FIELD",e.COMPOSITE_FIELD="MapperKind.COMPOSITE_FIELD",e.OBJECT_FIELD="MapperKind.OBJECT_FIELD",e.ROOT_FIELD="MapperKind.ROOT_FIELD",e.QUERY_ROOT_FIELD="MapperKind.QUERY_ROOT_FIELD",e.MUTATION_ROOT_FIELD="MapperKind.MUTATION_ROOT_FIELD",e.SUBSCRIPTION_ROOT_FIELD="MapperKind.SUBSCRIPTION_ROOT_FIELD",e.INTERFACE_FIELD="MapperKind.INTERFACE_FIELD",e.INPUT_OBJECT_FIELD="MapperKind.INPUT_OBJECT_FIELD",e.ARGUMENT="MapperKind.ARGUMENT",e.ENUM_VALUE="MapperKind.ENUM_VALUE"})(tt||(tt={}));function Su(e,t){if(t){const n=e[t.name];if(Et(n))return n}}function DJ(e){if("getFields"in e){const t=e.getFields();for(const n in t)return t[n].name==="_fake"}return!1}function FJ(e){switch(e.name){case wy.name:return wy;case Ty.name:return Ty;case qt.name:return qt;case Gn.name:return Gn;case cp.name:return cp;default:return e}}function UJ(e,t){const n=Object.create(null);for(const h in e)n[h]=e[h];const r=Object.create(null);for(const h in n){const m=n[h];if(m==null||h.startsWith("__"))continue;const y=m.name;if(!y.startsWith("__")){if(r[y]!=null){console.warn(`Duplicate schema type name ${y} found; keeping the existing one found in the schema`);continue}r[y]=m}}for(const h in r)r[h]=c(r[h]);const i=t.map(h=>o(h));return{typeMap:r,directives:i};function o(h){if(XO(h))return h;const m=h.toConfig();return m.args=s(m.args),new vo(m)}function s(h){const m={};for(const y in h){const g=h[y],v=d(g.type);v!=null&&(g.type=v,m[y]=g)}return m}function c(h){if(Et(h)){const m=h.toConfig(),y={...m,fields:()=>l(m.fields),interfaces:()=>a(m.interfaces)};return new cr(y)}else if(wt(h)){const m=h.toConfig(),y={...m,fields:()=>l(m.fields)};return"interfaces"in y&&(y.interfaces=()=>a(m.interfaces)),new ws(y)}else if($n(h)){const m=h.toConfig(),y={...m,types:()=>a(m.types)};return new Qc(y)}else if(Ft(h)){const m=h.toConfig(),y={...m,fields:()=>u(m.fields)};return new Na(y)}else if(bn(h)){const m=h.toConfig();return new Ui(m)}else if($r(h)){if(vf(h))return h;const m=h.toConfig();return new Fi(m)}throw new Error(`Unexpected schema type: ${h}`)}function l(h){const m={};for(const y in h){const g=h[y],v=d(g.type);v!=null&&g.args&&(g.type=v,g.args=s(g.args),m[y]=g)}return m}function u(h){const m={};for(const y in h){const g=h[y],v=d(g.type);v!=null&&(g.type=v,m[y]=g)}return m}function a(h){const m=[];for(const y of h){const g=d(y);g!=null&&m.push(g)}return m}function d(h){if(ln(h)){const m=d(h.ofType);return m!=null?new kn(m):null}else if(_t(h)){const m=d(h.ofType);return m!=null?new st(m):null}else if(pw(h)){let m=n[h.name];return m===void 0&&(m=DJ(h)?FJ(h):c(h),r[m.name]=n[h.name]=m),m!=null?r[m.name]:null}return null}}function Vp(e,t,n=null,r=null){if(t==null)return t;const i=UO(e);if(fi(i))return n!=null?n(i,t):t;if(ln(i))return ZM(t).map(o=>Vp(i.ofType,o,n,r));if(Ft(i)){const o=i.getFields(),s={};for(const c in t){const l=o[c];l!=null&&(s[c]=Vp(l.type,t[c],n,r))}return r!=null?r(i,s):s}}function uP(e,t){return Vp(e,t,(n,r)=>{try{return n.serialize(r)}catch{return r}})}function lP(e,t){return Vp(e,t,(n,r)=>{try{return n.parseValue(r)}catch{return r}})}function ME(e,t={}){const n=fP(cP(PE(CS(BJ(PE(CS(e.getTypeMap(),e,uP),e,t,c=>fi(c)),e,t),e,lP),e,t,c=>!fi(c)),e,t),e,t),r=e.getDirectives(),i=$J(r,e,t),{typeMap:o,directives:s}=UJ(n,i);return new Ew({...e.toConfig(),query:Su(o,Su(n,e.getQueryType())),mutation:Su(o,Su(n,e.getMutationType())),subscription:Su(o,Su(n,e.getSubscriptionType())),types:Object.values(o),directives:s})}function PE(e,t,n,r=()=>!0){const i={};for(const o in e)if(!o.startsWith("__")){const s=e[o];if(s==null||!r(s)){i[o]=s;continue}const c=jJ(t,n,o);if(c==null){i[o]=s;continue}const l=c(s,t);if(l===void 0){i[o]=s;continue}i[o]=l}return i}function BJ(e,t,n){const r=GJ(n);return r?PE(e,t,{[tt.ENUM_TYPE]:i=>{const o=i.toConfig(),s=o.values,c={};for(const l in s){const u=s[l],a=r(u,i.name,t,l);if(a===void 0)c[l]=u;else if(Array.isArray(a)){const[d,h]=a;c[d]=h===void 0?u:h}else a!==null&&(c[l]=a)}return np(new Ui({...o,values:c}))}},i=>bn(i)):e}function CS(e,t,n){const r=fP(e,t,{[tt.ARGUMENT]:i=>{if(i.defaultValue===void 0)return i;const o=jp(e,i.type);if(o!=null)return{...i,defaultValue:n(o,i.defaultValue)}}});return cP(r,t,{[tt.INPUT_OBJECT_FIELD]:i=>{if(i.defaultValue===void 0)return i;const o=jp(r,i.type);if(o!=null)return{...i,defaultValue:n(o,i.defaultValue)}}})}function jp(e,t){if(ln(t)){const n=jp(e,t.ofType);return n!=null?new kn(n):null}else if(_t(t)){const n=jp(e,t.ofType);return n!=null?new st(n):null}else if(pw(t)){const n=e[t.name];return n??null}return null}function cP(e,t,n){const r={};for(const i in e)if(!i.startsWith("__")){const o=e[i];if(!Et(o)&&!wt(o)&&!Ft(o)){r[i]=o;continue}const s=qJ(t,n,i);if(s==null){r[i]=o;continue}const c=o.toConfig(),l=c.fields,u={};for(const a in l){const d=l[a],h=s(d,a,i,t);if(h===void 0)u[a]=d;else if(Array.isArray(h)){const[m,y]=h;y.astNode!=null&&(y.astNode={...y.astNode,name:{...y.astNode.name,value:m}}),u[m]=y===void 0?d:y}else h!==null&&(u[a]=h)}Et(o)?r[i]=np(new cr({...c,fields:u})):wt(o)?r[i]=np(new ws({...c,fields:u})):r[i]=np(new Na({...c,fields:u}))}return r}function fP(e,t,n){const r={};for(const i in e)if(!i.startsWith("__")){const o=e[i];if(!Et(o)&&!wt(o)){r[i]=o;continue}const s=WJ(n);if(s==null){r[i]=o;continue}const c=o.toConfig(),l=c.fields,u={};for(const a in l){const d=l[a],h=d.args;if(h==null){u[a]=d;continue}const m=Object.keys(h);if(!m.length){u[a]=d;continue}const y={};for(const g of m){const v=h[g],w=s(v,a,i,t);if(w===void 0)y[g]=v;else if(Array.isArray(w)){const[T,N]=w;y[T]=N}else w!==null&&(y[g]=w)}u[a]={...d,args:y}}Et(o)?r[i]=new cr({...c,fields:u}):wt(o)?r[i]=new ws({...c,fields:u}):r[i]=new Na({...c,fields:u})}return r}function $J(e,t,n){const r=HJ(n);if(r==null)return e.slice();const i=[];for(const o of e){const s=r(o,t);s===void 0?i.push(o):s!==null&&i.push(s)}return i}function VJ(e,t){var i,o,s;const n=e.getType(t),r=[tt.TYPE];return Et(n)?(r.push(tt.COMPOSITE_TYPE,tt.OBJECT_TYPE),t===((i=e.getQueryType())==null?void 0:i.name)?r.push(tt.ROOT_OBJECT,tt.QUERY):t===((o=e.getMutationType())==null?void 0:o.name)?r.push(tt.ROOT_OBJECT,tt.MUTATION):t===((s=e.getSubscriptionType())==null?void 0:s.name)&&r.push(tt.ROOT_OBJECT,tt.SUBSCRIPTION)):Ft(n)?r.push(tt.INPUT_OBJECT_TYPE):wt(n)?r.push(tt.COMPOSITE_TYPE,tt.ABSTRACT_TYPE,tt.INTERFACE_TYPE):$n(n)?r.push(tt.COMPOSITE_TYPE,tt.ABSTRACT_TYPE,tt.UNION_TYPE):bn(n)?r.push(tt.ENUM_TYPE):$r(n)&&r.push(tt.SCALAR_TYPE),r}function jJ(e,t,n){const r=VJ(e,n);let i;const o=[...r];for(;!i&&o.length>0;){const s=o.pop();i=t[s]}return i??null}function zJ(e,t){var i,o,s;const n=e.getType(t),r=[tt.FIELD];return Et(n)?(r.push(tt.COMPOSITE_FIELD,tt.OBJECT_FIELD),t===((i=e.getQueryType())==null?void 0:i.name)?r.push(tt.ROOT_FIELD,tt.QUERY_ROOT_FIELD):t===((o=e.getMutationType())==null?void 0:o.name)?r.push(tt.ROOT_FIELD,tt.MUTATION_ROOT_FIELD):t===((s=e.getSubscriptionType())==null?void 0:s.name)&&r.push(tt.ROOT_FIELD,tt.SUBSCRIPTION_ROOT_FIELD)):wt(n)?r.push(tt.COMPOSITE_FIELD,tt.INTERFACE_FIELD):Ft(n)&&r.push(tt.INPUT_OBJECT_FIELD),r}function qJ(e,t,n){const r=zJ(e,n);let i;const o=[...r];for(;!i&&o.length>0;){const s=o.pop();i=t[s]}return i??null}function WJ(e){const t=e[tt.ARGUMENT];return t??null}function HJ(e){const t=e[tt.DIRECTIVE];return t??null}function GJ(e){const t=e[tt.ENUM_VALUE];return t??null}function np(e){if(Et(e)){const t=e.toConfig();if(t.astNode!=null){const n=[];for(const r in t.fields){const i=t.fields[r];i.astNode!=null&&n.push(i.astNode)}t.astNode={...t.astNode,kind:B.OBJECT_TYPE_DEFINITION,fields:n}}return t.extensionASTNodes!=null&&(t.extensionASTNodes=t.extensionASTNodes.map(n=>({...n,kind:B.OBJECT_TYPE_EXTENSION,fields:void 0}))),new cr(t)}else if(wt(e)){const t=e.toConfig();if(t.astNode!=null){const n=[];for(const r in t.fields){const i=t.fields[r];i.astNode!=null&&n.push(i.astNode)}t.astNode={...t.astNode,kind:B.INTERFACE_TYPE_DEFINITION,fields:n}}return t.extensionASTNodes!=null&&(t.extensionASTNodes=t.extensionASTNodes.map(n=>({...n,kind:B.INTERFACE_TYPE_EXTENSION,fields:void 0}))),new ws(t)}else if(Ft(e)){const t=e.toConfig();if(t.astNode!=null){const n=[];for(const r in t.fields){const i=t.fields[r];i.astNode!=null&&n.push(i.astNode)}t.astNode={...t.astNode,kind:B.INPUT_OBJECT_TYPE_DEFINITION,fields:n}}return t.extensionASTNodes!=null&&(t.extensionASTNodes=t.extensionASTNodes.map(n=>({...n,kind:B.INPUT_OBJECT_TYPE_EXTENSION,fields:void 0}))),new Na(t)}else if(bn(e)){const t=e.toConfig();if(t.astNode!=null){const n=[];for(const r in t.values){const i=t.values[r];i.astNode!=null&&n.push(i.astNode)}t.astNode={...t.astNode,values:n}}return t.extensionASTNodes!=null&&(t.extensionASTNodes=t.extensionASTNodes.map(n=>({...n,values:void 0}))),new Ui(t)}else return e}function YJ(e){return QJ(e.getTypeMap(),e.getDirectives()),e}function QJ(e,t){const n=Object.create(null);for(const u in e){const a=e[u];if(a==null||u.startsWith("__"))continue;const d=a.name;if(!d.startsWith("__")){if(n[d]!=null){console.warn(`Duplicate schema type name ${d} found; keeping the existing one found in the schema`);continue}n[d]=a}}for(const u in n){const a=n[u];e[u]=a}for(const u of t)u.args=u.args.filter(a=>(a.type=l(a.type),a.type!==null));for(const u in e){const a=e[u];!u.startsWith("__")&&u in n&&a!=null&&r(a)}for(const u in e)!u.startsWith("__")&&!(u in n)&&delete e[u];function r(u){if(Et(u)){i(u),o(u);return}else if(wt(u)){i(u),"getInterfaces"in u&&o(u);return}else if($n(u)){c(u);return}else if(Ft(u)){s(u);return}else if(fi(u))return;throw new Error(`Unexpected schema type: ${u}`)}function i(u){const a=u.getFields();for(const[d,h]of Object.entries(a))h.args.map(m=>(m.type=l(m.type),m.type===null?null:m)).filter(Boolean),h.type=l(h.type),h.type===null&&delete a[d]}function o(u){if("getInterfaces"in u){const a=u.getInterfaces();a.push(...a.splice(0).map(d=>l(d)).filter(Boolean))}}function s(u){const a=u.getFields();for(const[d,h]of Object.entries(a))h.type=l(h.type),h.type===null&&delete a[d]}function c(u){const a=u.getTypes();a.push(...a.splice(0).map(d=>l(d)).filter(Boolean))}function l(u){if(ln(u)){const a=l(u.ofType);return a!=null?new kn(a):null}else if(_t(u)){const a=l(u.ofType);return a!=null?new st(a):null}else if(pw(u)){const a=e[u.name];if(a&&u!==a)return a}return u}}function dP(e,t){const n=e.getTypeMap();for(const r in n){const i=n[r];if(!Di(i).name.startsWith("__")&&Et(i)){const o=i.getFields();for(const s in o){const c=o[s];t(c,r,s)}}}}function kS(e,t){const n=e.getTypeMap();for(const r in n){const i=n[r];if(!Di(i).name.startsWith("__")){if(Et(i)){const o=i.getFields();for(const s in o){const c=o[s];for(const l of c.args)l.defaultValue=t(l.type,l.defaultValue)}}else if(Ft(i)){const o=i.getFields();for(const s in o){const c=o[s];c.defaultValue=t(c.type,c.defaultValue)}}}}}function qc(e,t=!1,n=!1,r=!1){let i,o=!0;const s=e.every(u=>{if(Array.isArray(u)){if(i===void 0)return i=u.length,!0;if(i===u.length)return!0}else o=!1;return!1});if(r&&s)return new Array(i).fill(null).map((u,a)=>qc(e.map(d=>d[a]),t,n,r));if(o)return e.flat(1);let c,l;t&&(l=e.find(u=>MS(u)),c==null&&(c={}),l&&Object.setPrototypeOf(c,Object.create(Object.getPrototypeOf(l))));for(const u of e)if(MS(u)){if(l){const a=Object.getPrototypeOf(c),d=Object.getPrototypeOf(u);if(d)for(const h of Object.getOwnPropertyNames(d)){const m=Object.getOwnPropertyDescriptor(d,h);km(m)&&Object.defineProperty(a,h,m)}}for(const a in u)c==null&&(c={}),a in c?c[a]=qc([c[a],u[a]],t,n,r):c[a]=u[a]}else Array.isArray(u)&&Array.isArray(c)?c=qc([c,u],t,n,r):c=u;return c}function MS(e){return e&&typeof e=="object"&&!Array.isArray(e)}function KJ(e){return e&&typeof e=="object"&&"kind"in e&&e.kind===B.DOCUMENT}function XJ(e,t={}){const{requireResolversForArgs:n,requireResolversForNonScalar:r,requireResolversForAllFields:i}=t;if(i&&(n||r))throw new TypeError("requireResolversForAllFields takes precedence over the more specific assertions. Please configure either requireResolversForAllFields or requireResolversForArgs / requireResolversForNonScalar, but not a combination of them.");dP(e,(o,s,c)=>{i&&J0("requireResolversForAllFields",i,o,s,c),n&&o.args.length>0&&J0("requireResolversForArgs",n,o,s,c),r!=="ignore"&&!$r(Di(o.type))&&J0("requireResolversForNonScalar",r,o,s,c)})}function J0(e,t,n,r,i){if(!n.resolve){const o=`Resolver missing for "${r}.${i}".
To disable this validator, use:
  resolverValidationOptions: {
    ${e}: 'ignore'
  }`;if(t==="error")throw new Error(o);t==="warn"&&console.warn(o);return}if(typeof n.resolve!="function")throw new Error(`Resolver "${r}.${i}" must be a function`)}function JJ(e,t){ME(e,{[tt.ABSTRACT_TYPE]:n=>{if(!n.resolveType){const r=`Type "${n.name}" is missing a "__resolveType" resolver. Pass 'ignore' into "resolverValidationOptions.requireResolversForResolveType" to disable this error.`;if(t==="error")throw new Error(r);t==="warn"&&console.warn(r)}}})}function ZJ(e,t){const n={},r=e.getTypeMap();for(const i in r){const o=r[i];if("getInterfaces"in o){n[i]={};for(const c of o.getInterfaces())if(t[c.name])for(const l in t[c.name])(l==="__isTypeOf"||!l.startsWith("__"))&&(n[i][l]=t[c.name][l]);const s=t[i];n[i]={...n[i],...s}}else{const s=t[i];s!=null&&(n[i]=s)}}return n}function eZ({schema:e,resolvers:t,defaultFieldResolver:n,resolverValidationOptions:r={},inheritResolversFromInterfaces:i=!1,updateResolversInPlace:o=!1}){const{requireResolversToMatchSchema:s="error",requireResolversForResolveType:c}=r,l=i?ZJ(e,t):t;for(const u in l){const a=l[u];if(typeof a!=="object")throw new Error(`"${u}" defined in resolvers, but has invalid value "${a}". The resolver's value must be of type object.`);const h=e.getType(u);if(h==null){const m=`"${u}" defined in resolvers, but not in schema`;if(s&&s!=="error"){s==="warn"&&console.warn(m);continue}throw new Error(m)}else if(vf(h))for(const m in a)m.startsWith("__")?h[m.substring(2)]=a[m]:h[m]=a[m];else if(bn(h)){const m=h.getValues();for(const y in a)if(!y.startsWith("__")&&!m.some(g=>g.name===y)&&s&&s!=="ignore"){const g=`${h.name}.${y} was defined in resolvers, but not present within ${h.name}`;if(s==="error")throw new Error(g);console.warn(g)}}else if($n(h)){for(const m in a)if(!m.startsWith("__")&&s&&s!=="ignore"){const y=`${h.name}.${m} was defined in resolvers, but ${h.name} is not an object or interface type`;if(s==="error")throw new Error(y);console.warn(y)}}else if(Et(h)||wt(h)){for(const m in a)if(!m.startsWith("__"))if(h.getFields()[m]==null){if(s&&s!=="ignore"){const v=`${u}.${m} defined in resolvers, but not in schema`;if(s==="error")throw new Error(v);console.error(v)}}else{const v=a[m];if(typeof v!="function"&&typeof v!="object")throw new Error(`Resolver ${u}.${m} must be object or function`)}}}return e=o?tZ(e,l,n):nZ(e,l,n),c&&c!=="ignore"&&JJ(e,c),e}function tZ(e,t,n){var i,o,s,c;const r=e.getTypeMap();for(const l in t){const u=e.getType(l),a=t[l];if($r(u))for(const d in a)d.startsWith("__")?u[d.substring(2)]=a[d]:d==="astNode"&&u.astNode!=null?u.astNode={...u.astNode,description:((i=a==null?void 0:a.astNode)==null?void 0:i.description)??u.astNode.description,directives:(u.astNode.directives??[]).concat(((o=a==null?void 0:a.astNode)==null?void 0:o.directives)??[])}:d==="extensionASTNodes"&&u.extensionASTNodes!=null?u.extensionASTNodes=u.extensionASTNodes.concat((a==null?void 0:a.extensionASTNodes)??[]):d==="extensions"&&u.extensions!=null&&a.extensions!=null?u.extensions=Object.assign(Object.create(null),u.extensions,a.extensions):u[d]=a[d];else if(bn(u)){const d=u.toConfig(),h=d.values;for(const m in a)m.startsWith("__")?d[m.substring(2)]=a[m]:m==="astNode"&&d.astNode!=null?d.astNode={...d.astNode,description:((s=a==null?void 0:a.astNode)==null?void 0:s.description)??d.astNode.description,directives:(d.astNode.directives??[]).concat(((c=a==null?void 0:a.astNode)==null?void 0:c.directives)??[])}:m==="extensionASTNodes"&&d.extensionASTNodes!=null?d.extensionASTNodes=d.extensionASTNodes.concat((a==null?void 0:a.extensionASTNodes)??[]):m==="extensions"&&u.extensions!=null&&a.extensions!=null?u.extensions=Object.assign(Object.create(null),u.extensions,a.extensions):h[m]&&(h[m].value=a[m]);r[l]=new Ui(d)}else if($n(u))for(const d in a)d.startsWith("__")&&(u[d.substring(2)]=a[d]);else if(Et(u)||wt(u))for(const d in a){if(d.startsWith("__")){u[d.substring(2)]=a[d];continue}const m=u.getFields()[d];if(m!=null){const y=a[d];typeof y=="function"?m.resolve=y.bind(a):hP(m,y)}}}return kS(e,uP),YJ(e),kS(e,lP),n!=null&&dP(e,l=>{l.resolve||(l.resolve=n)}),e}function nZ(e,t,n){return e=ME(e,{[tt.SCALAR_TYPE]:r=>{var s,c;const i=r.toConfig(),o=t[r.name];if(!vf(r)&&o!=null){for(const l in o)l.startsWith("__")?i[l.substring(2)]=o[l]:l==="astNode"&&i.astNode!=null?i.astNode={...i.astNode,description:((s=o==null?void 0:o.astNode)==null?void 0:s.description)??i.astNode.description,directives:(i.astNode.directives??[]).concat(((c=o==null?void 0:o.astNode)==null?void 0:c.directives)??[])}:l==="extensionASTNodes"&&i.extensionASTNodes!=null?i.extensionASTNodes=i.extensionASTNodes.concat((o==null?void 0:o.extensionASTNodes)??[]):l==="extensions"&&i.extensions!=null&&o.extensions!=null?i.extensions=Object.assign(Object.create(null),r.extensions,o.extensions):i[l]=o[l];return new Fi(i)}},[tt.ENUM_TYPE]:r=>{var c,l;const i=t[r.name],o=r.toConfig(),s=o.values;if(i!=null){for(const u in i)u.startsWith("__")?o[u.substring(2)]=i[u]:u==="astNode"&&o.astNode!=null?o.astNode={...o.astNode,description:((c=i==null?void 0:i.astNode)==null?void 0:c.description)??o.astNode.description,directives:(o.astNode.directives??[]).concat(((l=i==null?void 0:i.astNode)==null?void 0:l.directives)??[])}:u==="extensionASTNodes"&&o.extensionASTNodes!=null?o.extensionASTNodes=o.extensionASTNodes.concat((i==null?void 0:i.extensionASTNodes)??[]):u==="extensions"&&o.extensions!=null&&i.extensions!=null?o.extensions=Object.assign(Object.create(null),r.extensions,i.extensions):s[u]&&(s[u].value=i[u]);return new Ui(o)}},[tt.UNION_TYPE]:r=>{const i=t[r.name];if(i!=null){const o=r.toConfig();return i.__resolveType&&(o.resolveType=i.__resolveType),new Qc(o)}},[tt.OBJECT_TYPE]:r=>{const i=t[r.name];if(i!=null){const o=r.toConfig();return i.__isTypeOf&&(o.isTypeOf=i.__isTypeOf),new cr(o)}},[tt.INTERFACE_TYPE]:r=>{const i=t[r.name];if(i!=null){const o=r.toConfig();return i.__resolveType&&(o.resolveType=i.__resolveType),new ws(o)}},[tt.COMPOSITE_FIELD]:(r,i,o)=>{const s=t[o];if(s!=null){const c=s[i];if(c!=null){const l={...r};return typeof c=="function"?l.resolve=c.bind(s):hP(l,c),l}}}}),n!=null&&(e=ME(e,{[tt.OBJECT_FIELD]:r=>({...r,resolve:r.resolve!=null?r.resolve:n})})),e}function hP(e,t){for(const n in t)e[n]=t[n]}function pP(e,t){if(!e||Array.isArray(e)&&e.length===0)return{};if(!Array.isArray(e))return e;if(e.length===1)return e[0]||{};const n=new Array;for(let i of e)Array.isArray(i)&&(i=pP(i)),typeof i=="object"&&i&&n.push(i);return qc(n,!0)}function rZ(e,t,n){const r=iZ([...t,...e].filter(km),n);return n&&n.sort&&r.sort(Cm),r}function iZ(e,t){return e.reduce((n,r)=>{const i=n.findIndex(o=>o.name.value===r.name.value);return i===-1?n.concat([r]):(t!=null&&t.reverseArguments||(n[i]=r),n)},[])}function oZ(e,t){return!!e.find(n=>n.name.value===t.name.value)}function mP(e,t){var n;return!!((n=t==null?void 0:t[e.name.value])!=null&&n.repeatable)}function PS(e,t){return t.some(({value:n})=>n===e.value)}function gP(e,t){const n=[...t];for(const r of e){const i=n.findIndex(o=>o.name.value===r.name.value);if(i>-1){const o=n[i];if(o.value.kind==="ListValue"){const s=o.value.values,c=r.value.values;o.value.values=vP(s,c,(l,u)=>{const a=l.value;return!a||!u.some(d=>d.value===a)})}else o.value=r.value}else n.push(r)}return n}function sZ(e,t){return e.map((n,r,i)=>{const o=i.findIndex(s=>s.name.value===n.name.value);if(o!==r&&!mP(n,t)){const s=i[o];return n.arguments=gP(n.arguments,s.arguments),null}return n}).filter(km)}function Ao(e=[],t=[],n,r){const i=n&&n.reverseDirectives,o=i?e:t,s=i?t:e,c=sZ([...o],r);for(const l of s)if(oZ(c,l)&&!mP(l,r)){const u=c.findIndex(d=>d.name.value===l.name.value),a=c[u];c[u].arguments=gP(l.arguments||[],a.arguments||[])}else c.push(l);return c}function aZ(e,t){return t?{...e,arguments:vP(t.arguments||[],e.arguments||[],(n,r)=>!PS(n.name,r.map(i=>i.name))),locations:[...t.locations,...e.locations.filter(n=>!PS(n,t.locations))]}:e}function vP(e,t,n){return e.concat(t.filter(r=>n(r,e)))}function uZ(e,t,n,r){if(n!=null&&n.consistentEnumMerge){const s=[];e&&s.push(...e),e=t,t=s}const i=new Map;if(e)for(const s of e)i.set(s.name.value,s);if(t)for(const s of t){const c=s.name.value;if(i.has(c)){const l=i.get(c);l.description=s.description||l.description,l.directives=Ao(s.directives,l.directives,r)}else i.set(c,s)}const o=[...i.values()];return n&&n.sort&&o.sort(Cm),o}function lZ(e,t,n,r){return t?{name:e.name,description:e.description||t.description,kind:n!=null&&n.convertExtensions||e.kind==="EnumTypeDefinition"||t.kind==="EnumTypeDefinition"?"EnumTypeDefinition":"EnumTypeExtension",loc:e.loc,directives:Ao(e.directives,t.directives,n,r),values:uZ(e.values,t.values,n)}:n!=null&&n.convertExtensions?{...e,kind:B.ENUM_TYPE_DEFINITION}:e}function cZ(e){return typeof e=="string"}function fZ(e){return e instanceof lw}function LS(e){let t=e;for(;t.kind===B.LIST_TYPE||t.kind==="NonNullType";)t=t.type;return t}function DS(e){return e.kind!==B.NAMED_TYPE}function LE(e){return e.kind===B.LIST_TYPE}function ha(e){return e.kind===B.NON_NULL_TYPE}function zp(e){return LE(e)?`[${zp(e.type)}]`:ha(e)?`${zp(e.type)}!`:e.name.value}var as;(function(e){e[e.A_SMALLER_THAN_B=-1]="A_SMALLER_THAN_B",e[e.A_EQUALS_B=0]="A_EQUALS_B",e[e.A_GREATER_THAN_B=1]="A_GREATER_THAN_B"})(as||(as={}));function dZ(e,t){return e==null&&t==null?as.A_EQUALS_B:e==null?as.A_SMALLER_THAN_B:t==null?as.A_GREATER_THAN_B:e<t?as.A_SMALLER_THAN_B:e>t?as.A_GREATER_THAN_B:as.A_EQUALS_B}function hZ(e,t){const n=e.findIndex(r=>r.name.value===t.name.value);return[n>-1?e[n]:null,n]}function k1(e,t,n,r,i){const o=[];if(n!=null&&o.push(...n),t!=null)for(const s of t){const[c,l]=hZ(o,s);if(c&&!(r!=null&&r.ignoreFieldConflicts)){const u=(r==null?void 0:r.onFieldTypeConflict)&&r.onFieldTypeConflict(c,s,e,r==null?void 0:r.throwOnConflict)||pZ(e,c,s,r==null?void 0:r.throwOnConflict);u.arguments=rZ(s.arguments||[],c.arguments||[],r),u.directives=Ao(s.directives,c.directives,r,i),u.description=s.description||c.description,o[l]=u}else o.push(s)}if(r&&r.sort&&o.sort(Cm),r&&r.exclusions){const s=r.exclusions;return o.filter(c=>!s.includes(`${e.name.value}.${c.name.value}`))}return o}function pZ(e,t,n,r=!1){const i=zp(t.type),o=zp(n.type);if(i!==o){const s=LS(t.type),c=LS(n.type);if(s.name.value!==c.name.value)throw new Error(`Field "${n.name.value}" already defined with a different type. Declared as "${s.name.value}", but you tried to override with "${c.name.value}"`);if(!Mc(t.type,n.type,!r))throw new Error(`Field '${e.name.value}.${t.name.value}' changed type from '${i}' to '${o}'`)}return ha(n.type)&&!ha(t.type)&&(t.type=n.type),t}function Mc(e,t,n=!1){if(!DS(e)&&!DS(t))return e.toString()===t.toString();if(ha(t)){const r=ha(e)?e.type:e;return Mc(r,t.type)}return ha(e)?Mc(t,e,n):LE(e)?LE(t)&&Mc(e.type,t.type)||ha(t)&&Mc(e,t.type):!1}function mZ(e,t,n,r){if(t)try{return{name:e.name,description:e.description||t.description,kind:n!=null&&n.convertExtensions||e.kind==="InputObjectTypeDefinition"||t.kind==="InputObjectTypeDefinition"?"InputObjectTypeDefinition":"InputObjectTypeExtension",loc:e.loc,fields:k1(e,e.fields,t.fields,n),directives:Ao(e.directives,t.directives,n,r)}}catch(i){throw new Error(`Unable to merge GraphQL input type "${e.name.value}": ${i.message}`)}return n!=null&&n.convertExtensions?{...e,kind:B.INPUT_OBJECT_TYPE_DEFINITION}:e}function gZ(e,t){return!!e.find(n=>n.name.value===t.name.value)}function M1(e=[],t=[],n={}){const r=[...t,...e.filter(i=>!gZ(t,i))];return n&&n.sort&&r.sort(Cm),r}function vZ(e,t,n,r){if(t)try{return{name:e.name,description:e.description||t.description,kind:n!=null&&n.convertExtensions||e.kind==="InterfaceTypeDefinition"||t.kind==="InterfaceTypeDefinition"?"InterfaceTypeDefinition":"InterfaceTypeExtension",loc:e.loc,fields:k1(e,e.fields,t.fields,n,r),directives:Ao(e.directives,t.directives,n,r),interfaces:e.interfaces?M1(e.interfaces,t.interfaces,n):void 0}}catch(i){throw new Error(`Unable to merge GraphQL interface "${e.name.value}": ${i.message}`)}return n!=null&&n.convertExtensions?{...e,kind:B.INTERFACE_TYPE_DEFINITION}:e}function yZ(e,t,n,r){return t?{name:e.name,description:e.description||t.description,kind:n!=null&&n.convertExtensions||e.kind==="ScalarTypeDefinition"||t.kind==="ScalarTypeDefinition"?"ScalarTypeDefinition":"ScalarTypeExtension",loc:e.loc,directives:Ao(e.directives,t.directives,n,r)}:n!=null&&n.convertExtensions?{...e,kind:B.SCALAR_TYPE_DEFINITION}:e}const DE={query:"Query",mutation:"Mutation",subscription:"Subscription"};function EZ(e=[],t=[]){const n=[];for(const r in DE){const i=e.find(o=>o.operation===r)||t.find(o=>o.operation===r);i&&n.push(i)}return n}function wZ(e,t,n,r){return t?{kind:e.kind===B.SCHEMA_DEFINITION||t.kind===B.SCHEMA_DEFINITION?B.SCHEMA_DEFINITION:B.SCHEMA_EXTENSION,description:e.description||t.description,directives:Ao(e.directives,t.directives,n,r),operationTypes:EZ(e.operationTypes,t.operationTypes)}:n!=null&&n.convertExtensions?{...e,kind:B.SCHEMA_DEFINITION}:e}function TZ(e,t,n,r){if(t)try{return{name:e.name,description:e.description||t.description,kind:n!=null&&n.convertExtensions||e.kind==="ObjectTypeDefinition"||t.kind==="ObjectTypeDefinition"?"ObjectTypeDefinition":"ObjectTypeExtension",loc:e.loc,fields:k1(e,e.fields,t.fields,n,r),directives:Ao(e.directives,t.directives,n,r),interfaces:M1(e.interfaces,t.interfaces,n)}}catch(i){throw new Error(`Unable to merge GraphQL type "${e.name.value}": ${i.message}`)}return n!=null&&n.convertExtensions?{...e,kind:B.OBJECT_TYPE_DEFINITION}:e}function _Z(e,t,n,r){return t?{name:e.name,description:e.description||t.description,directives:Ao(e.directives,t.directives,n,r),kind:n!=null&&n.convertExtensions||e.kind==="UnionTypeDefinition"||t.kind==="UnionTypeDefinition"?B.UNION_TYPE_DEFINITION:B.UNION_TYPE_EXTENSION,loc:e.loc,types:M1(e.types,t.types,n)}:n!=null&&n.convertExtensions?{...e,kind:B.UNION_TYPE_DEFINITION}:e}const Du="SCHEMA_DEF_SYMBOL";function NZ(e){return"name"in e}function FS(e,t,n={}){var i,o,s;const r=n;for(const c of e)if(NZ(c)){const l=(i=c.name)==null?void 0:i.value;if(t!=null&&t.commentDescriptions&&xJ(c),l==null)continue;if((o=t==null?void 0:t.exclusions)!=null&&o.includes(l+".*")||(s=t==null?void 0:t.exclusions)!=null&&s.includes(l))delete r[l];else switch(c.kind){case B.OBJECT_TYPE_DEFINITION:case B.OBJECT_TYPE_EXTENSION:r[l]=TZ(c,r[l],t,n);break;case B.ENUM_TYPE_DEFINITION:case B.ENUM_TYPE_EXTENSION:r[l]=lZ(c,r[l],t,n);break;case B.UNION_TYPE_DEFINITION:case B.UNION_TYPE_EXTENSION:r[l]=_Z(c,r[l],t,n);break;case B.SCALAR_TYPE_DEFINITION:case B.SCALAR_TYPE_EXTENSION:r[l]=yZ(c,r[l],t,n);break;case B.INPUT_OBJECT_TYPE_DEFINITION:case B.INPUT_OBJECT_TYPE_EXTENSION:r[l]=mZ(c,r[l],t,n);break;case B.INTERFACE_TYPE_DEFINITION:case B.INTERFACE_TYPE_EXTENSION:r[l]=vZ(c,r[l],t,n);break;case B.DIRECTIVE_DEFINITION:r[l]&&l in{}&&(bZ(r[l])||(r[l]=void 0)),r[l]=aZ(c,r[l]);break}}else(c.kind===B.SCHEMA_DEFINITION||c.kind===B.SCHEMA_EXTENSION)&&(r[Du]=wZ(c,r[Du],t));return r}function bZ(e){return e!=null&&typeof e=="object"&&"kind"in e&&typeof e.kind=="string"}function US(e,t){kE();const n={kind:B.DOCUMENT,definitions:xZ(e,{useSchemaDefinition:!0,forceSchemaDefinition:!1,throwOnConflict:!1,commentDescriptions:!1,...t})};let r;return t!=null&&t.commentDescriptions?r=IJ(n):r=n,kE(),r}function Cu(e,t,n=[],r=[],i=new Set){if(e&&!i.has(e))if(i.add(e),typeof e=="function")Cu(e(),t,n,r,i);else if(Array.isArray(e))for(const o of e)Cu(o,t,n,r,i);else if(iI(e)){const o=dJ(e,t);Cu(o.definitions,t,n,r,i)}else if(cZ(e)||fZ(e)){const o=cw(e,t);Cu(o.definitions,t,n,r,i)}else if(typeof e=="object"&&i8(e))e.kind===B.DIRECTIVE_DEFINITION?n.push(e):r.push(e);else if(KJ(e))Cu(e.definitions,t,n,r,i);else throw new Error(`typeDefs must contain only strings, documents, schemas, or functions, got ${typeof e}`);return{allDirectives:n,allNodes:r}}function xZ(e,t){var c,l,u;kE();const{allDirectives:n,allNodes:r}=Cu(e,t),i=FS(n,t),o=FS(r,t,i);if(t!=null&&t.useSchemaDefinition){const a=o[Du]||{kind:B.SCHEMA_DEFINITION,operationTypes:[]},d=a.operationTypes;for(const h in DE)if(!d.find(y=>y.operation===h)){const y=DE[h],g=o[y];g!=null&&g.name!=null&&d.push({kind:B.OPERATION_TYPE_DEFINITION,type:{kind:B.NAMED_TYPE,name:g.name},operation:h})}((c=a==null?void 0:a.operationTypes)==null?void 0:c.length)!=null&&a.operationTypes.length>0&&(o[Du]=a)}t!=null&&t.forceSchemaDefinition&&!((u=(l=o[Du])==null?void 0:l.operationTypes)!=null&&u.length)&&(o[Du]={kind:B.SCHEMA_DEFINITION,operationTypes:[{kind:B.OPERATION_TYPE_DEFINITION,operation:"query",type:{kind:B.NAMED_TYPE,name:{kind:B.NAME,value:"Query"}}}]});const s=Object.values(o);if(t!=null&&t.sort){const a=typeof t.sort=="function"?t.sort:dZ;s.sort((d,h)=>{var m,y;return a((m=d.name)==null?void 0:m.value,(y=h.name)==null?void 0:y.value)})}return s}function Au(e,t){if(!(!e||!t||t===e.extensions)){if(!e.extensions){e.extensions=t;return}e.extensions=qc([e.extensions,t],!1,!0)}}function RZ(e,t){Au(e,t.schemaExtensions);for(const[n,r]of Object.entries(t.types||{})){const i=e.getType(n);if(i){if(Au(i,r.extensions),r.type==="object"||r.type==="interface")for(const[o,s]of Object.entries(r.fields)){const c=i.getFields()[o];if(c){Au(c,s.extensions);for(const[l,u]of Object.entries(s.arguments))Au(c.args.find(a=>a.name===l),u)}}else if(r.type==="input")for(const[o,s]of Object.entries(r.fields)){const c=i.getFields()[o];Au(c,s.extensions)}else if(r.type==="enum")for(const[o,s]of Object.entries(r.values)){const c=i.getValue(o);Au(c,s)}}}return e}function SZ({typeDefs:e,resolvers:t={},resolverValidationOptions:n={},inheritResolversFromInterfaces:r=!1,updateResolversInPlace:i=!1,schemaExtensions:o,defaultFieldResolver:s,...c}){if(typeof n!="object")throw new Error("Expected `resolverValidationOptions` to be an object");if(!e)throw new Error("Must provide typeDefs");let l;if(iI(e))l=e;else if(c!=null&&c.commentDescriptions){const u=US(e,{...c,commentDescriptions:!0});l=p6(u,c)}else{const u=US(e,c);l=EI(u,c)}if(l=eZ({schema:l,resolvers:pP(t),resolverValidationOptions:n,inheritResolversFromInterfaces:r,updateResolversInPlace:i,defaultFieldResolver:s}),Object.keys(n).length>0&&XJ(l,n),o)for(const u of ZM(o))RZ(l,u);return l}const AZ=fo`# GraphQL Schema
      type Query {
        me: User
      }
      type User {
        userId: ID!
        email: String
        name: String
      }
    `,OZ=SZ({typeDefs:AZ}),yP=k.createContext(void 0),IZ=({children:e})=>{const[t,n]=k.useState(OZ),[r,i]=k.useState(null),{getValidToken:o,userId:s}=kf();k.useEffect(()=>{s&&(console.log("User ID login, fetching schema:",s),c(s))},[s]);const c=async d=>{try{const[h]=await Promise.all([la.from("user_configs").select("blueprint").eq("user_id",d).single()]);if(h.error)console.error("Error fetching blueprint:",h.error);else if(h.data){const m=h.data.blueprint;console.log("Blueprint:",m),i(m)}}catch(h){console.error("Error fetching schemas:",h)}},l=kZ(o),u=JI({uri:"http://localhost:4000/graphql"}),a=new TC({link:V9([l.concat(u)]),cache:new yC});return P.jsx(yP.Provider,{value:{fetchUserSchema:c,schema:t,blueprint:r},children:P.jsx(eB,{client:a,children:e})})};function CZ(){const e=k.useContext(yP);if(!e)throw new Error("useAuthApollo must be used within a CustomApolloProvider");return e}function kZ(e){return eJ(async(t,{headers:n})=>{const r=await e();return{headers:{...n,authorization:r?`Bearer ${r}`:""}}})}const MZ=()=>{const[e,t]=k.useState({type:"all",name:"",metadata:{objectID:"WyJwdWJsaWMiLCAiaW5kaXZpZHVhbCIsIDFd",objectType:"individual"}}),n=i=>{t(i)},{blueprint:r}=CZ();return r===null?P.jsx("div",{className:"flex flex-row items-center w-screen h-screen overflow-hidden bg-portage-50",children:P.jsx("div",{className:"flex flex-col items-center w-full h-full p-4",children:P.jsx("h2",{className:"text-xl font-bold",children:"Loading schema..."})})}):P.jsxs("div",{className:"flex flex-row items-center w-screen h-screen overflow-hidden bg-portage-50",children:[r===null&&P.jsx("div",{className:"flex flex-col items-center w-full h-full p-4",children:P.jsx("h2",{className:"text-xl font-bold",children:"Loading schema..."})}),P.jsx(l5,{blueprint:r,updateSearchQuery:n}),P.jsxs("div",{className:"flex flex-col items-center w-full mr-3 bg-white max-h-[calc(100%-20px)] min-h-[calc(100%-20px)] rounded-xl overflow-auto pb-16 shadow-lg",children:[P.jsx(NB,{blueprint:r,updateSearchQuery:n}),P.jsx(ZX,{blueprint:r,searchQuery:e,updateSearchQuery:n})]})]})},PZ=({logoUrl:e,setLogoUrl:t,isHovering:n,setIsHovering:r})=>P.jsxs("div",{className:"flex flex-col gap-2",children:[P.jsx("label",{className:"text-sm font-medium text-zinc-800",children:"Business Logo"}),P.jsxs("div",{className:"flex gap-4 items-center",children:[P.jsx("div",{className:"flex justify-center items-center w-20 h-20 bg-gray-100 rounded-lg",children:P.jsx("img",{className:"object-contain max-w-full max-h-full",src:e||"https://placehold.co/80x80/F3F4F6/94A3B8/svg",alt:"Business logo preview"})}),P.jsx("input",{type:"file",accept:"image/*",id:"logoUpload",className:"hidden",onChange:i=>{var o;(o=i.target.files)!=null&&o[0]&&t(URL.createObjectURL(i.target.files[0]))}}),P.jsx("label",{htmlFor:"logoUpload",className:"px-4 py-2 text-sm font-medium text-white rounded-lg cursor-pointer",onMouseEnter:()=>r("upload"),onMouseLeave:()=>r(null),style:{background:n==="upload"?"rgb(1, 40, 50)":"rgb(2, 159, 202)"},children:"Upload Logo"})]})]}),LZ=({businessName:e,setBusinessName:t,logoUrl:n,setLogoUrl:r,isHovering:i,setIsHovering:o})=>P.jsxs("div",{className:"flex flex-col gap-4",children:[P.jsxs("div",{className:"flex flex-col gap-2",children:[P.jsx("label",{htmlFor:"businessName",className:"text-sm font-medium text-zinc-800",children:"Business Name"}),P.jsx("input",{type:"text",id:"businessName",placeholder:"Enter your business name",className:"px-4 py-3 w-full text-base rounded-lg border",value:e,onChange:s=>t(s.target.value)})]}),P.jsx(PZ,{logoUrl:n,setLogoUrl:r,isHovering:i,setIsHovering:o})]}),DZ="/dynamic-frontend/assets/gs-F3KxuHWd.png",FZ="/dynamic-frontend/assets/odoo-BgcvVHfR.png",UZ="/dynamic-frontend/assets/shopify-DdS3B00J.png",BZ="/dynamic-frontend/assets/quick_books-dE1LWGVC.png",$Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAC+ZJREFUeJzt3XusHGUZx/HvnnNouRUKCIhSxHAxBCGiAWyDtCVULgoiooIVRDTBGDUaiZHESzQGSfCG4hUVNGA1RRsQKQgUEFG8RlQi8o9UE8pFkEK5tLTn+Me7C9tlds8zM+9tdn6f5M05Z8/svM/OzjPvzLzvzICIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiISAyd1AHMYidgX2BPYB4wF5jq+39nyM/Z/jds2iKj3tcEMyP+Hvxf1fcV/a/otWngWeAZ4BFgHbAW2DIijqRy+7LnA6cCxwOLgJemDUci2ATcDdwGrAJuZ3TittJuwMXAU7iFo9Lecg+wHHnOMuBB0n8xKnmVG4BdablTcfukqb8MlTzLP4AXkVDKY5BDgd8B2yaMQfL3K2Ap7gA/uskUleIS81pgn0T1S3O8DHgI+EOKylO1IKfgzliIWKwDXg5sjF3xROwKu85NVK80017ASSkqTpEgOwHHJqhXmu20FJVOzT6Jd0eXrHctcAXwG+A+YD3P97x2jGWi73eG/F7U8z6qh77ob2uve5Vd25mK/0tp8HNOAHNwG8m9gYXA6cB2hnkt9Rtavj6J/TTfF4Bt0oQpkRwEPIZtfdgrUYxRXYltYaxIFaBE93ls60T0ViTFMYh1fNWng0YhObnVON1LQgZRJEWCWHpG7+0WaYe1xumi96qnSJDtDdP8LXgUkpPHjNNZDua9SpEgcwzTPBA8CsnJM8bp5gaNokCKBLHUaV1gMh6sF0xFX19zTZDcLuSSsKz9ONHXi1wTJNUQGMlb9PUiRU967ASZApZ0y6HAAtyJgk24C7Xuxg2pvgHY4LFe8a8VexaPMHuH0Nc81DMf+Az2qxWfAL6JG14tce2I7Tu6IFWAMT3K7AviGzXrOAN42FBPUXkKOB/t5sVkTZALYweWYiWwNJNV45rAtT4/onqn0na4LdX1uEF1ko9WHKSHSpAOcCnwgQrvLbIMWIOSJCetSJBQB+kfA86p8L5RXgP8hJYcHDZAK/pBQrQghwCfqxCLxfHAhwPNW8ppRQsSIkG+SNhT1p8F9gg4f7FRgpSYpucw3PFCSDsCHwlch8xOCdJVJq6zK8ZR1tmku03SuLOu+EqQrjJxvaFqICW9GHfQLukoQUpMA+7erfvViKWsIyPWJS+kBOmyxvWKOoFUsH/k+mRr0RMkxWBFny1I7Eswm9Zp2AGOwD2A6C/Av9OGU5takC5rXLHjj37ryxoW4i5dvhO4GndPsR8CuySMqS4lSIlpwA18jGld5PqqWo57YtPBfa91gDNxCdPUEctKkBLTgHt+REx/jVxfFe/EtRTDbrh3IO42OwtiBeRRKxLEwhrXf4G/hwykz2bglkh1VXUacDmzL799gZtxp65lhKa3IOAGE8awGvvtaVI4GTfM39qZeQBwI4mf4FRSKwaNWi6MubrE/PYkzsM/j6n2caM4AXcCocrn+jPu6suUdsIW67djB5brLlaZLcWDwJdDBdJ1Pe7akBwtA36G7X5jRQ7DXY/ftFPYY8uypfh5yXluh3t8cIiWYz1unz1Hx+Cv9bwDNygzhZ2NMX4ndmCxW5BQg9Kexh2gPl7yfbOZxp0avc/zfH1YjNuQ+Lod5yLgOmAHT/OTCiawbSl+UXH+S3C37vGxRd0CvKdiHKEtxt/nHCy3YLt/sk/WFuTSyHFFFzpBwA0ovN9Yz6jdqlNqxBBSyOTolTXEvVH0fGNc340YUxKT2BbEdTXr2RO4yljXYLmJuCOEyzia8MnRKzcTL0mUIF1T2BbEak/1LQZ+iTuWGFXfNG6reaKnekOI0XIUJUmM3S1rgnwvQixbSTGa18JXh9Bt3bIA11dwOLAP7kvfAPwL+BMuif7jqc4QlgLXEv/Y4BjciYCTcGfLJLBtsG0pbkgVYIaWAk8St+UYLGsIm5y7GOP4fsAYCuXaUSjOMtwJi9gtx6ClmcQRnRIkX8cB15DgsWNDLCF9P4lG83a1YlDaCCfixqNtmzqQAYtxJ1B897hn+33nmiBt9kZgFQmex2f0OlySzEsdSAy5Jki2W5TA3gT8lOoDD2M5CjeAM3aSaBerxU4FVpJ/cvQsIk2SRJVrgrStBXkr7sKvYZfJ5moRYz5UPtcEaZPTgRXk22k7m4W4jtaxTJJcE6QtLchy4Aqaf8/fI3FJsnPqQHzLNUHa4Czc3Ueanhw9dZIk2w2iEqTYmbhHQ9+IuxmCb2cBlzF+y/8I3DLbNXUgTWUdi3VzqgCBiwvi+Qr+VuazcBdjpRxbFbrcBexWYpnsZpzv5SXm2Ui5J8glI2JaQf2zTGcz/snRK7/GvvuoBOmyJshNkePqAF83xHU91ccinUN7kqNXrJcsWxPkMuP8GivHBOkA3zLGNQP8Hti9ZB3nMvtFW+NYVhmXT7YJMm4HiWV1cLeSObfEew4Hfov92STn4RIw2zM1ATW+byTXBJmJUMcE7hLO91Z47364JDlhxDSTuAP+iyrMf1z47vyMsV5sJdcECW0C11y/u8Y8dsFdRPRVXnju/0Dc7XM+VGP+46CpowOek+sHCLmlmMR10L3Dw7w6wAdx/SbX4K5rPwTXsjRtXFUIjV8GsRPEuuKHSpAp3NCOt3ue73xc/4ZsrfG7WLm2ICFMAVcCb0sdSIsoQQLxvSCmcB19p3mer4xmXb+ir/hWbdjFmgJ+DLzF4zzFpvEtSK5nsXwtiF7LoeRIw7p+ZduCxE6QmC3IJO6YQ7tV6fjexVIL0lV3QUwAP0AH5Kk1/lqXcWxBOri7gC+vMQ/xw/cullqQrjoL4hLq9ZCLP0qQkkIviAuA91d8r/ing/RAqiyw84DzfQcitfhev8a+BbEquyDeRbtHzTaddrH6WD7kdIn5HU4LHu445pQgJVkXRO+Cp8aPGh1TvlfoViSIzxbk9cCrasQiYVm/R7UgJVkXhHrJ8+Z7xW9FgvhsQV5bJxAJTi1IBZYPaV0QC+oEIsFZE8R3InmTa4JYF1guz++TYs8ap1MLUpJ1QTwdNAqpy5ogakH6+GxB7q8TiAS32TidWpA+PhPkn3UCkeA2GqdTC9LHZ4L8sU4gEpw1QayUICWmAbitTiASXJkEsWwUlSBd1hbkTuB/NWKRsB4vMa3lOy8zRs+LFAnic0FsBq6qEYuEdWuJadWCdPkezfsJ4J6KsUgYM7gbZlxS4j1ZJkiKG8f5TpCHcAMWT8bdF3cKWA88ADyI6yuZwI38neiWye7fnb7X+//uN+y1os9S9Nlmhrxe5FncQ3ZCGRZf0Wv9pei1wc81hRtV/RRwL/Bwydiy3MUahwQBdzC4slukmbJsQcZhF0vGQ5YtSK4J0vj7KUlploveWtGCWLYC84NHITmZi23gqXXoijcpEsQygG3/4FFITqzfd/TBqSkSxPIhX80YPABSzBYbpyvT8ehFigSxnP6bQ7WHa0rzTADvM067LmQguViJ7ZnYG4CFiWKUeC7E/tz1VyaKMapPYV8gG4Ev4ToA2/ic8XE1CSwBVmNfFzaR4PZOKVa6Y4EbK7xvA+4psutxZ8Im+8oUz/eS93rK+3vPrb3m/WYGfo7636ie56Lphs1/My88U9MfZ6fgtcHprNMz5LWi2HpxTxf8Pt1XtvT97JXeZ5rG7TrvDhwAbD+k7mHuAI4q+Z7aUvSk3w48Acwr+b4dgYP8hyMNsTpFpSkO0jfinhkoYjWNe3x3dKlu2nARCTp9pLFWAGtTVJxqSMejwA4k2KeUxnkc9xDW6H0gqc0B1mA/i6HSvrIFeDMtNo9yp/pU2lOeAc5AmAQ+imtCU38pKnmUO4FDka3sCnwcuJv0X5BK/PIkbpTFcWQk197pvXF3bj8Yd4PqPXAdS3Mp7vwa/Fn02qjPWvS+QTOzRt1sZT7f4LQzI/43ON0m3O7TI7jLou8F7sLd48x6q1IRERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERFpj/8Dn97MlQgvIhQAAAAASUVORK5CYII=",VZ=({onSubmit:e})=>{const[t,n]=k.useState({url:"",database:"",username:"",password:""}),[r,i]=k.useState(!1),o=c=>{const{name:l,value:u}=c.target;n(a=>({...a,[l]:u}))},s=async c=>{c.preventDefault(),i(!0);try{await e(t)}finally{i(!1)}};return P.jsxs("form",{onSubmit:s,className:"space-y-4",children:[P.jsxs("div",{className:"space-y-2",children:[P.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700",children:"Odoo URL"}),P.jsx("input",{type:"url",id:"url",name:"url",placeholder:"https://mycompany.odoo.com",value:t.url,onChange:o,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:r})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx("label",{htmlFor:"database",className:"block text-sm font-medium text-gray-700",children:"Database Name"}),P.jsx("input",{type:"text",id:"database",name:"database",placeholder:"mycompany_prod",value:t.database,onChange:o,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:r})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),P.jsx("input",{type:"email",id:"username",name:"username",placeholder:"admin@mycompany.com",value:t.username,onChange:o,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:r})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password/API Key"}),P.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:o,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:r})]}),P.jsx("button",{type:"submit",className:"w-full px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",disabled:r,children:r?P.jsxs(P.Fragment,{children:[P.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[P.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),P.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):"Connect Odoo"})]})},jZ=({integration:e,onClose:t,onConnect:n})=>{const r=async i=>{await new Promise(o=>setTimeout(o,2e3)),n==null||n(e),t()};return P.jsx("div",{className:"fixed inset-0 flex justify-center items-center w-screen h-screen bg-black bg-opacity-50 z-[60]",children:P.jsxs("div",{className:"relative p-8 bg-white rounded-3xl max-w-[500px] shadow-[0_4px_24px_rgba(0,0,0,0.1)] w-[90%]",children:[P.jsx("button",{onClick:t,className:"absolute right-4 top-4 p-2 rounded-full hover:bg-gray-100 transition-colors",children:P.jsx(FE,{className:"w-5 h-5 text-gray-500"})}),P.jsxs("div",{className:"flex flex-col gap-6",children:[P.jsxs("div",{className:"flex items-center gap-4",children:[P.jsx("img",{src:e.icon,alt:`${e.name} icon`,className:"w-12 h-12"}),P.jsx("h2",{className:"text-2xl font-semibold text-neutral-900",children:e.name})]}),P.jsx("p",{className:"text-neutral-600",children:e.description}),e.isAvailable?e.name==="Odoo"?P.jsx(VZ,{onSubmit:r}):P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[P.jsx("h3",{className:"font-medium text-blue-900",children:"How it works"}),P.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Connect your ",e.name," account to sync your data automatically."]})]}),P.jsxs("button",{className:"w-full px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",onClick:()=>{n==null||n(e),t()},children:["Connect ",e.name]})]}):P.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[P.jsx("p",{className:"text-red-600 font-medium",children:"This integration is coming soon!"}),P.jsx("p",{className:"text-sm text-red-500 mt-1",children:"We're working hard to bring you this integration. Stay tuned for updates."})]})]})]})})},zZ=({integration:e,isHovering:t,setIsHovering:n,onClick:r})=>P.jsxs("article",{className:`flex gap-4 items-center p-4 rounded-xl border cursor-pointer transition-all ${e.isAvailable?"":"opacity-50 cursor-not-allowed"} ${e.isConnected?"border-primary-500 bg-primary-50":""}`,onMouseEnter:()=>e.isAvailable&&n(e.name),onMouseLeave:()=>n(null),onClick:()=>e.isAvailable&&r(),style:{background:t===e.name?"rgb(var(--primary-200))":e.isConnected?"rgb(var(--primary-300))":"white"},children:[P.jsx("img",{className:`w-10 h-10 ${e.isAvailable?"":"grayscale"}`,src:e.icon,alt:`${e.name} icon`}),P.jsxs("div",{className:"flex flex-col",children:[P.jsx("h3",{className:"text-base font-medium text-neutral-900",children:e.name}),P.jsx("p",{className:"text-sm text-stone-500",children:e.description}),e.isConnected&&P.jsx("p",{className:"text-xs text-primary-600 mt-1",children:"Connected"})]})]}),qZ=({integrations:e,isHovering:t,setIsHovering:n,onConnect:r})=>{const[i,o]=k.useState(null),s=c=>{o(c)};return P.jsxs("section",{className:"flex flex-col gap-4",children:[P.jsxs("div",{className:"flex flex-col gap-2",children:[P.jsx("label",{className:"text-sm font-medium text-zinc-800",children:"Integrations"}),P.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.map(c=>P.jsx(zZ,{integration:c,isHovering:t,setIsHovering:n,onClick:()=>s(c)},c.name))})]}),i&&P.jsx(jZ,{integration:i,onClose:()=>o(null),onConnect:r})]})},WZ=({onClose:e})=>{const[t,n]=k.useState(""),[r,i]=k.useState($Z),[o,s]=k.useState(null),[c,l]=k.useState([{name:"Google Sheets",icon:DZ,description:"Connect your spreadsheets",isAvailable:!0},{name:"Odoo",icon:FZ,description:"ERP integration",isAvailable:!0},{name:"Shopify",icon:UZ,description:"E-commerce platform",isAvailable:!1},{name:"QuickBooks",icon:BZ,description:"Accounting software",isAvailable:!1}]),u=a=>{l(d=>d.map(h=>h.name===a.name?{...h,isConnected:!0}:h))};return P.jsx("main",{className:"fixed inset-0 flex justify-center items-center w-screen h-screen bg-black bg-opacity-50 z-50",children:P.jsxs("section",{className:"relative p-8 bg-white rounded-3xl max-w-[600px] shadow-[0_4px_24px_rgba(0,0,0,0.1)] w-[90%]",children:[P.jsx("button",{onClick:e,className:"absolute right-4 top-4 p-2 rounded-full hover:bg-gray-100 transition-colors",children:P.jsx(FE,{className:"w-5 h-5 text-gray-500"})}),P.jsxs("div",{className:"flex flex-col gap-6",children:[P.jsx("h1",{className:"text-2xl font-semibold text-neutral-900",children:"Set up your business"}),P.jsx(LZ,{businessName:t,setBusinessName:n,logoUrl:r,setLogoUrl:i,isHovering:o,setIsHovering:s}),P.jsx(qZ,{integrations:c,isHovering:o,setIsHovering:s,onConnect:u})]})]})})},HZ=()=>{const[e,t]=k.useState("testgoogle@gmail.com"),[n,r]=k.useState("password"),[i,o]=k.useState(null),[s,c]=k.useState(!1),{signIn:l}=kf(),u=async d=>{d.preventDefault(),o(null),c(!0);try{const h=await l({email:e,password:n});console.log(h)}catch{o("Invalid email or password")}finally{c(!1)}},a=async()=>{};return P.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[P.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity"}),P.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:P.jsx("div",{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:P.jsxs("div",{className:"mt-3 text-center sm:mt-5",children:[P.jsx("h3",{className:"text-2xl font-semibold leading-6 text-gray-900",children:"Sign in"}),P.jsxs("div",{className:"mt-6",children:[P.jsxs("form",{onSubmit:u,className:"space-y-6",children:[P.jsx("div",{children:P.jsx("input",{type:"email",required:!0,className:"block w-full rounded-md border-0 px-3 py-2.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"Email address",value:e,onChange:d=>t(d.target.value)})}),P.jsx("div",{children:P.jsx("input",{type:"password",required:!0,className:"block w-full rounded-md border-0 px-3 py-2.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"Password",value:n,onChange:d=>r(d.target.value)})}),i&&P.jsx("div",{className:"text-red-500 text-sm text-center",children:i}),P.jsx("button",{type:"submit",disabled:s,className:"w-full rounded-md bg-cyan-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-cyan-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-600",children:s?"Signing in...":"Sign in"})]}),P.jsxs("div",{className:"mt-6",children:[P.jsxs("div",{className:"relative",children:[P.jsx("div",{className:"absolute inset-0 flex items-center",children:P.jsx("div",{className:"w-full border-t border-gray-300"})}),P.jsx("div",{className:"relative flex justify-center text-sm",children:P.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or"})})]}),P.jsx("div",{className:"mt-6",children:P.jsxs("button",{type:"button",onClick:a,disabled:s,className:"flex w-full items-center justify-center gap-3 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[P.jsxs("svg",{className:"h-5 w-5","aria-hidden":"true",viewBox:"0 0 24 24",children:[P.jsx("path",{d:"M12.0003 4.75C13.7703 4.75 15.3553 5.36002 16.6053 6.54998L20.0303 3.125C17.9502 1.19 15.2353 0 12.0003 0C7.31028 0 3.25527 2.69 1.28027 6.60998L5.27028 9.70498C6.21525 6.86002 8.87028 4.75 12.0003 4.75Z",fill:"#EA4335"}),P.jsx("path",{d:"M23.49 12.275C23.49 11.49 23.415 10.73 23.3 10H12V14.51H18.47C18.18 15.99 17.34 17.25 16.08 18.1L19.945 21.1C22.2 19.01 23.49 15.92 23.49 12.275Z",fill:"#4285F4"}),P.jsx("path",{d:"M5.26498 14.2949C5.02498 13.5699 4.88501 12.7999 4.88501 11.9999C4.88501 11.1999 5.01998 10.4299 5.26498 9.7049L1.275 6.60986C0.46 8.22986 0 10.0599 0 11.9999C0 13.9399 0.46 15.7699 1.28 17.3899L5.26498 14.2949Z",fill:"#FBBC05"}),P.jsx("path",{d:"M12.0004 24.0001C15.2404 24.0001 17.9654 22.935 19.9454 21.095L16.0804 18.095C15.0054 18.82 13.6204 19.245 12.0004 19.245C8.8704 19.245 6.21537 17.135 5.2654 14.29L1.27539 17.385C3.25539 21.31 7.3104 24.0001 12.0004 24.0001Z",fill:"#34A853"})]}),"Continue with Google"]})})]})]})]})})})]})},GZ=()=>{const{isAuthenticated:e}=kf(),[t,n]=k.useState(!0);return e?t?P.jsx(WZ,{onClose:()=>n(!1)}):P.jsx(EO,{defaultOpen:!0,children:P.jsx(MZ,{})}):P.jsx(HZ,{})};lD.createRoot(document.getElementById("root")).render(P.jsx(JW,{children:P.jsx(IZ,{children:P.jsx(GZ,{})})}));export{Aa as g};
